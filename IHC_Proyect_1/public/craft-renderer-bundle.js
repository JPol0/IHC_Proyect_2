(function(){"use strict";function AC(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in r)){const i=Object.getOwnPropertyDescriptor(s,l);i&&Object.defineProperty(r,l,i.get?i:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}function _r(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Dp(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function s(){var l=!1;try{l=this instanceof s}catch{}return l?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var l=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:function(){return r[s]}})}),n}var hc={exports:{}},zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function RC(){if(Lp)return zo;Lp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,i){var d=null;if(i!==void 0&&(d=""+i),l.key!==void 0&&(d=""+l.key),"key"in l){i={};for(var f in l)f!=="key"&&(i[f]=l[f])}else i=l;return l=i.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:i}}return zo.Fragment=e,zo.jsx=n,zo.jsxs=n,zo}var Up;function zC(){return Up||(Up=1,hc.exports=RC()),hc.exports}var a=zC(),mc={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function MC(){if(Ip)return ke;Ip=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function j(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,T={};function z(_,k,M){this.props=_,this.context=k,this.refs=T,this.updater=M||C}z.prototype.isReactComponent={},z.prototype.setState=function(_,k){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,k,"setState")},z.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function S(){}S.prototype=z.prototype;function R(_,k,M){this.props=_,this.context=k,this.refs=T,this.updater=M||C}var I=R.prototype=new S;I.constructor=R,w(I,z.prototype),I.isPureReactComponent=!0;var F=Array.isArray;function E(){}var L={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function Y(_,k,M){var q=M.ref;return{$$typeof:r,type:_,key:k,ref:q!==void 0?q:null,props:M}}function Q(_,k){return Y(_.type,k,_.props)}function X(_){return typeof _=="object"&&_!==null&&_.$$typeof===r}function H(_){var k={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(M){return k[M]})}var V=/\/+/g;function le(_,k){return typeof _=="object"&&_!==null&&_.key!=null?H(""+_.key):k.toString(36)}function K(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(E,E):(_.status="pending",_.then(function(k){_.status==="pending"&&(_.status="fulfilled",_.value=k)},function(k){_.status==="pending"&&(_.status="rejected",_.reason=k)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function O(_,k,M,q,oe){var ie=typeof _;(ie==="undefined"||ie==="boolean")&&(_=null);var he=!1;if(_===null)he=!0;else switch(ie){case"bigint":case"string":case"number":he=!0;break;case"object":switch(_.$$typeof){case r:case e:he=!0;break;case v:return he=_._init,O(he(_._payload),k,M,q,oe)}}if(he)return oe=oe(_),he=q===""?"."+le(_,0):q,F(oe)?(M="",he!=null&&(M=he.replace(V,"$&/")+"/"),O(oe,k,M,"",function($){return $})):oe!=null&&(X(oe)&&(oe=Q(oe,M+(oe.key==null||_&&_.key===oe.key?"":(""+oe.key).replace(V,"$&/")+"/")+he)),k.push(oe)),1;he=0;var ae=q===""?".":q+":";if(F(_))for(var A=0;A<_.length;A++)q=_[A],ie=ae+le(q,A),he+=O(q,k,M,ie,oe);else if(A=j(_),typeof A=="function")for(_=A.call(_),A=0;!(q=_.next()).done;)q=q.value,ie=ae+le(q,A++),he+=O(q,k,M,ie,oe);else if(ie==="object"){if(typeof _.then=="function")return O(K(_),k,M,q,oe);throw k=String(_),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return he}function J(_,k,M){if(_==null)return _;var q=[],oe=0;return O(_,q,"","",function(ie){return k.call(M,ie,oe++)}),q}function te(_){if(_._status===-1){var k=_._result;k=k(),k.then(function(M){(_._status===0||_._status===-1)&&(_._status=1,_._result=M)},function(M){(_._status===0||_._status===-1)&&(_._status=2,_._result=M)}),_._status===-1&&(_._status=0,_._result=k)}if(_._status===1)return _._result.default;throw _._result}var ne=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},re={map:J,forEach:function(_,k,M){J(_,function(){k.apply(this,arguments)},M)},count:function(_){var k=0;return J(_,function(){k++}),k},toArray:function(_){return J(_,function(k){return k})||[]},only:function(_){if(!X(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return ke.Activity=b,ke.Children=re,ke.Component=z,ke.Fragment=n,ke.Profiler=l,ke.PureComponent=R,ke.StrictMode=s,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ke.__COMPILER_RUNTIME={__proto__:null,c:function(_){return L.H.useMemoCache(_)}},ke.cache=function(_){return function(){return _.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(_,k,M){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var q=w({},_.props),oe=_.key;if(k!=null)for(ie in k.key!==void 0&&(oe=""+k.key),k)!P.call(k,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&k.ref===void 0||(q[ie]=k[ie]);var ie=arguments.length-2;if(ie===1)q.children=M;else if(1<ie){for(var he=Array(ie),ae=0;ae<ie;ae++)he[ae]=arguments[ae+2];q.children=he}return Y(_.type,oe,q)},ke.createContext=function(_){return _={$$typeof:d,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:i,_context:_},_},ke.createElement=function(_,k,M){var q,oe={},ie=null;if(k!=null)for(q in k.key!==void 0&&(ie=""+k.key),k)P.call(k,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(oe[q]=k[q]);var he=arguments.length-2;if(he===1)oe.children=M;else if(1<he){for(var ae=Array(he),A=0;A<he;A++)ae[A]=arguments[A+2];oe.children=ae}if(_&&_.defaultProps)for(q in he=_.defaultProps,he)oe[q]===void 0&&(oe[q]=he[q]);return Y(_,ie,oe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(_){return{$$typeof:f,render:_}},ke.isValidElement=X,ke.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:te}},ke.memo=function(_,k){return{$$typeof:m,type:_,compare:k===void 0?null:k}},ke.startTransition=function(_){var k=L.T,M={};L.T=M;try{var q=_(),oe=L.S;oe!==null&&oe(M,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(E,ne)}catch(ie){ne(ie)}finally{k!==null&&M.types!==null&&(k.types=M.types),L.T=k}},ke.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ke.use=function(_){return L.H.use(_)},ke.useActionState=function(_,k,M){return L.H.useActionState(_,k,M)},ke.useCallback=function(_,k){return L.H.useCallback(_,k)},ke.useContext=function(_){return L.H.useContext(_)},ke.useDebugValue=function(){},ke.useDeferredValue=function(_,k){return L.H.useDeferredValue(_,k)},ke.useEffect=function(_,k){return L.H.useEffect(_,k)},ke.useEffectEvent=function(_){return L.H.useEffectEvent(_)},ke.useId=function(){return L.H.useId()},ke.useImperativeHandle=function(_,k,M){return L.H.useImperativeHandle(_,k,M)},ke.useInsertionEffect=function(_,k){return L.H.useInsertionEffect(_,k)},ke.useLayoutEffect=function(_,k){return L.H.useLayoutEffect(_,k)},ke.useMemo=function(_,k){return L.H.useMemo(_,k)},ke.useOptimistic=function(_,k){return L.H.useOptimistic(_,k)},ke.useReducer=function(_,k,M){return L.H.useReducer(_,k,M)},ke.useRef=function(_){return L.H.useRef(_)},ke.useState=function(_){return L.H.useState(_)},ke.useSyncExternalStore=function(_,k,M){return L.H.useSyncExternalStore(_,k,M)},ke.useTransition=function(){return L.H.useTransition()},ke.version="19.2.0",ke}var qp;function pc(){return qp||(qp=1,mc.exports=MC()),mc.exports}var D=pc();const xe=_r(D);var gc={exports:{}},Mo={},vc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function DC(){return Bp||(Bp=1,(function(r){function e(O,J){var te=O.length;O.push(J);e:for(;0<te;){var ne=te-1>>>1,re=O[ne];if(0<l(re,J))O[ne]=J,O[te]=re,te=ne;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var J=O[0],te=O.pop();if(te!==J){O[0]=te;e:for(var ne=0,re=O.length,_=re>>>1;ne<_;){var k=2*(ne+1)-1,M=O[k],q=k+1,oe=O[q];if(0>l(M,te))q<re&&0>l(oe,M)?(O[ne]=oe,O[q]=te,ne=q):(O[ne]=M,O[k]=te,ne=k);else if(q<re&&0>l(oe,te))O[ne]=oe,O[q]=te,ne=q;else break e}}return J}function l(O,J){var te=O.sortIndex-J.sortIndex;return te!==0?te:O.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],m=[],v=1,b=null,y=3,j=!1,C=!1,w=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(O){for(var J=n(m);J!==null;){if(J.callback===null)s(m);else if(J.startTime<=O)s(m),J.sortIndex=J.expirationTime,e(p,J);else break;J=n(m)}}function F(O){if(w=!1,I(O),!C)if(n(p)!==null)C=!0,E||(E=!0,H());else{var J=n(m);J!==null&&K(F,J.startTime-O)}}var E=!1,L=-1,P=5,Y=-1;function Q(){return T?!0:!(r.unstable_now()-Y<P)}function X(){if(T=!1,E){var O=r.unstable_now();Y=O;var J=!0;try{e:{C=!1,w&&(w=!1,S(L),L=-1),j=!0;var te=y;try{t:{for(I(O),b=n(p);b!==null&&!(b.expirationTime>O&&Q());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,y=b.priorityLevel;var re=ne(b.expirationTime<=O);if(O=r.unstable_now(),typeof re=="function"){b.callback=re,I(O),J=!0;break t}b===n(p)&&s(p),I(O)}else s(p);b=n(p)}if(b!==null)J=!0;else{var _=n(m);_!==null&&K(F,_.startTime-O),J=!1}}break e}finally{b=null,y=te,j=!1}J=void 0}}finally{J?H():E=!1}}}var H;if(typeof R=="function")H=function(){R(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,le=V.port2;V.port1.onmessage=X,H=function(){le.postMessage(null)}}else H=function(){z(X,0)};function K(O,J){L=z(function(){O(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(O){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var te=y;y=J;try{return O()}finally{y=te}},r.unstable_requestPaint=function(){T=!0},r.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=y;y=O;try{return J()}finally{y=te}},r.unstable_scheduleCallback=function(O,J,te){var ne=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=te+re,O={id:v++,callback:J,priorityLevel:O,startTime:te,expirationTime:re,sortIndex:-1},te>ne?(O.sortIndex=te,e(m,O),n(p)===null&&O===n(m)&&(w?(S(L),L=-1):w=!0,K(F,te-ne))):(O.sortIndex=re,e(p,O),C||j||(C=!0,E||(E=!0,H()))),O},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(O){var J=y;return function(){var te=y;y=J;try{return O.apply(this,arguments)}finally{y=te}}}})(bc)),bc}var Pp;function LC(){return Pp||(Pp=1,vc.exports=DC()),vc.exports}var xc={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function UC(){if(Hp)return It;Hp=1;var r=pc();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function i(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,It.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return i(p,m,null,v)},It.flushSync=function(p){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=m,s.p=v,s.d.f()}},It.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},It.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},It.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:j}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:y,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},It.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},It.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},It.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=f(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},It.requestFormReset=function(p){s.d.r(p)},It.unstable_batchedUpdates=function(p,m){return p(m)},It.useFormState=function(p,m,v){return d.H.useFormState(p,m,v)},It.useFormStatus=function(){return d.H.useHostTransitionStatus()},It.version="19.2.0",It}var $p;function Yp(){if($p)return xc.exports;$p=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xc.exports=UC(),xc.exports}var Fp;function IC(){if(Fp)return Mo;Fp=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=LC(),e=pc(),n=Yp();function s(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i(t){var o=t,c=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(c=o.return),t=o.return;while(t)}return o.tag===3?c:null}function d(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function f(t){if(t.tag===31){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function p(t){if(i(t)!==t)throw Error(s(188))}function m(t){var o=t.alternate;if(!o){if(o=i(t),o===null)throw Error(s(188));return o!==t?null:t}for(var c=t,u=o;;){var h=c.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){c=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===c)return p(h),t;if(g===u)return p(h),o;g=g.sibling}throw Error(s(188))}if(c.return!==u.return)c=h,u=g;else{for(var x=!1,N=h.child;N;){if(N===c){x=!0,c=h,u=g;break}if(N===u){x=!0,u=h,c=g;break}N=N.sibling}if(!x){for(N=g.child;N;){if(N===c){x=!0,c=g,u=h;break}if(N===u){x=!0,u=g,c=h;break}N=N.sibling}if(!x)throw Error(s(189))}}if(c.alternate!==u)throw Error(s(190))}if(c.tag!==3)throw Error(s(188));return c.stateNode.current===c?t:o}function v(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=v(t),o!==null)return o;t=t.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function le(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case z:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case E:return"SuspenseList";case Y:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case R:return t.displayName||"Context";case S:return(t._context.displayName||"Context")+".Consumer";case I:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case L:return o=t.displayName||null,o!==null?o:le(t.type)||"Memo";case P:o=t._payload,t=t._init;try{return le(t(o))}catch{}}return null}var K=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ne=[],re=-1;function _(t){return{current:t}}function k(t){0>re||(t.current=ne[re],ne[re]=null,re--)}function M(t,o){re++,ne[re]=t.current,t.current=o}var q=_(null),oe=_(null),ie=_(null),he=_(null);function ae(t,o){switch(M(ie,o),M(oe,t),M(q,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?eC(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=eC(o),t=tC(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(q),M(q,t)}function A(){k(q),k(oe),k(ie)}function $(t){t.memoizedState!==null&&M(he,t);var o=q.current,c=tC(o,t.type);o!==c&&(M(oe,t),M(q,c))}function de(t){oe.current===t&&(k(q),k(oe)),he.current===t&&(k(he),Vs._currentValue=te)}var me,ge;function Ne(t){if(me===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);me=o&&o[1]||"",ge=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+t+ge}var ve=!1;function Te(t,o){if(!t||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(se){var ee=se}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(se){ee=se}t.call(fe.prototype)}}else{try{throw Error()}catch(se){ee=se}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],N=g[1];if(x&&N){var U=x.split(`
`),Z=N.split(`
`);for(h=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(u===U.length||h===Z.length)for(u=U.length-1,h=Z.length-1;1<=u&&0<=h&&U[u]!==Z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(U[u]!==Z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||U[u]!==Z[h]){var ce=`
`+U[u].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=u&&0<=h);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(c=t?t.displayName||t.name:"")?Ne(c):""}function ye(t,o){switch(t.tag){case 26:case 27:case 5:return Ne(t.type);case 16:return Ne("Lazy");case 13:return t.child!==o&&o!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Te(t.type,!1);case 11:return Te(t.type.render,!1);case 1:return Te(t.type,!0);case 31:return Ne("Activity");default:return""}}function Ae(t){try{var o="",c=null;do o+=ye(t,c),c=t,t=t.return;while(t);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,oa=r.unstable_cancelCallback,pa=r.unstable_shouldYield,_t=r.unstable_requestPaint,mt=r.unstable_now,Wa=r.unstable_getCurrentPriorityLevel,Gr=r.unstable_ImmediatePriority,Tt=r.unstable_UserBlockingPriority,Rt=r.unstable_NormalPriority,Cn=r.unstable_LowPriority,za=r.unstable_IdlePriority,wn=r.log,Sn=r.unstable_setDisableYieldValue,Ct=null,et=null;function ga(t){if(typeof wn=="function"&&Sn(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ct,t)}catch{}}var Et=Math.clz32?Math.clz32:CA,Jl=Math.log,NA=Math.LN2;function CA(t){return t>>>=0,t===0?32:31-(Jl(t)/NA|0)|0}var Wl=256,Ql=262144,Zl=4194304;function ir(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,o,c){var u=t.pendingLanes;if(u===0)return 0;var h=0,g=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var N=u&134217727;return N!==0?(u=N&~g,u!==0?h=ir(u):(x&=N,x!==0?h=ir(x):c||(c=N&~t,c!==0&&(h=ir(c))))):(N=u&~g,N!==0?h=ir(N):x!==0?h=ir(x):c||(c=u&~t,c!==0&&(h=ir(c)))),h===0?0:o!==0&&o!==h&&(o&g)===0&&(g=h&-h,c=o&-o,g>=c||g===32&&(c&4194048)!==0)?o:h}function ls(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function wA(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dy(){var t=Zl;return Zl<<=1,(Zl&62914560)===0&&(Zl=4194304),t}function Ch(t){for(var o=[],c=0;31>c;c++)o.push(t);return o}function is(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function SA(t,o,c,u,h,g){var x=t.pendingLanes;t.pendingLanes=c,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=c,t.entangledLanes&=c,t.errorRecoveryDisabledLanes&=c,t.shellSuspendCounter=0;var N=t.entanglements,U=t.expirationTimes,Z=t.hiddenUpdates;for(c=x&~c;0<c;){var ce=31-Et(c),fe=1<<ce;N[ce]=0,U[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var se=ee[ce];se!==null&&(se.lane&=-536870913)}c&=~fe}u!==0&&Ly(t,u,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(x&~o))}function Ly(t,o,c){t.pendingLanes|=o,t.suspendedLanes&=~o;var u=31-Et(o);t.entangledLanes|=o,t.entanglements[u]=t.entanglements[u]|1073741824|c&261930}function Uy(t,o){var c=t.entangledLanes|=o;for(t=t.entanglements;c;){var u=31-Et(c),h=1<<u;h&o|t[u]&o&&(t[u]|=o),c&=~h}}function Iy(t,o){var c=o&-o;return c=(c&42)!==0?1:wh(c),(c&(t.suspendedLanes|o))!==0?0:c}function wh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sh(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qy(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:wC(t.type))}function By(t,o){var c=J.p;try{return J.p=t,o()}finally{J.p=c}}var _n=Math.random().toString(36).slice(2),zt="__reactFiber$"+_n,Xt="__reactProps$"+_n,Vr="__reactContainer$"+_n,_h="__reactEvents$"+_n,_A="__reactListeners$"+_n,TA="__reactHandles$"+_n,Py="__reactResources$"+_n,cs="__reactMarker$"+_n;function Th(t){delete t[zt],delete t[Xt],delete t[_h],delete t[_A],delete t[TA]}function Kr(t){var o=t[zt];if(o)return o;for(var c=t.parentNode;c;){if(o=c[Vr]||c[zt]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(t=iC(t);t!==null;){if(c=t[zt])return c;t=iC(t)}return o}t=c,c=t.parentNode}return null}function Jr(t){if(t=t[zt]||t[Vr]){var o=t.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return t}return null}function us(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(s(33))}function Wr(t){var o=t[Py];return o||(o=t[Py]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function kt(t){t[cs]=!0}var Hy=new Set,$y={};function cr(t,o){Qr(t,o),Qr(t+"Capture",o)}function Qr(t,o){for($y[t]=o,t=0;t<o.length;t++)Hy.add(o[t])}var EA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yy={},Fy={};function kA(t){return Me.call(Fy,t)?!0:Me.call(Yy,t)?!1:EA.test(t)?Fy[t]=!0:(Yy[t]=!0,!1)}function ti(t,o,c){if(kA(o))if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+c)}}function ai(t,o,c){if(c===null)t.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+c)}}function Qa(t,o,c,u){if(u===null)t.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(c);return}t.setAttributeNS(o,c,""+u)}}function va(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xy(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function OA(t,o,c){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,o);if(!t.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(t,o,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function Eh(t){if(!t._valueTracker){var o=Xy(t)?"checked":"value";t._valueTracker=OA(t,o,""+t[o])}}function Gy(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var c=o.getValue(),u="";return t&&(u=Xy(t)?t.checked?"true":"false":t.value),t=u,t!==c?(o.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var AA=/[\n"\\]/g;function ba(t){return t.replace(AA,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function kh(t,o,c,u,h,g,x,N){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),o!=null?x==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+va(o)):t.value!==""+va(o)&&(t.value=""+va(o)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),o!=null?Oh(t,x,va(o)):c!=null?Oh(t,x,va(c)):u!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+va(N):t.removeAttribute("name")}function Vy(t,o,c,u,h,g,x,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),o!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||o!=null)){Eh(t);return}c=c!=null?""+va(c):"",o=o!=null?""+va(o):c,N||o===t.value||(t.value=o),t.defaultValue=o}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=N?t.checked:!!u,t.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),Eh(t)}function Oh(t,o,c){o==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+c||(t.defaultValue=""+c)}function Zr(t,o,c,u){if(t=t.options,o){o={};for(var h=0;h<c.length;h++)o["$"+c[h]]=!0;for(c=0;c<t.length;c++)h=o.hasOwnProperty("$"+t[c].value),t[c].selected!==h&&(t[c].selected=h),h&&u&&(t[c].defaultSelected=!0)}else{for(c=""+va(c),o=null,h=0;h<t.length;h++){if(t[h].value===c){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}o!==null||t[h].disabled||(o=t[h])}o!==null&&(o.selected=!0)}}function Ky(t,o,c){if(o!=null&&(o=""+va(o),o!==t.value&&(t.value=o),c==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=c!=null?""+va(c):""}function Jy(t,o,c,u){if(o==null){if(u!=null){if(c!=null)throw Error(s(92));if(K(u)){if(1<u.length)throw Error(s(93));u=u[0]}c=u}c==null&&(c=""),o=c}c=va(o),t.defaultValue=c,u=t.textContent,u===c&&u!==""&&u!==null&&(t.value=u),Eh(t)}function eo(t,o){if(o){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=o;return}}t.textContent=o}var RA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wy(t,o,c){var u=o.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":u?t.setProperty(o,c):typeof c!="number"||c===0||RA.has(o)?o==="float"?t.cssFloat=c:t[o]=(""+c).trim():t[o]=c+"px"}function Qy(t,o,c){if(o!=null&&typeof o!="object")throw Error(s(62));if(t=t.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in o)u=o[h],o.hasOwnProperty(h)&&c[h]!==u&&Wy(t,h,u)}else for(var g in o)o.hasOwnProperty(g)&&Wy(t,g,o[g])}function Ah(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return MA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Za(){}var Rh=null;function zh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var to=null,ao=null;function Zy(t){var o=Jr(t);if(o&&(t=o.stateNode)){var c=t[Xt]||null;e:switch(t=o.stateNode,o.type){case"input":if(kh(t,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),o=c.name,c.type==="radio"&&o!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ba(""+o)+'"][type="radio"]'),o=0;o<c.length;o++){var u=c[o];if(u!==t&&u.form===t.form){var h=u[Xt]||null;if(!h)throw Error(s(90));kh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<c.length;o++)u=c[o],u.form===t.form&&Gy(u)}break e;case"textarea":Ky(t,c.value,c.defaultValue);break e;case"select":o=c.value,o!=null&&Zr(t,!!c.multiple,o,!1)}}}var Mh=!1;function ej(t,o,c){if(Mh)return t(o,c);Mh=!0;try{var u=t(o);return u}finally{if(Mh=!1,(to!==null||ao!==null)&&(Fi(),to&&(o=to,t=ao,ao=to=null,Zy(o),t)))for(o=0;o<t.length;o++)Zy(t[o])}}function ds(t,o){var c=t.stateNode;if(c===null)return null;var u=c[Xt]||null;if(u===null)return null;c=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(s(231,o,typeof c));return c}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dh=!1;if(en)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Dh=!1}var Tn=null,Lh=null,oi=null;function tj(){if(oi)return oi;var t,o=Lh,c=o.length,u,h="value"in Tn?Tn.value:Tn.textContent,g=h.length;for(t=0;t<c&&o[t]===h[t];t++);var x=c-t;for(u=1;u<=x&&o[c-u]===h[g-u];u++);return oi=h.slice(t,1<u?1-u:void 0)}function si(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function aj(){return!1}function Gt(t){function o(c,u,h,g,x){this._reactName=c,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(c=t[N],this[N]=c?c(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?li:aj,this.isPropagationStopped=aj,this}return b(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Gt(ur),hs=b({},ur,{view:0,detail:0}),DA=Gt(hs),Uh,Ih,ms,ci=b({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ms&&(ms&&t.type==="mousemove"?(Uh=t.screenX-ms.screenX,Ih=t.screenY-ms.screenY):Ih=Uh=0,ms=t),Uh)},movementY:function(t){return"movementY"in t?t.movementY:Ih}}),nj=Gt(ci),LA=b({},ci,{dataTransfer:0}),UA=Gt(LA),IA=b({},hs,{relatedTarget:0}),qh=Gt(IA),qA=b({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),BA=Gt(qA),PA=b({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HA=Gt(PA),$A=b({},ur,{data:0}),rj=Gt($A),YA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GA(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=XA[t])?!!o[t]:!1}function Bh(){return GA}var VA=b({},hs,{key:function(t){if(t.key){var o=YA[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=si(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(t){return t.type==="keypress"?si(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?si(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KA=Gt(VA),JA=b({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oj=Gt(JA),WA=b({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),QA=Gt(WA),ZA=b({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),eR=Gt(ZA),tR=b({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aR=Gt(tR),nR=b({},ur,{newState:0,oldState:0}),rR=Gt(nR),oR=[9,13,27,32],Ph=en&&"CompositionEvent"in window,ps=null;en&&"documentMode"in document&&(ps=document.documentMode);var sR=en&&"TextEvent"in window&&!ps,sj=en&&(!Ph||ps&&8<ps&&11>=ps),lj=" ",ij=!1;function cj(t,o){switch(t){case"keyup":return oR.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function lR(t,o){switch(t){case"compositionend":return uj(o);case"keypress":return o.which!==32?null:(ij=!0,lj);case"textInput":return t=o.data,t===lj&&ij?null:t;default:return null}}function iR(t,o){if(no)return t==="compositionend"||!Ph&&cj(t,o)?(t=tj(),oi=Lh=Tn=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return sj&&o.locale!=="ko"?null:o.data;default:return null}}var cR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dj(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!cR[t.type]:o==="textarea"}function fj(t,o,c,u){to?ao?ao.push(u):ao=[u]:to=u,o=Qi(o,"onChange"),0<o.length&&(c=new ii("onChange","change",null,c,u),t.push({event:c,listeners:o}))}var gs=null,vs=null;function uR(t){V1(t,0)}function ui(t){var o=us(t);if(Gy(o))return t}function hj(t,o){if(t==="change")return o}var mj=!1;if(en){var Hh;if(en){var $h="oninput"in document;if(!$h){var pj=document.createElement("div");pj.setAttribute("oninput","return;"),$h=typeof pj.oninput=="function"}Hh=$h}else Hh=!1;mj=Hh&&(!document.documentMode||9<document.documentMode)}function gj(){gs&&(gs.detachEvent("onpropertychange",vj),vs=gs=null)}function vj(t){if(t.propertyName==="value"&&ui(vs)){var o=[];fj(o,vs,t,zh(t)),ej(uR,o)}}function dR(t,o,c){t==="focusin"?(gj(),gs=o,vs=c,gs.attachEvent("onpropertychange",vj)):t==="focusout"&&gj()}function fR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ui(vs)}function hR(t,o){if(t==="click")return ui(o)}function mR(t,o){if(t==="input"||t==="change")return ui(o)}function pR(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var sa=typeof Object.is=="function"?Object.is:pR;function bs(t,o){if(sa(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var c=Object.keys(t),u=Object.keys(o);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var h=c[u];if(!Me.call(o,h)||!sa(t[h],o[h]))return!1}return!0}function bj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xj(t,o){var c=bj(t);t=0;for(var u;c;){if(c.nodeType===3){if(u=t+c.textContent.length,t<=o&&u>=o)return{node:c,offset:o-t};t=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=bj(c)}}function yj(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?yj(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function jj(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=ni(t.document);o instanceof t.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)t=o.contentWindow;else break;o=ni(t.document)}return o}function Yh(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var gR=en&&"documentMode"in document&&11>=document.documentMode,ro=null,Fh=null,xs=null,Xh=!1;function Nj(t,o,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Xh||ro==null||ro!==ni(u)||(u=ro,"selectionStart"in u&&Yh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xs&&bs(xs,u)||(xs=u,u=Qi(Fh,"onSelect"),0<u.length&&(o=new ii("onSelect","select",null,o,c),t.push({event:o,listeners:u}),o.target=ro)))}function dr(t,o){var c={};return c[t.toLowerCase()]=o.toLowerCase(),c["Webkit"+t]="webkit"+o,c["Moz"+t]="moz"+o,c}var oo={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},Gh={},Cj={};en&&(Cj=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function fr(t){if(Gh[t])return Gh[t];if(!oo[t])return t;var o=oo[t],c;for(c in o)if(o.hasOwnProperty(c)&&c in Cj)return Gh[t]=o[c];return t}var wj=fr("animationend"),Sj=fr("animationiteration"),_j=fr("animationstart"),vR=fr("transitionrun"),bR=fr("transitionstart"),xR=fr("transitioncancel"),Tj=fr("transitionend"),Ej=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Ma(t,o){Ej.set(t,o),cr(o,[t])}var di=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xa=[],so=0,Kh=0;function fi(){for(var t=so,o=Kh=so=0;o<t;){var c=xa[o];xa[o++]=null;var u=xa[o];xa[o++]=null;var h=xa[o];xa[o++]=null;var g=xa[o];if(xa[o++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}g!==0&&kj(c,h,g)}}function hi(t,o,c,u){xa[so++]=t,xa[so++]=o,xa[so++]=c,xa[so++]=u,Kh|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Jh(t,o,c,u){return hi(t,o,c,u),mi(t)}function hr(t,o){return hi(t,null,null,o),mi(t)}function kj(t,o,c){t.lanes|=c;var u=t.alternate;u!==null&&(u.lanes|=c);for(var h=!1,g=t.return;g!==null;)g.childLanes|=c,u=g.alternate,u!==null&&(u.childLanes|=c),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&o!==null&&(h=31-Et(c),t=g.hiddenUpdates,u=t[h],u===null?t[h]=[o]:u.push(o),o.lane=c|536870912),g):null}function mi(t){if(50<Ps)throw Ps=0,op=null,Error(s(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var lo={};function yR(t,o,c,u){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function la(t,o,c,u){return new yR(t,o,c,u)}function Wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tn(t,o){var c=t.alternate;return c===null?(c=la(t.tag,o,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=o,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&65011712,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,o=t.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c.refCleanup=t.refCleanup,c}function Oj(t,o){t.flags&=65011714;var c=t.alternate;return c===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=c.childLanes,t.lanes=c.lanes,t.child=c.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=c.memoizedProps,t.memoizedState=c.memoizedState,t.updateQueue=c.updateQueue,t.type=c.type,o=c.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function pi(t,o,c,u,h,g){var x=0;if(u=t,typeof t=="function")Wh(t)&&(x=1);else if(typeof t=="string")x=Sz(t,c,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Y:return t=la(31,c,o,h),t.elementType=Y,t.lanes=g,t;case w:return mr(c.children,h,g,o);case T:x=8,h|=24;break;case z:return t=la(12,c,o,h|2),t.elementType=z,t.lanes=g,t;case F:return t=la(13,c,o,h),t.elementType=F,t.lanes=g,t;case E:return t=la(19,c,o,h),t.elementType=E,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:x=10;break e;case S:x=9;break e;case I:x=11;break e;case L:x=14;break e;case P:x=16,u=null;break e}x=29,c=Error(s(130,t===null?"null":typeof t,"")),u=null}return o=la(x,c,o,h),o.elementType=t,o.type=u,o.lanes=g,o}function mr(t,o,c,u){return t=la(7,t,u,o),t.lanes=c,t}function Qh(t,o,c){return t=la(6,t,null,o),t.lanes=c,t}function Aj(t){var o=la(18,null,null,0);return o.stateNode=t,o}function Zh(t,o,c){return o=la(4,t.children!==null?t.children:[],t.key,o),o.lanes=c,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var Rj=new WeakMap;function ya(t,o){if(typeof t=="object"&&t!==null){var c=Rj.get(t);return c!==void 0?c:(o={value:t,source:o,stack:Ae(o)},Rj.set(t,o),o)}return{value:t,source:o,stack:Ae(o)}}var io=[],co=0,gi=null,ys=0,ja=[],Na=0,En=null,Pa=1,Ha="";function an(t,o){io[co++]=ys,io[co++]=gi,gi=t,ys=o}function zj(t,o,c){ja[Na++]=Pa,ja[Na++]=Ha,ja[Na++]=En,En=t;var u=Pa;t=Ha;var h=32-Et(u)-1;u&=~(1<<h),c+=1;var g=32-Et(o)+h;if(30<g){var x=h-h%5;g=(u&(1<<x)-1).toString(32),u>>=x,h-=x,Pa=1<<32-Et(o)+h|c<<h|u,Ha=g+t}else Pa=1<<g|c<<h|u,Ha=t}function em(t){t.return!==null&&(an(t,1),zj(t,1,0))}function tm(t){for(;t===gi;)gi=io[--co],io[co]=null,ys=io[--co],io[co]=null;for(;t===En;)En=ja[--Na],ja[Na]=null,Ha=ja[--Na],ja[Na]=null,Pa=ja[--Na],ja[Na]=null}function Mj(t,o){ja[Na++]=Pa,ja[Na++]=Ha,ja[Na++]=En,Pa=o.id,Ha=o.overflow,En=t}var Mt=null,at=null,Pe=!1,kn=null,Ca=!1,am=Error(s(519));function On(t){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw js(ya(o,t)),am}function Dj(t){var o=t.stateNode,c=t.type,u=t.memoizedProps;switch(o[zt]=t,o[Xt]=u,c){case"dialog":Ue("cancel",o),Ue("close",o);break;case"iframe":case"object":case"embed":Ue("load",o);break;case"video":case"audio":for(c=0;c<$s.length;c++)Ue($s[c],o);break;case"source":Ue("error",o);break;case"img":case"image":case"link":Ue("error",o),Ue("load",o);break;case"details":Ue("toggle",o);break;case"input":Ue("invalid",o),Vy(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",o);break;case"textarea":Ue("invalid",o),Jy(o,u.value,u.defaultValue,u.children)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||o.textContent===""+c||u.suppressHydrationWarning===!0||Q1(o.textContent,c)?(u.popover!=null&&(Ue("beforetoggle",o),Ue("toggle",o)),u.onScroll!=null&&Ue("scroll",o),u.onScrollEnd!=null&&Ue("scrollend",o),u.onClick!=null&&(o.onclick=Za),o=!0):o=!1,o||On(t,!0)}function Lj(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Mt=Mt.return}}function uo(t){if(t!==Mt)return!1;if(!Pe)return Lj(t),Pe=!0,!1;var o=t.tag,c;if((c=o!==3&&o!==27)&&((c=o===5)&&(c=t.type,c=!(c!=="form"&&c!=="button")||yp(t.type,t.memoizedProps)),c=!c),c&&at&&On(t),Lj(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=lC(t)}else if(o===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=lC(t)}else o===27?(o=at,Yn(t.type)?(t=Sp,Sp=null,at=t):at=o):at=Mt?Sa(t.stateNode.nextSibling):null;return!0}function pr(){at=Mt=null,Pe=!1}function nm(){var t=kn;return t!==null&&(Wt===null?Wt=t:Wt.push.apply(Wt,t),kn=null),t}function js(t){kn===null?kn=[t]:kn.push(t)}var rm=_(null),gr=null,nn=null;function An(t,o,c){M(rm,o._currentValue),o._currentValue=c}function rn(t){t._currentValue=rm.current,k(rm)}function om(t,o,c){for(;t!==null;){var u=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),t===c)break;t=t.return}}function sm(t,o,c,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var x=h.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=h;for(var U=0;U<o.length;U++)if(N.context===o[U]){g.lanes|=c,N=g.alternate,N!==null&&(N.lanes|=c),om(g.return,c,t),u||(x=null);break e}g=N.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(s(341));x.lanes|=c,g=x.alternate,g!==null&&(g.lanes|=c),om(x,c,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function fo(t,o,c,u){t=null;for(var h=o,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(s(387));if(x=x.memoizedProps,x!==null){var N=h.type;sa(h.pendingProps.value,x.value)||(t!==null?t.push(N):t=[N])}}else if(h===he.current){if(x=h.alternate,x===null)throw Error(s(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vs):t=[Vs])}h=h.return}t!==null&&sm(o,t,c,u),o.flags|=262144}function vi(t){for(t=t.firstContext;t!==null;){if(!sa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vr(t){gr=t,nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dt(t){return Uj(gr,t)}function bi(t,o){return gr===null&&vr(t),Uj(t,o)}function Uj(t,o){var c=o._currentValue;if(o={context:o,memoizedValue:c,next:null},nn===null){if(t===null)throw Error(s(308));nn=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else nn=nn.next=o;return c}var jR=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(c,u){t.push(u)}};this.abort=function(){o.aborted=!0,t.forEach(function(c){return c()})}},NR=r.unstable_scheduleCallback,CR=r.unstable_NormalPriority,pt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new jR,data:new Map,refCount:0}}function Ns(t){t.refCount--,t.refCount===0&&NR(CR,function(){t.controller.abort()})}var Cs=null,im=0,ho=0,mo=null;function wR(t,o){if(Cs===null){var c=Cs=[];im=0,ho=dp(),mo={status:"pending",value:void 0,then:function(u){c.push(u)}}}return im++,o.then(Ij,Ij),o}function Ij(){if(--im===0&&Cs!==null){mo!==null&&(mo.status="fulfilled");var t=Cs;Cs=null,ho=0,mo=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function SR(t,o){var c=[],u={status:"pending",value:null,reason:null,then:function(h){c.push(h)}};return t.then(function(){u.status="fulfilled",u.value=o;for(var h=0;h<c.length;h++)(0,c[h])(o)},function(h){for(u.status="rejected",u.reason=h,h=0;h<c.length;h++)(0,c[h])(void 0)}),u}var qj=O.S;O.S=function(t,o){N1=mt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&wR(t,o),qj!==null&&qj(t,o)};var br=_(null);function cm(){var t=br.current;return t!==null?t:We.pooledCache}function xi(t,o){o===null?M(br,br.current):M(br,o.pool)}function Bj(){var t=cm();return t===null?null:{parent:pt._currentValue,pool:t}}var po=Error(s(460)),um=Error(s(474)),yi=Error(s(542)),ji={then:function(){}};function Pj(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hj(t,o,c){switch(c=t[c],c===void 0?t.push(o):c!==o&&(o.then(Za,Za),o=c),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Yj(t),t;default:if(typeof o.status=="string")o.then(Za,Za);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=o,t.status="pending",t.then(function(u){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=u}},function(u){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Yj(t),t}throw yr=o,po}}function xr(t){try{var o=t._init;return o(t._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(yr=c,po):c}}var yr=null;function $j(){if(yr===null)throw Error(s(459));var t=yr;return yr=null,t}function Yj(t){if(t===po||t===yi)throw Error(s(483))}var go=null,ws=0;function Ni(t){var o=ws;return ws+=1,go===null&&(go=[]),Hj(go,t,o)}function Ss(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function Ci(t,o){throw o.$$typeof===y?Error(s(525)):(t=Object.prototype.toString.call(o),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function Fj(t){function o(G,B){if(t){var W=G.deletions;W===null?(G.deletions=[B],G.flags|=16):W.push(B)}}function c(G,B){if(!t)return null;for(;B!==null;)o(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function h(G,B){return G=tn(G,B),G.index=0,G.sibling=null,G}function g(G,B,W){return G.index=W,t?(W=G.alternate,W!==null?(W=W.index,W<B?(G.flags|=67108866,B):W):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function x(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function N(G,B,W,ue){return B===null||B.tag!==6?(B=Qh(W,G.mode,ue),B.return=G,B):(B=h(B,W),B.return=G,B)}function U(G,B,W,ue){var Se=W.type;return Se===w?ce(G,B,W.props.children,ue,W.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&xr(Se)===B.type)?(B=h(B,W.props),Ss(B,W),B.return=G,B):(B=pi(W.type,W.key,W.props,null,G.mode,ue),Ss(B,W),B.return=G,B)}function Z(G,B,W,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==W.containerInfo||B.stateNode.implementation!==W.implementation?(B=Zh(W,G.mode,ue),B.return=G,B):(B=h(B,W.children||[]),B.return=G,B)}function ce(G,B,W,ue,Se){return B===null||B.tag!==7?(B=mr(W,G.mode,ue,Se),B.return=G,B):(B=h(B,W),B.return=G,B)}function fe(G,B,W){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Qh(""+B,G.mode,W),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return W=pi(B.type,B.key,B.props,null,G.mode,W),Ss(W,B),W.return=G,W;case C:return B=Zh(B,G.mode,W),B.return=G,B;case P:return B=xr(B),fe(G,B,W)}if(K(B)||H(B))return B=mr(B,G.mode,W,null),B.return=G,B;if(typeof B.then=="function")return fe(G,Ni(B),W);if(B.$$typeof===R)return fe(G,bi(G,B),W);Ci(G,B)}return null}function ee(G,B,W,ue){var Se=B!==null?B.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Se!==null?null:N(G,B,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case j:return W.key===Se?U(G,B,W,ue):null;case C:return W.key===Se?Z(G,B,W,ue):null;case P:return W=xr(W),ee(G,B,W,ue)}if(K(W)||H(W))return Se!==null?null:ce(G,B,W,ue,null);if(typeof W.then=="function")return ee(G,B,Ni(W),ue);if(W.$$typeof===R)return ee(G,B,bi(G,W),ue);Ci(G,W)}return null}function se(G,B,W,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return G=G.get(W)||null,N(B,G,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return G=G.get(ue.key===null?W:ue.key)||null,U(B,G,ue,Se);case C:return G=G.get(ue.key===null?W:ue.key)||null,Z(B,G,ue,Se);case P:return ue=xr(ue),se(G,B,W,ue,Se)}if(K(ue)||H(ue))return G=G.get(W)||null,ce(B,G,ue,Se,null);if(typeof ue.then=="function")return se(G,B,W,Ni(ue),Se);if(ue.$$typeof===R)return se(G,B,W,bi(B,ue),Se);Ci(B,ue)}return null}function je(G,B,W,ue){for(var Se=null,He=null,we=B,ze=B=0,qe=null;we!==null&&ze<W.length;ze++){we.index>ze?(qe=we,we=null):qe=we.sibling;var $e=ee(G,we,W[ze],ue);if($e===null){we===null&&(we=qe);break}t&&we&&$e.alternate===null&&o(G,we),B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e,we=qe}if(ze===W.length)return c(G,we),Pe&&an(G,ze),Se;if(we===null){for(;ze<W.length;ze++)we=fe(G,W[ze],ue),we!==null&&(B=g(we,B,ze),He===null?Se=we:He.sibling=we,He=we);return Pe&&an(G,ze),Se}for(we=u(we);ze<W.length;ze++)qe=se(we,G,ze,W[ze],ue),qe!==null&&(t&&qe.alternate!==null&&we.delete(qe.key===null?ze:qe.key),B=g(qe,B,ze),He===null?Se=qe:He.sibling=qe,He=qe);return t&&we.forEach(function(Kn){return o(G,Kn)}),Pe&&an(G,ze),Se}function Ee(G,B,W,ue){if(W==null)throw Error(s(151));for(var Se=null,He=null,we=B,ze=B=0,qe=null,$e=W.next();we!==null&&!$e.done;ze++,$e=W.next()){we.index>ze?(qe=we,we=null):qe=we.sibling;var Kn=ee(G,we,$e.value,ue);if(Kn===null){we===null&&(we=qe);break}t&&we&&Kn.alternate===null&&o(G,we),B=g(Kn,B,ze),He===null?Se=Kn:He.sibling=Kn,He=Kn,we=qe}if($e.done)return c(G,we),Pe&&an(G,ze),Se;if(we===null){for(;!$e.done;ze++,$e=W.next())$e=fe(G,$e.value,ue),$e!==null&&(B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e);return Pe&&an(G,ze),Se}for(we=u(we);!$e.done;ze++,$e=W.next())$e=se(we,G,ze,$e.value,ue),$e!==null&&(t&&$e.alternate!==null&&we.delete($e.key===null?ze:$e.key),B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e);return t&&we.forEach(function(Lz){return o(G,Lz)}),Pe&&an(G,ze),Se}function Je(G,B,W,ue){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case j:e:{for(var Se=W.key;B!==null;){if(B.key===Se){if(Se=W.type,Se===w){if(B.tag===7){c(G,B.sibling),ue=h(B,W.props.children),ue.return=G,G=ue;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&xr(Se)===B.type){c(G,B.sibling),ue=h(B,W.props),Ss(ue,W),ue.return=G,G=ue;break e}c(G,B);break}else o(G,B);B=B.sibling}W.type===w?(ue=mr(W.props.children,G.mode,ue,W.key),ue.return=G,G=ue):(ue=pi(W.type,W.key,W.props,null,G.mode,ue),Ss(ue,W),ue.return=G,G=ue)}return x(G);case C:e:{for(Se=W.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===W.containerInfo&&B.stateNode.implementation===W.implementation){c(G,B.sibling),ue=h(B,W.children||[]),ue.return=G,G=ue;break e}else{c(G,B);break}else o(G,B);B=B.sibling}ue=Zh(W,G.mode,ue),ue.return=G,G=ue}return x(G);case P:return W=xr(W),Je(G,B,W,ue)}if(K(W))return je(G,B,W,ue);if(H(W)){if(Se=H(W),typeof Se!="function")throw Error(s(150));return W=Se.call(W),Ee(G,B,W,ue)}if(typeof W.then=="function")return Je(G,B,Ni(W),ue);if(W.$$typeof===R)return Je(G,B,bi(G,W),ue);Ci(G,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,B!==null&&B.tag===6?(c(G,B.sibling),ue=h(B,W),ue.return=G,G=ue):(c(G,B),ue=Qh(W,G.mode,ue),ue.return=G,G=ue),x(G)):c(G,B)}return function(G,B,W,ue){try{ws=0;var Se=Je(G,B,W,ue);return go=null,Se}catch(we){if(we===po||we===yi)throw we;var He=la(29,we,null,G.mode);return He.lanes=ue,He.return=G,He}finally{}}}var jr=Fj(!0),Xj=Fj(!1),Rn=!1;function dm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(t,o,c){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var h=u.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),u.pending=o,o=mi(t),kj(t,null,c),o}return hi(t,u,o,c),mi(t)}function _s(t,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194048)!==0)){var u=o.lanes;u&=t.pendingLanes,c|=u,o.lanes=c,Uy(t,c)}}function hm(t,o){var c=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var h=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?h=g=x:g=g.next=x,c=c.next}while(c!==null);g===null?h=g=o:g=g.next=o}else h=g=o;c={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=o:t.next=o,c.lastBaseUpdate=o}var mm=!1;function Ts(){if(mm){var t=mo;if(t!==null)throw t}}function Es(t,o,c,u){mm=!1;var h=t.updateQueue;Rn=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var U=N,Z=U.next;U.next=null,x===null?g=Z:x.next=Z,x=U;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==x&&(N===null?ce.firstBaseUpdate=Z:N.next=Z,ce.lastBaseUpdate=U))}if(g!==null){var fe=h.baseState;x=0,ce=Z=U=null,N=g;do{var ee=N.lane&-536870913,se=ee!==N.lane;if(se?(Ie&ee)===ee:(u&ee)===ee){ee!==0&&ee===ho&&(mm=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var je=t,Ee=N;ee=o;var Je=c;switch(Ee.tag){case 1:if(je=Ee.payload,typeof je=="function"){fe=je.call(Je,fe,ee);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ee.payload,ee=typeof je=="function"?je.call(Je,fe,ee):je,ee==null)break e;fe=b({},fe,ee);break e;case 2:Rn=!0}}ee=N.callback,ee!==null&&(t.flags|=64,se&&(t.flags|=8192),se=h.callbacks,se===null?h.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(Z=ce=se,U=fe):ce=ce.next=se,x|=ee;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;se=N,N=se.next,se.next=null,h.lastBaseUpdate=se,h.shared.pending=null}}while(!0);ce===null&&(U=fe),h.baseState=U,h.firstBaseUpdate=Z,h.lastBaseUpdate=ce,g===null&&(h.shared.lanes=0),qn|=x,t.lanes=x,t.memoizedState=fe}}function Gj(t,o){if(typeof t!="function")throw Error(s(191,t));t.call(o)}function Vj(t,o){var c=t.callbacks;if(c!==null)for(t.callbacks=null,t=0;t<c.length;t++)Gj(c[t],o)}var vo=_(null),wi=_(0);function Kj(t,o){t=mn,M(wi,t),M(vo,o),mn=t|o.baseLanes}function pm(){M(wi,mn),M(vo,vo.current)}function gm(){mn=wi.current,k(vo),k(wi)}var ia=_(null),wa=null;function Dn(t){var o=t.alternate;M(ut,ut.current&1),M(ia,t),wa===null&&(o===null||vo.current!==null||o.memoizedState!==null)&&(wa=t)}function vm(t){M(ut,ut.current),M(ia,t),wa===null&&(wa=t)}function Jj(t){t.tag===22?(M(ut,ut.current),M(ia,t),wa===null&&(wa=t)):Ln()}function Ln(){M(ut,ut.current),M(ia,ia.current)}function ca(t){k(ia),wa===t&&(wa=null),k(ut)}var ut=_(0);function Si(t){for(var o=t;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Cp(c)||wp(c)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var on=0,Re=null,Ve=null,gt=null,_i=!1,bo=!1,Nr=!1,Ti=0,ks=0,xo=null,_R=0;function it(){throw Error(s(321))}function bm(t,o){if(o===null)return!1;for(var c=0;c<o.length&&c<t.length;c++)if(!sa(t[c],o[c]))return!1;return!0}function xm(t,o,c,u,h,g){return on=g,Re=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=t===null||t.memoizedState===null?zN:Mm,Nr=!1,g=c(u,h),Nr=!1,bo&&(g=Qj(o,c,u,h)),Wj(t),g}function Wj(t){O.H=Rs;var o=Ve!==null&&Ve.next!==null;if(on=0,gt=Ve=Re=null,_i=!1,ks=0,xo=null,o)throw Error(s(300));t===null||vt||(t=t.dependencies,t!==null&&vi(t)&&(vt=!0))}function Qj(t,o,c,u){Re=t;var h=0;do{if(bo&&(xo=null),ks=0,bo=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ve=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=MN,g=o(c,u)}while(bo);return g}function TR(){var t=O.H,o=t.useState()[0];return o=typeof o.then=="function"?Os(o):o,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Re.flags|=1024),o}function ym(){var t=Ti!==0;return Ti=0,t}function jm(t,o,c){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~c}function Nm(t){if(_i){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}_i=!1}on=0,gt=Ve=Re=null,bo=!1,ks=Ti=0,xo=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=t:gt=gt.next=t,gt}function dt(){if(Ve===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var o=gt===null?Re.memoizedState:gt.next;if(o!==null)gt=o,Ve=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},gt===null?Re.memoizedState=gt=t:gt=gt.next=t}return gt}function Ei(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Os(t){var o=ks;return ks+=1,xo===null&&(xo=[]),t=Hj(xo,t,o),o=Re,(gt===null?o.memoizedState:gt.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?zN:Mm),t}function ki(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Os(t);if(t.$$typeof===R)return Dt(t)}throw Error(s(438,String(t)))}function Cm(t){var o=null,c=Re.updateQueue;if(c!==null&&(o=c.memoCache),o==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),c===null&&(c=Ei(),Re.updateQueue=c),c.memoCache=o,c=o.data[o.index],c===void 0)for(c=o.data[o.index]=Array(t),u=0;u<t;u++)c[u]=Q;return o.index++,c}function sn(t,o){return typeof o=="function"?o(t):o}function Oi(t){var o=dt();return wm(o,Ve,t)}function wm(t,o,c){var u=t.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=c;var h=t.baseQueue,g=u.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}o.baseQueue=h=g,u.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{o=h.next;var N=x=null,U=null,Z=o,ce=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(Ie&fe)===fe:(on&fe)===fe){var ee=Z.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===ho&&(ce=!0);else if((on&ee)===ee){Z=Z.next,ee===ho&&(ce=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(N=U=fe,x=g):U=U.next=fe,Re.lanes|=ee,qn|=ee;fe=Z.action,Nr&&c(g,fe),g=Z.hasEagerState?Z.eagerState:c(g,fe)}else ee={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(N=U=ee,x=g):U=U.next=ee,Re.lanes|=fe,qn|=fe;Z=Z.next}while(Z!==null&&Z!==o);if(U===null?x=g:U.next=N,!sa(g,t.memoizedState)&&(vt=!0,ce&&(c=mo,c!==null)))throw c;t.memoizedState=g,t.baseState=x,t.baseQueue=U,u.lastRenderedState=g}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Sm(t){var o=dt(),c=o.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=t;var u=c.dispatch,h=c.pending,g=o.memoizedState;if(h!==null){c.pending=null;var x=h=h.next;do g=t(g,x.action),x=x.next;while(x!==h);sa(g,o.memoizedState)||(vt=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),c.lastRenderedState=g}return[g,u]}function Zj(t,o,c){var u=Re,h=dt(),g=Pe;if(g){if(c===void 0)throw Error(s(407));c=c()}else c=o();var x=!sa((Ve||h).memoizedState,c);if(x&&(h.memoizedState=c,vt=!0),h=h.queue,Em(aN.bind(null,u,h,t),[t]),h.getSnapshot!==o||x||gt!==null&&gt.memoizedState.tag&1){if(u.flags|=2048,yo(9,{destroy:void 0},tN.bind(null,u,h,c,o),null),We===null)throw Error(s(349));g||(on&127)!==0||eN(u,o,c)}return c}function eN(t,o,c){t.flags|=16384,t={getSnapshot:o,value:c},o=Re.updateQueue,o===null?(o=Ei(),Re.updateQueue=o,o.stores=[t]):(c=o.stores,c===null?o.stores=[t]:c.push(t))}function tN(t,o,c,u){o.value=c,o.getSnapshot=u,nN(o)&&rN(t)}function aN(t,o,c){return c(function(){nN(o)&&rN(t)})}function nN(t){var o=t.getSnapshot;t=t.value;try{var c=o();return!sa(t,c)}catch{return!0}}function rN(t){var o=hr(t,2);o!==null&&Qt(o,t,2)}function _m(t){var o=Yt();if(typeof t=="function"){var c=t;if(t=c(),Nr){ga(!0);try{c()}finally{ga(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:t},o}function oN(t,o,c,u){return t.baseState=c,wm(t,Ve,typeof u=="function"?u:sn)}function ER(t,o,c,u,h){if(zi(t))throw Error(s(485));if(t=o.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};O.T!==null?c(!0):g.isTransition=!1,u(g),c=o.pending,c===null?(g.next=o.pending=g,sN(o,g)):(g.next=c.next,o.pending=c.next=g)}}function sN(t,o){var c=o.action,u=o.payload,h=t.state;if(o.isTransition){var g=O.T,x={};O.T=x;try{var N=c(h,u),U=O.S;U!==null&&U(x,N),lN(t,o,N)}catch(Z){Tm(t,o,Z)}finally{g!==null&&x.types!==null&&(g.types=x.types),O.T=g}}else try{g=c(h,u),lN(t,o,g)}catch(Z){Tm(t,o,Z)}}function lN(t,o,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){iN(t,o,u)},function(u){return Tm(t,o,u)}):iN(t,o,c)}function iN(t,o,c){o.status="fulfilled",o.value=c,cN(o),t.state=c,o=t.pending,o!==null&&(c=o.next,c===o?t.pending=null:(c=c.next,o.next=c,sN(t,c)))}function Tm(t,o,c){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=c,cN(o),o=o.next;while(o!==u)}t.action=null}function cN(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function uN(t,o){return o}function dN(t,o){if(Pe){var c=We.formState;if(c!==null){e:{var u=Re;if(Pe){if(at){t:{for(var h=at,g=Ca;h.nodeType!==8;){if(!g){h=null;break t}if(h=Sa(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){at=Sa(h.nextSibling),u=h.data==="F!";break e}}On(u)}u=!1}u&&(o=c[0])}}return c=Yt(),c.memoizedState=c.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uN,lastRenderedState:o},c.queue=u,c=ON.bind(null,Re,u),u.dispatch=c,u=_m(!1),g=zm.bind(null,Re,!1,u.queue),u=Yt(),h={state:o,dispatch:null,action:t,pending:null},u.queue=h,c=ER.bind(null,Re,h,g,c),h.dispatch=c,u.memoizedState=t,[o,c,!1]}function fN(t){var o=dt();return hN(o,Ve,t)}function hN(t,o,c){if(o=wm(t,o,uN)[0],t=Oi(sn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Os(o)}catch(x){throw x===po?yi:x}else u=o;o=dt();var h=o.queue,g=h.dispatch;return c!==o.memoizedState&&(Re.flags|=2048,yo(9,{destroy:void 0},kR.bind(null,h,c),null)),[u,g,t]}function kR(t,o){t.action=o}function mN(t){var o=dt(),c=Ve;if(c!==null)return hN(o,c,t);dt(),o=o.memoizedState,c=dt();var u=c.queue.dispatch;return c.memoizedState=t,[o,u,!1]}function yo(t,o,c,u){return t={tag:t,create:c,deps:u,inst:o,next:null},o=Re.updateQueue,o===null&&(o=Ei(),Re.updateQueue=o),c=o.lastEffect,c===null?o.lastEffect=t.next=t:(u=c.next,c.next=t,t.next=u,o.lastEffect=t),t}function pN(){return dt().memoizedState}function Ai(t,o,c,u){var h=Yt();Re.flags|=t,h.memoizedState=yo(1|o,{destroy:void 0},c,u===void 0?null:u)}function Ri(t,o,c,u){var h=dt();u=u===void 0?null:u;var g=h.memoizedState.inst;Ve!==null&&u!==null&&bm(u,Ve.memoizedState.deps)?h.memoizedState=yo(o,g,c,u):(Re.flags|=t,h.memoizedState=yo(1|o,g,c,u))}function gN(t,o){Ai(8390656,8,t,o)}function Em(t,o){Ri(2048,8,t,o)}function OR(t){Re.flags|=4;var o=Re.updateQueue;if(o===null)o=Ei(),Re.updateQueue=o,o.events=[t];else{var c=o.events;c===null?o.events=[t]:c.push(t)}}function vN(t){var o=dt().memoizedState;return OR({ref:o,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function bN(t,o){return Ri(4,2,t,o)}function xN(t,o){return Ri(4,4,t,o)}function yN(t,o){if(typeof o=="function"){t=t();var c=o(t);return function(){typeof c=="function"?c():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function jN(t,o,c){c=c!=null?c.concat([t]):null,Ri(4,4,yN.bind(null,o,t),c)}function km(){}function NN(t,o){var c=dt();o=o===void 0?null:o;var u=c.memoizedState;return o!==null&&bm(o,u[1])?u[0]:(c.memoizedState=[t,o],t)}function CN(t,o){var c=dt();o=o===void 0?null:o;var u=c.memoizedState;if(o!==null&&bm(o,u[1]))return u[0];if(u=t(),Nr){ga(!0);try{t()}finally{ga(!1)}}return c.memoizedState=[u,o],u}function Om(t,o,c){return c===void 0||(on&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=o:(t.memoizedState=c,t=w1(),Re.lanes|=t,qn|=t,c)}function wN(t,o,c,u){return sa(c,o)?c:vo.current!==null?(t=Om(t,c,u),sa(t,o)||(vt=!0),t):(on&42)===0||(on&1073741824)!==0&&(Ie&261930)===0?(vt=!0,t.memoizedState=c):(t=w1(),Re.lanes|=t,qn|=t,o)}function SN(t,o,c,u,h){var g=J.p;J.p=g!==0&&8>g?g:8;var x=O.T,N={};O.T=N,zm(t,!1,o,c);try{var U=h(),Z=O.S;if(Z!==null&&Z(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=SR(U,u);As(t,o,ce,fa(t))}else As(t,o,u,fa(t))}catch(fe){As(t,o,{then:function(){},status:"rejected",reason:fe},fa())}finally{J.p=g,x!==null&&N.types!==null&&(x.types=N.types),O.T=x}}function AR(){}function Am(t,o,c,u){if(t.tag!==5)throw Error(s(476));var h=_N(t).queue;SN(t,h,o,te,c===null?AR:function(){return TN(t),c(u)})}function _N(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:te},next:null};var c={};return o.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sn,lastRenderedState:c},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function TN(t){var o=_N(t);o.next===null&&(o=t.alternate.memoizedState),As(t,o.next.queue,{},fa())}function Rm(){return Dt(Vs)}function EN(){return dt().memoizedState}function kN(){return dt().memoizedState}function RR(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var c=fa();t=zn(c);var u=Mn(o,t,c);u!==null&&(Qt(u,o,c),_s(u,o,c)),o={cache:lm()},t.payload=o;return}o=o.return}}function zR(t,o,c){var u=fa();c={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zi(t)?AN(o,c):(c=Jh(t,o,c,u),c!==null&&(Qt(c,t,u),RN(c,o,u)))}function ON(t,o,c){var u=fa();As(t,o,c,u)}function As(t,o,c,u){var h={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(t))AN(o,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var x=o.lastRenderedState,N=g(x,c);if(h.hasEagerState=!0,h.eagerState=N,sa(N,x))return hi(t,o,h,0),We===null&&fi(),!1}catch{}finally{}if(c=Jh(t,o,h,u),c!==null)return Qt(c,t,u),RN(c,o,u),!0}return!1}function zm(t,o,c,u){if(u={lane:2,revertLane:dp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zi(t)){if(o)throw Error(s(479))}else o=Jh(t,c,u,2),o!==null&&Qt(o,t,2)}function zi(t){var o=t.alternate;return t===Re||o!==null&&o===Re}function AN(t,o){bo=_i=!0;var c=t.pending;c===null?o.next=o:(o.next=c.next,c.next=o),t.pending=o}function RN(t,o,c){if((c&4194048)!==0){var u=o.lanes;u&=t.pendingLanes,c|=u,o.lanes=c,Uy(t,c)}}var Rs={readContext:Dt,use:ki,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Rs.useEffectEvent=it;var zN={readContext:Dt,use:ki,useCallback:function(t,o){return Yt().memoizedState=[t,o===void 0?null:o],t},useContext:Dt,useEffect:gN,useImperativeHandle:function(t,o,c){c=c!=null?c.concat([t]):null,Ai(4194308,4,yN.bind(null,o,t),c)},useLayoutEffect:function(t,o){return Ai(4194308,4,t,o)},useInsertionEffect:function(t,o){Ai(4,2,t,o)},useMemo:function(t,o){var c=Yt();o=o===void 0?null:o;var u=t();if(Nr){ga(!0);try{t()}finally{ga(!1)}}return c.memoizedState=[u,o],u},useReducer:function(t,o,c){var u=Yt();if(c!==void 0){var h=c(o);if(Nr){ga(!0);try{c(o)}finally{ga(!1)}}}else h=o;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=zR.bind(null,Re,t),[u.memoizedState,t]},useRef:function(t){var o=Yt();return t={current:t},o.memoizedState=t},useState:function(t){t=_m(t);var o=t.queue,c=ON.bind(null,Re,o);return o.dispatch=c,[t.memoizedState,c]},useDebugValue:km,useDeferredValue:function(t,o){var c=Yt();return Om(c,t,o)},useTransition:function(){var t=_m(!1);return t=SN.bind(null,Re,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,c){var u=Re,h=Yt();if(Pe){if(c===void 0)throw Error(s(407));c=c()}else{if(c=o(),We===null)throw Error(s(349));(Ie&127)!==0||eN(u,o,c)}h.memoizedState=c;var g={value:c,getSnapshot:o};return h.queue=g,gN(aN.bind(null,u,g,t),[t]),u.flags|=2048,yo(9,{destroy:void 0},tN.bind(null,u,g,c,o),null),c},useId:function(){var t=Yt(),o=We.identifierPrefix;if(Pe){var c=Ha,u=Pa;c=(u&~(1<<32-Et(u)-1)).toString(32)+c,o="_"+o+"R_"+c,c=Ti++,0<c&&(o+="H"+c.toString(32)),o+="_"}else c=_R++,o="_"+o+"r_"+c.toString(32)+"_";return t.memoizedState=o},useHostTransitionStatus:Rm,useFormState:dN,useActionState:dN,useOptimistic:function(t){var o=Yt();o.memoizedState=o.baseState=t;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=c,o=zm.bind(null,Re,!0,c),c.dispatch=o,[t,o]},useMemoCache:Cm,useCacheRefresh:function(){return Yt().memoizedState=RR.bind(null,Re)},useEffectEvent:function(t){var o=Yt(),c={impl:t};return o.memoizedState=c,function(){if((Ye&2)!==0)throw Error(s(440));return c.impl.apply(void 0,arguments)}}},Mm={readContext:Dt,use:ki,useCallback:NN,useContext:Dt,useEffect:Em,useImperativeHandle:jN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:CN,useReducer:Oi,useRef:pN,useState:function(){return Oi(sn)},useDebugValue:km,useDeferredValue:function(t,o){var c=dt();return wN(c,Ve.memoizedState,t,o)},useTransition:function(){var t=Oi(sn)[0],o=dt().memoizedState;return[typeof t=="boolean"?t:Os(t),o]},useSyncExternalStore:Zj,useId:EN,useHostTransitionStatus:Rm,useFormState:fN,useActionState:fN,useOptimistic:function(t,o){var c=dt();return oN(c,Ve,t,o)},useMemoCache:Cm,useCacheRefresh:kN};Mm.useEffectEvent=vN;var MN={readContext:Dt,use:ki,useCallback:NN,useContext:Dt,useEffect:Em,useImperativeHandle:jN,useInsertionEffect:bN,useLayoutEffect:xN,useMemo:CN,useReducer:Sm,useRef:pN,useState:function(){return Sm(sn)},useDebugValue:km,useDeferredValue:function(t,o){var c=dt();return Ve===null?Om(c,t,o):wN(c,Ve.memoizedState,t,o)},useTransition:function(){var t=Sm(sn)[0],o=dt().memoizedState;return[typeof t=="boolean"?t:Os(t),o]},useSyncExternalStore:Zj,useId:EN,useHostTransitionStatus:Rm,useFormState:mN,useActionState:mN,useOptimistic:function(t,o){var c=dt();return Ve!==null?oN(c,Ve,t,o):(c.baseState=t,[t,c.queue.dispatch])},useMemoCache:Cm,useCacheRefresh:kN};MN.useEffectEvent=vN;function Dm(t,o,c,u){o=t.memoizedState,c=c(u,o),c=c==null?o:b({},o,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var Lm={enqueueSetState:function(t,o,c){t=t._reactInternals;var u=fa(),h=zn(u);h.payload=o,c!=null&&(h.callback=c),o=Mn(t,h,u),o!==null&&(Qt(o,t,u),_s(o,t,u))},enqueueReplaceState:function(t,o,c){t=t._reactInternals;var u=fa(),h=zn(u);h.tag=1,h.payload=o,c!=null&&(h.callback=c),o=Mn(t,h,u),o!==null&&(Qt(o,t,u),_s(o,t,u))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var c=fa(),u=zn(c);u.tag=2,o!=null&&(u.callback=o),o=Mn(t,u,c),o!==null&&(Qt(o,t,c),_s(o,t,c))}};function DN(t,o,c,u,h,g,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,x):o.prototype&&o.prototype.isPureReactComponent?!bs(c,u)||!bs(h,g):!0}function LN(t,o,c,u){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,u),o.state!==t&&Lm.enqueueReplaceState(o,o.state,null)}function Cr(t,o){var c=o;if("ref"in o){c={};for(var u in o)u!=="ref"&&(c[u]=o[u])}if(t=t.defaultProps){c===o&&(c=b({},c));for(var h in t)c[h]===void 0&&(c[h]=t[h])}return c}function UN(t){di(t)}function IN(t){console.error(t)}function qN(t){di(t)}function Mi(t,o){try{var c=t.onUncaughtError;c(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function BN(t,o,c){try{var u=t.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Um(t,o,c){return c=zn(c),c.tag=3,c.payload={element:null},c.callback=function(){Mi(t,o)},c}function PN(t){return t=zn(t),t.tag=3,t}function HN(t,o,c,u){var h=c.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;t.payload=function(){return h(g)},t.callback=function(){BN(o,c,u)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){BN(o,c,u),typeof h!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function MR(t,o,c,u,h){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=c.alternate,o!==null&&fo(o,c,h,!0),c=ia.current,c!==null){switch(c.tag){case 31:case 13:return wa===null?Xi():c.alternate===null&&ct===0&&(ct=3),c.flags&=-257,c.flags|=65536,c.lanes=h,u===ji?c.flags|=16384:(o=c.updateQueue,o===null?c.updateQueue=new Set([u]):o.add(u),ip(t,u,h)),!1;case 22:return c.flags|=65536,u===ji?c.flags|=16384:(o=c.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=o):(c=o.retryQueue,c===null?o.retryQueue=new Set([u]):c.add(u)),ip(t,u,h)),!1}throw Error(s(435,c.tag))}return ip(t,u,h),Xi(),!1}if(Pe)return o=ia.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,u!==am&&(t=Error(s(422),{cause:u}),js(ya(t,c)))):(u!==am&&(o=Error(s(423),{cause:u}),js(ya(o,c))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=ya(u,c),h=Um(t.stateNode,u,h),hm(t,h),ct!==4&&(ct=2)),!1;var g=Error(s(520),{cause:u});if(g=ya(g,c),Bs===null?Bs=[g]:Bs.push(g),ct!==4&&(ct=2),o===null)return!0;u=ya(u,c),c=o;do{switch(c.tag){case 3:return c.flags|=65536,t=h&-h,c.lanes|=t,t=Um(c.stateNode,u,t),hm(c,t),!1;case 1:if(o=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bn===null||!Bn.has(g))))return c.flags|=65536,h&=-h,c.lanes|=h,h=PN(h),HN(h,t,c,u),hm(c,h),!1}c=c.return}while(c!==null);return!1}var Im=Error(s(461)),vt=!1;function Lt(t,o,c,u){o.child=t===null?Xj(o,null,c,u):jr(o,t.child,c,u)}function $N(t,o,c,u,h){c=c.render;var g=o.ref;if("ref"in u){var x={};for(var N in u)N!=="ref"&&(x[N]=u[N])}else x=u;return vr(o),u=xm(t,o,c,x,g,h),N=ym(),t!==null&&!vt?(jm(t,o,h),ln(t,o,h)):(Pe&&N&&em(o),o.flags|=1,Lt(t,o,u,h),o.child)}function YN(t,o,c,u,h){if(t===null){var g=c.type;return typeof g=="function"&&!Wh(g)&&g.defaultProps===void 0&&c.compare===null?(o.tag=15,o.type=g,FN(t,o,g,u,h)):(t=pi(c.type,null,u,o,o.mode,h),t.ref=o.ref,t.return=o,o.child=t)}if(g=t.child,!Xm(t,h)){var x=g.memoizedProps;if(c=c.compare,c=c!==null?c:bs,c(x,u)&&t.ref===o.ref)return ln(t,o,h)}return o.flags|=1,t=tn(g,u),t.ref=o.ref,t.return=o,o.child=t}function FN(t,o,c,u,h){if(t!==null){var g=t.memoizedProps;if(bs(g,u)&&t.ref===o.ref)if(vt=!1,o.pendingProps=u=g,Xm(t,h))(t.flags&131072)!==0&&(vt=!0);else return o.lanes=t.lanes,ln(t,o,h)}return qm(t,o,c,u,h)}function XN(t,o,c,u){var h=u.children,g=t!==null?t.memoizedState:null;if(t===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(g=g!==null?g.baseLanes|c:c,t!==null){for(u=o.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~g}else u=0,o.child=null;return GN(t,o,g,c,u)}if((c&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&xi(o,g!==null?g.cachePool:null),g!==null?Kj(o,g):pm(),Jj(o);else return u=o.lanes=536870912,GN(t,o,g!==null?g.baseLanes|c:c,c,u)}else g!==null?(xi(o,g.cachePool),Kj(o,g),Ln(),o.memoizedState=null):(t!==null&&xi(o,null),pm(),Ln());return Lt(t,o,h,c),o.child}function zs(t,o){return t!==null&&t.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function GN(t,o,c,u,h){var g=cm();return g=g===null?null:{parent:pt._currentValue,pool:g},o.memoizedState={baseLanes:c,cachePool:g},t!==null&&xi(o,null),pm(),Jj(o),t!==null&&fo(t,o,u,!0),o.childLanes=h,null}function Di(t,o){return o=Ui({mode:o.mode,children:o.children},t.mode),o.ref=t.ref,t.child=o,o.return=t,o}function VN(t,o,c){return jr(o,t.child,null,c),t=Di(o,o.pendingProps),t.flags|=2,ca(o),o.memoizedState=null,t}function DR(t,o,c){var u=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,t===null){if(Pe){if(u.mode==="hidden")return t=Di(o,u),o.lanes=536870912,zs(null,t);if(vm(o),(t=at)?(t=sC(t,Ca),t=t!==null&&t.data==="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:En!==null?{id:Pa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},c=Aj(t),c.return=o,o.child=c,Mt=o,at=null)):t=null,t===null)throw On(o);return o.lanes=536870912,null}return Di(o,u)}var g=t.memoizedState;if(g!==null){var x=g.dehydrated;if(vm(o),h)if(o.flags&256)o.flags&=-257,o=VN(t,o,c);else if(o.memoizedState!==null)o.child=t.child,o.flags|=128,o=null;else throw Error(s(558));else if(vt||fo(t,o,c,!1),h=(c&t.childLanes)!==0,vt||h){if(u=We,u!==null&&(x=Iy(u,c),x!==0&&x!==g.retryLane))throw g.retryLane=x,hr(t,x),Qt(u,t,x),Im;Xi(),o=VN(t,o,c)}else t=g.treeContext,at=Sa(x.nextSibling),Mt=o,Pe=!0,kn=null,Ca=!1,t!==null&&Mj(o,t),o=Di(o,u),o.flags|=4096;return o}return t=tn(t.child,{mode:u.mode,children:u.children}),t.ref=o.ref,o.child=t,t.return=o,t}function Li(t,o){var c=o.ref;if(c===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(s(284));(t===null||t.ref!==c)&&(o.flags|=4194816)}}function qm(t,o,c,u,h){return vr(o),c=xm(t,o,c,u,void 0,h),u=ym(),t!==null&&!vt?(jm(t,o,h),ln(t,o,h)):(Pe&&u&&em(o),o.flags|=1,Lt(t,o,c,h),o.child)}function KN(t,o,c,u,h,g){return vr(o),o.updateQueue=null,c=Qj(o,u,c,h),Wj(t),u=ym(),t!==null&&!vt?(jm(t,o,g),ln(t,o,g)):(Pe&&u&&em(o),o.flags|=1,Lt(t,o,c,g),o.child)}function JN(t,o,c,u,h){if(vr(o),o.stateNode===null){var g=lo,x=c.contextType;typeof x=="object"&&x!==null&&(g=Dt(x)),g=new c(u,g),o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Lm,o.stateNode=g,g._reactInternals=o,g=o.stateNode,g.props=u,g.state=o.memoizedState,g.refs={},dm(o),x=c.contextType,g.context=typeof x=="object"&&x!==null?Dt(x):lo,g.state=o.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Dm(o,c,x,u),g.state=o.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Lm.enqueueReplaceState(g,g.state,null),Es(o,u,g,h),Ts(),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(t===null){g=o.stateNode;var N=o.memoizedProps,U=Cr(c,N);g.props=U;var Z=g.context,ce=c.contextType;x=lo,typeof ce=="object"&&ce!==null&&(x=Dt(ce));var fe=c.getDerivedStateFromProps;ce=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=o.pendingProps!==N,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||Z!==x)&&LN(o,g,u,x),Rn=!1;var ee=o.memoizedState;g.state=ee,Es(o,u,g,h),Ts(),Z=o.memoizedState,N||ee!==Z||Rn?(typeof fe=="function"&&(Dm(o,c,fe,u),Z=o.memoizedState),(U=Rn||DN(o,c,U,u,ee,Z,x))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(o.flags|=4194308)):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=Z),g.props=u,g.state=Z,g.context=x,u=U):(typeof g.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{g=o.stateNode,fm(t,o),x=o.memoizedProps,ce=Cr(c,x),g.props=ce,fe=o.pendingProps,ee=g.context,Z=c.contextType,U=lo,typeof Z=="object"&&Z!==null&&(U=Dt(Z)),N=c.getDerivedStateFromProps,(Z=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==fe||ee!==U)&&LN(o,g,u,U),Rn=!1,ee=o.memoizedState,g.state=ee,Es(o,u,g,h),Ts();var se=o.memoizedState;x!==fe||ee!==se||Rn||t!==null&&t.dependencies!==null&&vi(t.dependencies)?(typeof N=="function"&&(Dm(o,c,N,u),se=o.memoizedState),(ce=Rn||DN(o,c,ce,u,ee,se,U)||t!==null&&t.dependencies!==null&&vi(t.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,se,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,se,U)),typeof g.componentDidUpdate=="function"&&(o.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=se),g.props=u,g.state=se,g.context=U,u=ce):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(o.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(o.flags|=1024),u=!1)}return g=u,Li(t,o),u=(o.flags&128)!==0,g||u?(g=o.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:g.render(),o.flags|=1,t!==null&&u?(o.child=jr(o,t.child,null,h),o.child=jr(o,null,c,h)):Lt(t,o,c,h),o.memoizedState=g.state,t=o.child):t=ln(t,o,h),t}function WN(t,o,c,u){return pr(),o.flags|=256,Lt(t,o,c,u),o.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(t){return{baseLanes:t,cachePool:Bj()}}function Hm(t,o,c){return t=t!==null?t.childLanes&~c:0,o&&(t|=da),t}function QN(t,o,c){var u=o.pendingProps,h=!1,g=(o.flags&128)!==0,x;if((x=g)||(x=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),x&&(h=!0,o.flags&=-129),x=(o.flags&32)!==0,o.flags&=-33,t===null){if(Pe){if(h?Dn(o):Ln(),(t=at)?(t=sC(t,Ca),t=t!==null&&t.data!=="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:En!==null?{id:Pa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},c=Aj(t),c.return=o,o.child=c,Mt=o,at=null)):t=null,t===null)throw On(o);return wp(t)?o.lanes=32:o.lanes=536870912,null}var N=u.children;return u=u.fallback,h?(Ln(),h=o.mode,N=Ui({mode:"hidden",children:N},h),u=mr(u,h,c,null),N.return=o,u.return=o,N.sibling=u,o.child=N,u=o.child,u.memoizedState=Pm(c),u.childLanes=Hm(t,x,c),o.memoizedState=Bm,zs(null,u)):(Dn(o),$m(o,N))}var U=t.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(g)o.flags&256?(Dn(o),o.flags&=-257,o=Ym(t,o,c)):o.memoizedState!==null?(Ln(),o.child=t.child,o.flags|=128,o=null):(Ln(),N=u.fallback,h=o.mode,u=Ui({mode:"visible",children:u.children},h),N=mr(N,h,c,null),N.flags|=2,u.return=o,N.return=o,u.sibling=N,o.child=u,jr(o,t.child,null,c),u=o.child,u.memoizedState=Pm(c),u.childLanes=Hm(t,x,c),o.memoizedState=Bm,o=zs(null,u));else if(Dn(o),wp(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var Z=x.dgst;x=Z,u=Error(s(419)),u.stack="",u.digest=x,js({value:u,source:null,stack:null}),o=Ym(t,o,c)}else if(vt||fo(t,o,c,!1),x=(c&t.childLanes)!==0,vt||x){if(x=We,x!==null&&(u=Iy(x,c),u!==0&&u!==U.retryLane))throw U.retryLane=u,hr(t,u),Qt(x,t,u),Im;Cp(N)||Xi(),o=Ym(t,o,c)}else Cp(N)?(o.flags|=192,o.child=t.child,o=null):(t=U.treeContext,at=Sa(N.nextSibling),Mt=o,Pe=!0,kn=null,Ca=!1,t!==null&&Mj(o,t),o=$m(o,u.children),o.flags|=4096);return o}return h?(Ln(),N=u.fallback,h=o.mode,U=t.child,Z=U.sibling,u=tn(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Z!==null?N=tn(Z,N):(N=mr(N,h,c,null),N.flags|=2),N.return=o,u.return=o,u.sibling=N,o.child=u,zs(null,u),u=o.child,N=t.child.memoizedState,N===null?N=Pm(c):(h=N.cachePool,h!==null?(U=pt._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=Bj(),N={baseLanes:N.baseLanes|c,cachePool:h}),u.memoizedState=N,u.childLanes=Hm(t,x,c),o.memoizedState=Bm,zs(t.child,u)):(Dn(o),c=t.child,t=c.sibling,c=tn(c,{mode:"visible",children:u.children}),c.return=o,c.sibling=null,t!==null&&(x=o.deletions,x===null?(o.deletions=[t],o.flags|=16):x.push(t)),o.child=c,o.memoizedState=null,c)}function $m(t,o){return o=Ui({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Ui(t,o){return t=la(22,t,null,o),t.lanes=0,t}function Ym(t,o,c){return jr(o,t.child,null,c),t=$m(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function ZN(t,o,c){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o),om(t.return,o,c)}function Fm(t,o,c,u,h,g){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:h,treeForkCount:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=c,x.tailMode=h,x.treeForkCount=g)}function e1(t,o,c){var u=o.pendingProps,h=u.revealOrder,g=u.tail;u=u.children;var x=ut.current,N=(x&2)!==0;if(N?(x=x&1|2,o.flags|=128):x&=1,M(ut,x),Lt(t,o,u,c),u=Pe?ys:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ZN(t,c,o);else if(t.tag===19)ZN(t,c,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(c=o.child,h=null;c!==null;)t=c.alternate,t!==null&&Si(t)===null&&(h=c),c=c.sibling;c=h,c===null?(h=o.child,o.child=null):(h=c.sibling,c.sibling=null),Fm(o,!1,h,c,g,u);break;case"backwards":case"unstable_legacy-backwards":for(c=null,h=o.child,o.child=null;h!==null;){if(t=h.alternate,t!==null&&Si(t)===null){o.child=h;break}t=h.sibling,h.sibling=c,c=h,h=t}Fm(o,!0,c,null,g,u);break;case"together":Fm(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function ln(t,o,c){if(t!==null&&(o.dependencies=t.dependencies),qn|=o.lanes,(c&o.childLanes)===0)if(t!==null){if(fo(t,o,c,!1),(c&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(s(153));if(o.child!==null){for(t=o.child,c=tn(t,t.pendingProps),o.child=c,c.return=o;t.sibling!==null;)t=t.sibling,c=c.sibling=tn(t,t.pendingProps),c.return=o;c.sibling=null}return o.child}function Xm(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&vi(t)))}function LR(t,o,c){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),An(o,pt,t.memoizedState.cache),pr();break;case 27:case 5:$(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:An(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,vm(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(Dn(o),o.flags|=128,null):(c&o.child.childLanes)!==0?QN(t,o,c):(Dn(o),t=ln(t,o,c),t!==null?t.sibling:null);Dn(o);break;case 19:var h=(t.flags&128)!==0;if(u=(c&o.childLanes)!==0,u||(fo(t,o,c,!1),u=(c&o.childLanes)!==0),h){if(u)return e1(t,o,c);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),M(ut,ut.current),u)break;return null;case 22:return o.lanes=0,XN(t,o,c,o.pendingProps);case 24:An(o,pt,t.memoizedState.cache)}return ln(t,o,c)}function t1(t,o,c){if(t!==null)if(t.memoizedProps!==o.pendingProps)vt=!0;else{if(!Xm(t,c)&&(o.flags&128)===0)return vt=!1,LR(t,o,c);vt=(t.flags&131072)!==0}else vt=!1,Pe&&(o.flags&1048576)!==0&&zj(o,ys,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(t=xr(o.elementType),o.type=t,typeof t=="function")Wh(t)?(u=Cr(t,u),o.tag=1,o=JN(null,o,t,u,c)):(o.tag=0,o=qm(null,o,t,u,c));else{if(t!=null){var h=t.$$typeof;if(h===I){o.tag=11,o=$N(null,o,t,u,c);break e}else if(h===L){o.tag=14,o=YN(null,o,t,u,c);break e}}throw o=le(t)||t,Error(s(306,o,""))}}return o;case 0:return qm(t,o,o.type,o.pendingProps,c);case 1:return u=o.type,h=Cr(u,o.pendingProps),JN(t,o,u,h,c);case 3:e:{if(ae(o,o.stateNode.containerInfo),t===null)throw Error(s(387));u=o.pendingProps;var g=o.memoizedState;h=g.element,fm(t,o),Es(o,u,null,c);var x=o.memoizedState;if(u=x.cache,An(o,pt,u),u!==g.cache&&sm(o,[pt],c,!0),Ts(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){o=WN(t,o,u,c);break e}else if(u!==h){h=ya(Error(s(424)),o),js(h),o=WN(t,o,u,c);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Sa(t.firstChild),Mt=o,Pe=!0,kn=null,Ca=!0,c=Xj(o,null,u,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pr(),u===h){o=ln(t,o,c);break e}Lt(t,o,u,c)}o=o.child}return o;case 26:return Li(t,o),t===null?(c=fC(o.type,null,o.pendingProps,null))?o.memoizedState=c:Pe||(c=o.type,t=o.pendingProps,u=Zi(ie.current).createElement(c),u[zt]=o,u[Xt]=t,Ut(u,c,t),kt(u),o.stateNode=u):o.memoizedState=fC(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return $(o),t===null&&Pe&&(u=o.stateNode=cC(o.type,o.pendingProps,ie.current),Mt=o,Ca=!0,h=at,Yn(o.type)?(Sp=h,at=Sa(u.firstChild)):at=h),Lt(t,o,o.pendingProps.children,c),Li(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Pe&&((h=u=at)&&(u=fz(u,o.type,o.pendingProps,Ca),u!==null?(o.stateNode=u,Mt=o,at=Sa(u.firstChild),Ca=!1,h=!0):h=!1),h||On(o)),$(o),h=o.type,g=o.pendingProps,x=t!==null?t.memoizedProps:null,u=g.children,yp(h,g)?u=null:x!==null&&yp(h,x)&&(o.flags|=32),o.memoizedState!==null&&(h=xm(t,o,TR,null,null,c),Vs._currentValue=h),Li(t,o),Lt(t,o,u,c),o.child;case 6:return t===null&&Pe&&((t=c=at)&&(c=hz(c,o.pendingProps,Ca),c!==null?(o.stateNode=c,Mt=o,at=null,t=!0):t=!1),t||On(o)),null;case 13:return QN(t,o,c);case 4:return ae(o,o.stateNode.containerInfo),u=o.pendingProps,t===null?o.child=jr(o,null,u,c):Lt(t,o,u,c),o.child;case 11:return $N(t,o,o.type,o.pendingProps,c);case 7:return Lt(t,o,o.pendingProps,c),o.child;case 8:return Lt(t,o,o.pendingProps.children,c),o.child;case 12:return Lt(t,o,o.pendingProps.children,c),o.child;case 10:return u=o.pendingProps,An(o,o.type,u.value),Lt(t,o,u.children,c),o.child;case 9:return h=o.type._context,u=o.pendingProps.children,vr(o),h=Dt(h),u=u(h),o.flags|=1,Lt(t,o,u,c),o.child;case 14:return YN(t,o,o.type,o.pendingProps,c);case 15:return FN(t,o,o.type,o.pendingProps,c);case 19:return e1(t,o,c);case 31:return DR(t,o,c);case 22:return XN(t,o,c,o.pendingProps);case 24:return vr(o),u=Dt(pt),t===null?(h=cm(),h===null&&(h=We,g=lm(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=c),h=g),o.memoizedState={parent:u,cache:h},dm(o),An(o,pt,h)):((t.lanes&c)!==0&&(fm(t,o),Es(o,null,null,c),Ts()),h=t.memoizedState,g=o.memoizedState,h.parent!==u?(h={parent:u,cache:u},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),An(o,pt,u)):(u=g.cache,An(o,pt,u),u!==h.cache&&sm(o,[pt],c,!0))),Lt(t,o,o.pendingProps.children,c),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function cn(t){t.flags|=4}function Gm(t,o,c,u,h){if((o=(t.mode&32)!==0)&&(o=!1),o){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(E1())t.flags|=8192;else throw yr=ji,um}else t.flags&=-16777217}function a1(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vC(o))if(E1())t.flags|=8192;else throw yr=ji,um}function Ii(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?Dy():536870912,t.lanes|=o,wo|=o)}function Ms(t,o){if(!Pe)switch(t.tailMode){case"hidden":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function nt(t){var o=t.alternate!==null&&t.alternate.child===t.child,c=0,u=0;if(o)for(var h=t.child;h!==null;)c|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)c|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=c,o}function UR(t,o,c){var u=o.pendingProps;switch(tm(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(o),null;case 1:return nt(o),null;case 3:return c=o.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),rn(pt),A(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(uo(o)?cn(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,nm())),nt(o),null;case 26:var h=o.type,g=o.memoizedState;return t===null?(cn(o),g!==null?(nt(o),a1(o,g)):(nt(o),Gm(o,h,null,u,c))):g?g!==t.memoizedState?(cn(o),nt(o),a1(o,g)):(nt(o),o.flags&=-16777217):(t=t.memoizedProps,t!==u&&cn(o),nt(o),Gm(o,h,t,u,c)),null;case 27:if(de(o),c=ie.current,h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==u&&cn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return nt(o),null}t=q.current,uo(o)?Dj(o):(t=cC(h,u,c),o.stateNode=t,cn(o))}return nt(o),null;case 5:if(de(o),h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==u&&cn(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return nt(o),null}if(g=q.current,uo(o))Dj(o);else{var x=Zi(ie.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(h,{is:u.is}):x.createElement(h)}}g[zt]=o,g[Xt]=u;e:for(x=o.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===o)break e;for(;x.sibling===null;){if(x.return===null||x.return===o)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}o.stateNode=g;e:switch(Ut(g,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&cn(o)}}return nt(o),Gm(o,o.type,t===null?null:t.memoizedProps,o.pendingProps,c),null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==u&&cn(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(t=ie.current,uo(o)){if(t=o.stateNode,c=o.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[zt]=o,t=!!(t.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||Q1(t.nodeValue,c)),t||On(o,!0)}else t=Zi(t).createTextNode(u),t[zt]=o,o.stateNode=t}return nt(o),null;case 31:if(c=o.memoizedState,t===null||t.memoizedState!==null){if(u=uo(o),c!==null){if(t===null){if(!u)throw Error(s(318));if(t=o.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[zt]=o}else pr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nt(o),t=!1}else c=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),t=!0;if(!t)return o.flags&256?(ca(o),o):(ca(o),null);if((o.flags&128)!==0)throw Error(s(558))}return nt(o),null;case 13:if(u=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=uo(o),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[zt]=o}else pr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;nt(o),h=!1}else h=nm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(ca(o),o):(ca(o),null)}return ca(o),(o.flags&128)!==0?(o.lanes=c,o):(c=u!==null,t=t!==null&&t.memoizedState!==null,c&&(u=o.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)),c!==t&&c&&(o.child.flags|=8192),Ii(o,o.updateQueue),nt(o),null);case 4:return A(),t===null&&pp(o.stateNode.containerInfo),nt(o),null;case 10:return rn(o.type),nt(o),null;case 19:if(k(ut),u=o.memoizedState,u===null)return nt(o),null;if(h=(o.flags&128)!==0,g=u.rendering,g===null)if(h)Ms(u,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(g=Si(t),g!==null){for(o.flags|=128,Ms(u,!1),t=g.updateQueue,o.updateQueue=t,Ii(o,t),o.subtreeFlags=0,t=c,c=o.child;c!==null;)Oj(c,t),c=c.sibling;return M(ut,ut.current&1|2),Pe&&an(o,u.treeForkCount),o.child}t=t.sibling}u.tail!==null&&mt()>$i&&(o.flags|=128,h=!0,Ms(u,!1),o.lanes=4194304)}else{if(!h)if(t=Si(g),t!==null){if(o.flags|=128,h=!0,t=t.updateQueue,o.updateQueue=t,Ii(o,t),Ms(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Pe)return nt(o),null}else 2*mt()-u.renderingStartTime>$i&&c!==536870912&&(o.flags|=128,h=!0,Ms(u,!1),o.lanes=4194304);u.isBackwards?(g.sibling=o.child,o.child=g):(t=u.last,t!==null?t.sibling=g:o.child=g,u.last=g)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mt(),t.sibling=null,c=ut.current,M(ut,h?c&1|2:c&1),Pe&&an(o,u.treeForkCount),t):(nt(o),null);case 22:case 23:return ca(o),gm(),u=o.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(c&536870912)!==0&&(o.flags&128)===0&&(nt(o),o.subtreeFlags&6&&(o.flags|=8192)):nt(o),c=o.updateQueue,c!==null&&Ii(o,c.retryQueue),c=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==c&&(o.flags|=2048),t!==null&&k(br),null;case 24:return c=null,t!==null&&(c=t.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),rn(pt),nt(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function IR(t,o){switch(tm(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return rn(pt),A(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return de(o),null;case 31:if(o.memoizedState!==null){if(ca(o),o.alternate===null)throw Error(s(340));pr()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 13:if(ca(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(s(340));pr()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return k(ut),null;case 4:return A(),null;case 10:return rn(o.type),null;case 22:case 23:return ca(o),gm(),t!==null&&k(br),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return rn(pt),null;case 25:return null;default:return null}}function n1(t,o){switch(tm(o),o.tag){case 3:rn(pt),A();break;case 26:case 27:case 5:de(o);break;case 4:A();break;case 31:o.memoizedState!==null&&ca(o);break;case 13:ca(o);break;case 19:k(ut);break;case 10:rn(o.type);break;case 22:case 23:ca(o),gm(),t!==null&&k(br);break;case 24:rn(pt)}}function Ds(t,o){try{var c=o.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var h=u.next;c=h;do{if((c.tag&t)===t){u=void 0;var g=c.create,x=c.inst;u=g(),x.destroy=u}c=c.next}while(c!==h)}}catch(N){Ge(o,o.return,N)}}function Un(t,o,c){try{var u=o.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&t)===t){var x=u.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,h=o;var U=c,Z=N;try{Z()}catch(ce){Ge(h,U,ce)}}}u=u.next}while(u!==g)}}catch(ce){Ge(o,o.return,ce)}}function r1(t){var o=t.updateQueue;if(o!==null){var c=t.stateNode;try{Vj(o,c)}catch(u){Ge(t,t.return,u)}}}function o1(t,o,c){c.props=Cr(t.type,t.memoizedProps),c.state=t.memoizedState;try{c.componentWillUnmount()}catch(u){Ge(t,o,u)}}function Ls(t,o){try{var c=t.ref;if(c!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof c=="function"?t.refCleanup=c(u):c.current=u}}catch(h){Ge(t,o,h)}}function $a(t,o){var c=t.ref,u=t.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(h){Ge(t,o,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(h){Ge(t,o,h)}else c.current=null}function s1(t){var o=t.type,c=t.memoizedProps,u=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(h){Ge(t,t.return,h)}}function Vm(t,o,c){try{var u=t.stateNode;sz(u,t.type,c,o),u[Xt]=o}catch(h){Ge(t,t.return,h)}}function l1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yn(t.type)||t.tag===4}function Km(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||l1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jm(t,o,c){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(t,o):(o=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,o.appendChild(t),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Za));else if(u!==4&&(u===27&&Yn(t.type)&&(c=t.stateNode,o=null),t=t.child,t!==null))for(Jm(t,o,c),t=t.sibling;t!==null;)Jm(t,o,c),t=t.sibling}function qi(t,o,c){var u=t.tag;if(u===5||u===6)t=t.stateNode,o?c.insertBefore(t,o):c.appendChild(t);else if(u!==4&&(u===27&&Yn(t.type)&&(c=t.stateNode),t=t.child,t!==null))for(qi(t,o,c),t=t.sibling;t!==null;)qi(t,o,c),t=t.sibling}function i1(t){var o=t.stateNode,c=t.memoizedProps;try{for(var u=t.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);Ut(o,u,c),o[zt]=t,o[Xt]=c}catch(g){Ge(t,t.return,g)}}var un=!1,bt=!1,Wm=!1,c1=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function qR(t,o){if(t=t.containerInfo,bp=sc,t=jj(t),Yh(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else e:{c=(c=t.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var x=0,N=-1,U=-1,Z=0,ce=0,fe=t,ee=null;t:for(;;){for(var se;fe!==c||h!==0&&fe.nodeType!==3||(N=x+h),fe!==g||u!==0&&fe.nodeType!==3||(U=x+u),fe.nodeType===3&&(x+=fe.nodeValue.length),(se=fe.firstChild)!==null;)ee=fe,fe=se;for(;;){if(fe===t)break t;if(ee===c&&++Z===h&&(N=x),ee===g&&++ce===u&&(U=x),(se=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=se}c=N===-1||U===-1?null:{start:N,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(xp={focusedElem:t,selectionRange:c},sc=!1,Ot=o;Ot!==null;)if(o=Ot,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,Ot=t;else for(;Ot!==null;){switch(o=Ot,g=o.alternate,t=o.flags,o.tag){case 0:if((t&4)!==0&&(t=o.updateQueue,t=t!==null?t.events:null,t!==null))for(c=0;c<t.length;c++)h=t[c],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,c=o,h=g.memoizedProps,g=g.memoizedState,u=c.stateNode;try{var je=Cr(c.type,h);t=u.getSnapshotBeforeUpdate(je,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ge(c,c.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,c=t.nodeType,c===9)Np(t);else if(c===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Np(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=o.sibling,t!==null){t.return=o.return,Ot=t;break}Ot=o.return}}function u1(t,o,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:fn(t,c),u&4&&Ds(5,c);break;case 1:if(fn(t,c),u&4)if(t=c.stateNode,o===null)try{t.componentDidMount()}catch(x){Ge(c,c.return,x)}else{var h=Cr(c.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(h,o,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Ge(c,c.return,x)}}u&64&&r1(c),u&512&&Ls(c,c.return);break;case 3:if(fn(t,c),u&64&&(t=c.updateQueue,t!==null)){if(o=null,c.child!==null)switch(c.child.tag){case 27:case 5:o=c.child.stateNode;break;case 1:o=c.child.stateNode}try{Vj(t,o)}catch(x){Ge(c,c.return,x)}}break;case 27:o===null&&u&4&&i1(c);case 26:case 5:fn(t,c),o===null&&u&4&&s1(c),u&512&&Ls(c,c.return);break;case 12:fn(t,c);break;case 31:fn(t,c),u&4&&h1(t,c);break;case 13:fn(t,c),u&4&&m1(t,c),u&64&&(t=c.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(c=VR.bind(null,c),mz(t,c))));break;case 22:if(u=c.memoizedState!==null||un,!u){o=o!==null&&o.memoizedState!==null||bt,h=un;var g=bt;un=u,(bt=o)&&!g?hn(t,c,(c.subtreeFlags&8772)!==0):fn(t,c),un=h,bt=g}break;case 30:break;default:fn(t,c)}}function d1(t){var o=t.alternate;o!==null&&(t.alternate=null,d1(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&Th(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,Vt=!1;function dn(t,o,c){for(c=c.child;c!==null;)f1(t,o,c),c=c.sibling}function f1(t,o,c){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ct,c)}catch{}switch(c.tag){case 26:bt||$a(c,o),dn(t,o,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:bt||$a(c,o);var u=ot,h=Vt;Yn(c.type)&&(ot=c.stateNode,Vt=!1),dn(t,o,c),Fs(c.stateNode),ot=u,Vt=h;break;case 5:bt||$a(c,o);case 6:if(u=ot,h=Vt,ot=null,dn(t,o,c),ot=u,Vt=h,ot!==null)if(Vt)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(c.stateNode)}catch(g){Ge(c,o,g)}else try{ot.removeChild(c.stateNode)}catch(g){Ge(c,o,g)}break;case 18:ot!==null&&(Vt?(t=ot,rC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,c.stateNode),Ro(t)):rC(ot,c.stateNode));break;case 4:u=ot,h=Vt,ot=c.stateNode.containerInfo,Vt=!0,dn(t,o,c),ot=u,Vt=h;break;case 0:case 11:case 14:case 15:Un(2,c,o),bt||Un(4,c,o),dn(t,o,c);break;case 1:bt||($a(c,o),u=c.stateNode,typeof u.componentWillUnmount=="function"&&o1(c,o,u)),dn(t,o,c);break;case 21:dn(t,o,c);break;case 22:bt=(u=bt)||c.memoizedState!==null,dn(t,o,c),bt=u;break;default:dn(t,o,c)}}function h1(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(c){Ge(o,o.return,c)}}}function m1(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(c){Ge(o,o.return,c)}}function BR(t){switch(t.tag){case 31:case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new c1),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new c1),o;default:throw Error(s(435,t.tag))}}function Bi(t,o){var c=BR(t);o.forEach(function(u){if(!c.has(u)){c.add(u);var h=KR.bind(null,t,u);u.then(h,h)}})}function Kt(t,o){var c=o.deletions;if(c!==null)for(var u=0;u<c.length;u++){var h=c[u],g=t,x=o,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(Yn(N.type)){ot=N.stateNode,Vt=!1;break e}break;case 5:ot=N.stateNode,Vt=!1;break e;case 3:case 4:ot=N.stateNode.containerInfo,Vt=!0;break e}N=N.return}if(ot===null)throw Error(s(160));f1(g,x,h),ot=null,Vt=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)p1(o,t),o=o.sibling}var Da=null;function p1(t,o){var c=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kt(o,t),Jt(t),u&4&&(Un(3,t,t.return),Ds(3,t),Un(5,t,t.return));break;case 1:Kt(o,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),u&64&&un&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(c=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var h=Da;if(Kt(o,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),u&4){var g=c!==null?c.memoizedState:null;if(u=t.memoizedState,c===null)if(u===null)if(t.stateNode===null){e:{u=t.type,c=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[cs]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Ut(g,u,c),g[zt]=t,kt(g),u=g;break e;case"link":var x=pC("link","href",h).get(u+(c.href||""));if(x){for(var N=0;N<x.length;N++)if(g=x[N],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(N,1);break t}}g=h.createElement(u),Ut(g,u,c),h.head.appendChild(g);break;case"meta":if(x=pC("meta","content",h).get(u+(c.content||""))){for(N=0;N<x.length;N++)if(g=x[N],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(N,1);break t}}g=h.createElement(u),Ut(g,u,c),h.head.appendChild(g);break;default:throw Error(s(468,u))}g[zt]=t,kt(g),u=g}t.stateNode=u}else gC(h,t.type,t.stateNode);else t.stateNode=mC(h,u,t.memoizedProps);else g!==u?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,u===null?gC(h,t.type,t.stateNode):mC(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Vm(t,t.memoizedProps,c.memoizedProps)}break;case 27:Kt(o,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),c!==null&&u&4&&Vm(t,t.memoizedProps,c.memoizedProps);break;case 5:if(Kt(o,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),t.flags&32){h=t.stateNode;try{eo(h,"")}catch(je){Ge(t,t.return,je)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,Vm(t,h,c!==null?c.memoizedProps:h)),u&1024&&(Wm=!0);break;case 6:if(Kt(o,t),Jt(t),u&4){if(t.stateNode===null)throw Error(s(162));u=t.memoizedProps,c=t.stateNode;try{c.nodeValue=u}catch(je){Ge(t,t.return,je)}}break;case 3:if(ac=null,h=Da,Da=ec(o.containerInfo),Kt(o,t),Da=h,Jt(t),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Ro(o.containerInfo)}catch(je){Ge(t,t.return,je)}Wm&&(Wm=!1,g1(t));break;case 4:u=Da,Da=ec(t.stateNode.containerInfo),Kt(o,t),Jt(t),Da=u;break;case 12:Kt(o,t),Jt(t);break;case 31:Kt(o,t),Jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 13:Kt(o,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Hi=mt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 22:h=t.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Z=un,ce=bt;if(un=Z||h,bt=ce||U,Kt(o,t),bt=ce,un=Z,Jt(t),u&8192)e:for(o=t.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(c===null||U||un||bt||wr(t)),c=null,o=t;;){if(o.tag===5||o.tag===26){if(c===null){U=c=o;try{if(g=U.stateNode,h)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=U.stateNode;var fe=U.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(je){Ge(U,U.return,je)}}}else if(o.tag===6){if(c===null){U=o;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(je){Ge(U,U.return,je)}}}else if(o.tag===18){if(c===null){U=o;try{var se=U.stateNode;h?oC(se,!0):oC(U.stateNode,!1)}catch(je){Ge(U,U.return,je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;c===o&&(c=null),o=o.return}c===o&&(c=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=t.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,Bi(t,c))));break;case 19:Kt(o,t),Jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 30:break;case 21:break;default:Kt(o,t),Jt(t)}}function Jt(t){var o=t.flags;if(o&2){try{for(var c,u=t.return;u!==null;){if(l1(u)){c=u;break}u=u.return}if(c==null)throw Error(s(160));switch(c.tag){case 27:var h=c.stateNode,g=Km(t);qi(t,g,h);break;case 5:var x=c.stateNode;c.flags&32&&(eo(x,""),c.flags&=-33);var N=Km(t);qi(t,N,x);break;case 3:case 4:var U=c.stateNode.containerInfo,Z=Km(t);Jm(t,Z,U);break;default:throw Error(s(161))}}catch(ce){Ge(t,t.return,ce)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function g1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;g1(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function fn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)u1(t,o.alternate,o),o=o.sibling}function wr(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:Un(4,o,o.return),wr(o);break;case 1:$a(o,o.return);var c=o.stateNode;typeof c.componentWillUnmount=="function"&&o1(o,o.return,c),wr(o);break;case 27:Fs(o.stateNode);case 26:case 5:$a(o,o.return),wr(o);break;case 22:o.memoizedState===null&&wr(o);break;case 30:wr(o);break;default:wr(o)}t=t.sibling}}function hn(t,o,c){for(c=c&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,h=t,g=o,x=g.flags;switch(g.tag){case 0:case 11:case 15:hn(h,g,c),Ds(4,g);break;case 1:if(hn(h,g,c),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Ge(u,u.return,Z)}if(u=g,h=u.updateQueue,h!==null){var N=u.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)Gj(U[h],N)}catch(Z){Ge(u,u.return,Z)}}c&&x&64&&r1(g),Ls(g,g.return);break;case 27:i1(g);case 26:case 5:hn(h,g,c),c&&u===null&&x&4&&s1(g),Ls(g,g.return);break;case 12:hn(h,g,c);break;case 31:hn(h,g,c),c&&x&4&&h1(h,g);break;case 13:hn(h,g,c),c&&x&4&&m1(h,g);break;case 22:g.memoizedState===null&&hn(h,g,c),Ls(g,g.return);break;case 30:break;default:hn(h,g,c)}o=o.sibling}}function Qm(t,o){var c=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==c&&(t!=null&&t.refCount++,c!=null&&Ns(c))}function Zm(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Ns(t))}function La(t,o,c,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)v1(t,o,c,u),o=o.sibling}function v1(t,o,c,u){var h=o.flags;switch(o.tag){case 0:case 11:case 15:La(t,o,c,u),h&2048&&Ds(9,o);break;case 1:La(t,o,c,u);break;case 3:La(t,o,c,u),h&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&Ns(t)));break;case 12:if(h&2048){La(t,o,c,u),t=o.stateNode;try{var g=o.memoizedProps,x=g.id,N=g.onPostCommit;typeof N=="function"&&N(x,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Ge(o,o.return,U)}}else La(t,o,c,u);break;case 31:La(t,o,c,u);break;case 13:La(t,o,c,u);break;case 23:break;case 22:g=o.stateNode,x=o.alternate,o.memoizedState!==null?g._visibility&2?La(t,o,c,u):Us(t,o):g._visibility&2?La(t,o,c,u):(g._visibility|=2,jo(t,o,c,u,(o.subtreeFlags&10256)!==0||!1)),h&2048&&Qm(x,o);break;case 24:La(t,o,c,u),h&2048&&Zm(o.alternate,o);break;default:La(t,o,c,u)}}function jo(t,o,c,u,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var g=t,x=o,N=c,U=u,Z=x.flags;switch(x.tag){case 0:case 11:case 15:jo(g,x,N,U,h),Ds(8,x);break;case 23:break;case 22:var ce=x.stateNode;x.memoizedState!==null?ce._visibility&2?jo(g,x,N,U,h):Us(g,x):(ce._visibility|=2,jo(g,x,N,U,h)),h&&Z&2048&&Qm(x.alternate,x);break;case 24:jo(g,x,N,U,h),h&&Z&2048&&Zm(x.alternate,x);break;default:jo(g,x,N,U,h)}o=o.sibling}}function Us(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var c=t,u=o,h=u.flags;switch(u.tag){case 22:Us(c,u),h&2048&&Qm(u.alternate,u);break;case 24:Us(c,u),h&2048&&Zm(u.alternate,u);break;default:Us(c,u)}o=o.sibling}}var Is=8192;function No(t,o,c){if(t.subtreeFlags&Is)for(t=t.child;t!==null;)b1(t,o,c),t=t.sibling}function b1(t,o,c){switch(t.tag){case 26:No(t,o,c),t.flags&Is&&t.memoizedState!==null&&_z(c,Da,t.memoizedState,t.memoizedProps);break;case 5:No(t,o,c);break;case 3:case 4:var u=Da;Da=ec(t.stateNode.containerInfo),No(t,o,c),Da=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Is,Is=16777216,No(t,o,c),Is=u):No(t,o,c));break;default:No(t,o,c)}}function x1(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function qs(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var u=o[c];Ot=u,j1(u,t)}x1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y1(t),t=t.sibling}function y1(t){switch(t.tag){case 0:case 11:case 15:qs(t),t.flags&2048&&Un(9,t,t.return);break;case 3:qs(t);break;case 12:qs(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,Pi(t)):qs(t);break;default:qs(t)}}function Pi(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var c=0;c<o.length;c++){var u=o[c];Ot=u,j1(u,t)}x1(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:Un(8,o,o.return),Pi(o);break;case 22:c=o.stateNode,c._visibility&2&&(c._visibility&=-3,Pi(o));break;default:Pi(o)}t=t.sibling}}function j1(t,o){for(;Ot!==null;){var c=Ot;switch(c.tag){case 0:case 11:case 15:Un(8,c,o);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ns(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,Ot=u;else e:for(c=t;Ot!==null;){u=Ot;var h=u.sibling,g=u.return;if(d1(u),u===c){Ot=null;break e}if(h!==null){h.return=g,Ot=h;break e}Ot=g}}}var PR={getCacheForType:function(t){var o=Dt(pt),c=o.data.get(t);return c===void 0&&(c=t(),o.data.set(t,c)),c},cacheSignal:function(){return Dt(pt).controller.signal}},HR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,We=null,Le=null,Ie=0,Xe=0,ua=null,In=!1,Co=!1,ep=!1,mn=0,ct=0,qn=0,Sr=0,tp=0,da=0,wo=0,Bs=null,Wt=null,ap=!1,Hi=0,N1=0,$i=1/0,Yi=null,Bn=null,wt=0,Pn=null,So=null,pn=0,np=0,rp=null,C1=null,Ps=0,op=null;function fa(){return(Ye&2)!==0&&Ie!==0?Ie&-Ie:O.T!==null?dp():qy()}function w1(){if(da===0)if((Ie&536870912)===0||Pe){var t=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),da=t}else da=536870912;return t=ia.current,t!==null&&(t.flags|=32),da}function Qt(t,o,c){(t===We&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(_o(t,0),Hn(t,Ie,da,!1)),is(t,c),((Ye&2)===0||t!==We)&&(t===We&&((Ye&2)===0&&(Sr|=c),ct===4&&Hn(t,Ie,da,!1)),Ya(t))}function S1(t,o,c){if((Ye&6)!==0)throw Error(s(327));var u=!c&&(o&127)===0&&(o&t.expiredLanes)===0||ls(t,o),h=u?FR(t,o):lp(t,o,!0),g=u;do{if(h===0){Co&&!u&&Hn(t,o,0,!1);break}else{if(c=t.current.alternate,g&&!$R(c)){h=lp(t,o,!1),g=!1;continue}if(h===2){if(g=o,t.errorRecoveryDisabledLanes&g)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){o=x;e:{var N=t;h=Bs;var U=N.current.memoizedState.isDehydrated;if(U&&(_o(N,x).flags|=256),x=lp(N,x,!1),x!==2){if(ep&&!U){N.errorRecoveryDisabledLanes|=g,Sr|=g,h=4;break e}g=Wt,Wt=h,g!==null&&(Wt===null?Wt=g:Wt.push.apply(Wt,g))}h=x}if(g=!1,h!==2)continue}}if(h===1){_o(t,0),Hn(t,o,0,!0);break}e:{switch(u=t,g=h,g){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Hn(u,o,da,!In);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(h=Hi+300-mt(),10<h)){if(Hn(u,o,da,!In),ei(u,0,!0)!==0)break e;pn=o,u.timeoutHandle=aC(_1.bind(null,u,c,Wt,Yi,ap,o,da,Sr,wo,In,g,"Throttled",-0,0),h);break e}_1(u,c,Wt,Yi,ap,o,da,Sr,wo,In,g,null,-0,0)}}break}while(!0);Ya(t)}function _1(t,o,c,u,h,g,x,N,U,Z,ce,fe,ee,se){if(t.timeoutHandle=-1,fe=o.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Za},b1(o,g,fe);var je=(g&62914560)===g?Hi-mt():(g&4194048)===g?N1-mt():0;if(je=Tz(fe,je),je!==null){pn=g,t.cancelPendingCommit=je(M1.bind(null,t,o,g,c,u,h,x,N,U,ce,fe,null,ee,se)),Hn(t,g,x,!Z);return}}M1(t,o,g,c,u,h,x,N,U)}function $R(t){for(var o=t;;){var c=o.tag;if((c===0||c===11||c===15)&&o.flags&16384&&(c=o.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var h=c[u],g=h.getSnapshot;h=h.value;try{if(!sa(g(),h))return!1}catch{return!1}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Hn(t,o,c,u){o&=~tp,o&=~Sr,t.suspendedLanes|=o,t.pingedLanes&=~o,u&&(t.warmLanes|=o),u=t.expirationTimes;for(var h=o;0<h;){var g=31-Et(h),x=1<<g;u[g]=-1,h&=~x}c!==0&&Ly(t,c,o)}function Fi(){return(Ye&6)===0?(Hs(0),!1):!0}function sp(){if(Le!==null){if(Xe===0)var t=Le.return;else t=Le,nn=gr=null,Nm(t),go=null,ws=0,t=Le;for(;t!==null;)n1(t.alternate,t),t=t.return;Le=null}}function _o(t,o){var c=t.timeoutHandle;c!==-1&&(t.timeoutHandle=-1,cz(c)),c=t.cancelPendingCommit,c!==null&&(t.cancelPendingCommit=null,c()),pn=0,sp(),We=t,Le=c=tn(t.current,null),Ie=o,Xe=0,ua=null,In=!1,Co=ls(t,o),ep=!1,wo=da=tp=Sr=qn=ct=0,Wt=Bs=null,ap=!1,(o&8)!==0&&(o|=o&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=o;0<u;){var h=31-Et(u),g=1<<h;o|=t[h],u&=~g}return mn=o,fi(),c}function T1(t,o){Re=null,O.H=Rs,o===po||o===yi?(o=$j(),Xe=3):o===um?(o=$j(),Xe=4):Xe=o===Im?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ua=o,Le===null&&(ct=1,Mi(t,ya(o,t.current)))}function E1(){var t=ia.current;return t===null?!0:(Ie&4194048)===Ie?wa===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===wa:!1}function k1(){var t=O.H;return O.H=Rs,t===null?Rs:t}function O1(){var t=O.A;return O.A=PR,t}function Xi(){ct=4,In||(Ie&4194048)!==Ie&&ia.current!==null||(Co=!0),(qn&134217727)===0&&(Sr&134217727)===0||We===null||Hn(We,Ie,da,!1)}function lp(t,o,c){var u=Ye;Ye|=2;var h=k1(),g=O1();(We!==t||Ie!==o)&&(Yi=null,_o(t,o)),o=!1;var x=ct;e:do try{if(Xe!==0&&Le!==null){var N=Le,U=ua;switch(Xe){case 8:sp(),x=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(o=!0);var Z=Xe;if(Xe=0,ua=null,To(t,N,U,Z),c&&Co){x=0;break e}break;default:Z=Xe,Xe=0,ua=null,To(t,N,U,Z)}}YR(),x=ct;break}catch(ce){T1(t,ce)}while(!0);return o&&t.shellSuspendCounter++,nn=gr=null,Ye=u,O.H=h,O.A=g,Le===null&&(We=null,Ie=0,fi()),x}function YR(){for(;Le!==null;)A1(Le)}function FR(t,o){var c=Ye;Ye|=2;var u=k1(),h=O1();We!==t||Ie!==o?(Yi=null,$i=mt()+500,_o(t,o)):Co=ls(t,o);e:do try{if(Xe!==0&&Le!==null){o=Le;var g=ua;t:switch(Xe){case 1:Xe=0,ua=null,To(t,o,g,1);break;case 2:case 9:if(Pj(g)){Xe=0,ua=null,R1(o);break}o=function(){Xe!==2&&Xe!==9||We!==t||(Xe=7),Ya(t)},g.then(o,o);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Pj(g)?(Xe=0,ua=null,R1(o)):(Xe=0,ua=null,To(t,o,g,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var N=Le;if(x?vC(x):N.stateNode.complete){Xe=0,ua=null;var U=N.sibling;if(U!==null)Le=U;else{var Z=N.return;Z!==null?(Le=Z,Gi(Z)):Le=null}break t}}Xe=0,ua=null,To(t,o,g,5);break;case 6:Xe=0,ua=null,To(t,o,g,6);break;case 8:sp(),ct=6;break e;default:throw Error(s(462))}}XR();break}catch(ce){T1(t,ce)}while(!0);return nn=gr=null,O.H=u,O.A=h,Ye=c,Le!==null?0:(We=null,Ie=0,fi(),ct)}function XR(){for(;Le!==null&&!pa();)A1(Le)}function A1(t){var o=t1(t.alternate,t,mn);t.memoizedProps=t.pendingProps,o===null?Gi(t):Le=o}function R1(t){var o=t,c=o.alternate;switch(o.tag){case 15:case 0:o=KN(c,o,o.pendingProps,o.type,void 0,Ie);break;case 11:o=KN(c,o,o.pendingProps,o.type.render,o.ref,Ie);break;case 5:Nm(o);default:n1(c,o),o=Le=Oj(o,mn),o=t1(c,o,mn)}t.memoizedProps=t.pendingProps,o===null?Gi(t):Le=o}function To(t,o,c,u){nn=gr=null,Nm(o),go=null,ws=0;var h=o.return;try{if(MR(t,h,o,c,Ie)){ct=1,Mi(t,ya(c,t.current)),Le=null;return}}catch(g){if(h!==null)throw Le=h,g;ct=1,Mi(t,ya(c,t.current)),Le=null;return}o.flags&32768?(Pe||u===1?t=!0:Co||(Ie&536870912)!==0?t=!1:(In=t=!0,(u===2||u===9||u===3||u===6)&&(u=ia.current,u!==null&&u.tag===13&&(u.flags|=16384))),z1(o,t)):Gi(o)}function Gi(t){var o=t;do{if((o.flags&32768)!==0){z1(o,In);return}t=o.return;var c=UR(o.alternate,o,mn);if(c!==null){Le=c;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=t}while(o!==null);ct===0&&(ct=5)}function z1(t,o){do{var c=IR(t.alternate,t);if(c!==null){c.flags&=32767,Le=c;return}if(c=t.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!o&&(t=t.sibling,t!==null)){Le=t;return}Le=t=c}while(t!==null);ct=6,Le=null}function M1(t,o,c,u,h,g,x,N,U){t.cancelPendingCommit=null;do Vi();while(wt!==0);if((Ye&6)!==0)throw Error(s(327));if(o!==null){if(o===t.current)throw Error(s(177));if(g=o.lanes|o.childLanes,g|=Kh,SA(t,c,g,x,N,U),t===We&&(Le=We=null,Ie=0),So=o,Pn=t,pn=c,np=g,rp=h,C1=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JR(Rt,function(){return q1(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,h=J.p,J.p=2,x=Ye,Ye|=4;try{qR(t,o,c)}finally{Ye=x,J.p=h,O.T=u}}wt=1,D1(),L1(),U1()}}function D1(){if(wt===1){wt=0;var t=Pn,o=So,c=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var u=J.p;J.p=2;var h=Ye;Ye|=4;try{p1(o,t);var g=xp,x=jj(t.containerInfo),N=g.focusedElem,U=g.selectionRange;if(x!==N&&N&&N.ownerDocument&&yj(N.ownerDocument.documentElement,N)){if(U!==null&&Yh(N)){var Z=U.start,ce=U.end;if(ce===void 0&&(ce=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ce,N.value.length);else{var fe=N.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),je=N.textContent.length,Ee=Math.min(U.start,je),Je=U.end===void 0?Ee:Math.min(U.end,je);!se.extend&&Ee>Je&&(x=Je,Je=Ee,Ee=x);var G=xj(N,Ee),B=xj(N,Je);if(G&&B&&(se.rangeCount!==1||se.anchorNode!==G.node||se.anchorOffset!==G.offset||se.focusNode!==B.node||se.focusOffset!==B.offset)){var W=fe.createRange();W.setStart(G.node,G.offset),se.removeAllRanges(),Ee>Je?(se.addRange(W),se.extend(B.node,B.offset)):(W.setEnd(B.node,B.offset),se.addRange(W))}}}}for(fe=[],se=N;se=se.parentNode;)se.nodeType===1&&fe.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var ue=fe[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}sc=!!bp,xp=bp=null}finally{Ye=h,J.p=u,O.T=c}}t.current=o,wt=2}}function L1(){if(wt===2){wt=0;var t=Pn,o=So,c=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var u=J.p;J.p=2;var h=Ye;Ye|=4;try{u1(t,o.alternate,o)}finally{Ye=h,J.p=u,O.T=c}}wt=3}}function U1(){if(wt===4||wt===3){wt=0,_t();var t=Pn,o=So,c=pn,u=C1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?wt=5:(wt=0,So=Pn=null,I1(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bn=null),Sh(c),o=o.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ct,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=O.T,h=J.p,J.p=2,O.T=null;try{for(var g=t.onRecoverableError,x=0;x<u.length;x++){var N=u[x];g(N.value,{componentStack:N.stack})}}finally{O.T=o,J.p=h}}(pn&3)!==0&&Vi(),Ya(t),h=t.pendingLanes,(c&261930)!==0&&(h&42)!==0?t===op?Ps++:(Ps=0,op=t):Ps=0,Hs(0)}}function I1(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,Ns(o)))}function Vi(){return D1(),L1(),U1(),q1()}function q1(){if(wt!==5)return!1;var t=Pn,o=np;np=0;var c=Sh(pn),u=O.T,h=J.p;try{J.p=32>c?32:c,O.T=null,c=rp,rp=null;var g=Pn,x=pn;if(wt=0,So=Pn=null,pn=0,(Ye&6)!==0)throw Error(s(331));var N=Ye;if(Ye|=4,y1(g.current),v1(g,g.current,x,c),Ye=N,Hs(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ct,g)}catch{}return!0}finally{J.p=h,O.T=u,I1(t,o)}}function B1(t,o,c){o=ya(c,o),o=Um(t.stateNode,o,2),t=Mn(t,o,2),t!==null&&(is(t,2),Ya(t))}function Ge(t,o,c){if(t.tag===3)B1(t,t,c);else for(;o!==null;){if(o.tag===3){B1(o,t,c);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bn===null||!Bn.has(u))){t=ya(c,t),c=PN(2),u=Mn(o,c,2),u!==null&&(HN(c,u,o,t),is(u,2),Ya(u));break}}o=o.return}}function ip(t,o,c){var u=t.pingCache;if(u===null){u=t.pingCache=new HR;var h=new Set;u.set(o,h)}else h=u.get(o),h===void 0&&(h=new Set,u.set(o,h));h.has(c)||(ep=!0,h.add(c),t=GR.bind(null,t,o,c),o.then(t,t))}function GR(t,o,c){var u=t.pingCache;u!==null&&u.delete(o),t.pingedLanes|=t.suspendedLanes&c,t.warmLanes&=~c,We===t&&(Ie&c)===c&&(ct===4||ct===3&&(Ie&62914560)===Ie&&300>mt()-Hi?(Ye&2)===0&&_o(t,0):tp|=c,wo===Ie&&(wo=0)),Ya(t)}function P1(t,o){o===0&&(o=Dy()),t=hr(t,o),t!==null&&(is(t,o),Ya(t))}function VR(t){var o=t.memoizedState,c=0;o!==null&&(c=o.retryLane),P1(t,c)}function KR(t,o){var c=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(c=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),P1(t,c)}function JR(t,o){return Nt(t,o)}var Ki=null,Eo=null,cp=!1,Ji=!1,up=!1,$n=0;function Ya(t){t!==Eo&&t.next===null&&(Eo===null?Ki=Eo=t:Eo=Eo.next=t),Ji=!0,cp||(cp=!0,QR())}function Hs(t,o){if(!up&&Ji){up=!0;do for(var c=!1,u=Ki;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var x=u.suspendedLanes,N=u.pingedLanes;g=(1<<31-Et(42|t)+1)-1,g&=h&~(x&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,F1(u,g))}else g=Ie,g=ei(u,u===We?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ls(u,g)||(c=!0,F1(u,g));u=u.next}while(c);up=!1}}function WR(){H1()}function H1(){Ji=cp=!1;var t=0;$n!==0&&iz()&&(t=$n);for(var o=mt(),c=null,u=Ki;u!==null;){var h=u.next,g=$1(u,o);g===0?(u.next=null,c===null?Ki=h:c.next=h,h===null&&(Eo=c)):(c=u,(t!==0||(g&3)!==0)&&(Ji=!0)),u=h}wt!==0&&wt!==5||Hs(t),$n!==0&&($n=0)}function $1(t,o){for(var c=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var x=31-Et(g),N=1<<x,U=h[x];U===-1?((N&c)===0||(N&u)!==0)&&(h[x]=wA(N,o)):U<=o&&(t.expiredLanes|=N),g&=~N}if(o=We,c=Ie,c=ei(t,t===o?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,c===0||t===o&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&oa(u),t.callbackNode=null,t.callbackPriority=0;if((c&3)===0||ls(t,c)){if(o=c&-c,o===t.callbackPriority)return o;switch(u!==null&&oa(u),Sh(c)){case 2:case 8:c=Tt;break;case 32:c=Rt;break;case 268435456:c=za;break;default:c=Rt}return u=Y1.bind(null,t),c=Nt(c,u),t.callbackPriority=o,t.callbackNode=c,o}return u!==null&&u!==null&&oa(u),t.callbackPriority=2,t.callbackNode=null,2}function Y1(t,o){if(wt!==0&&wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var c=t.callbackNode;if(Vi()&&t.callbackNode!==c)return null;var u=Ie;return u=ei(t,t===We?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(S1(t,u,o),$1(t,mt()),t.callbackNode!=null&&t.callbackNode===c?Y1.bind(null,t):null)}function F1(t,o){if(Vi())return null;S1(t,o,!0)}function QR(){uz(function(){(Ye&6)!==0?Nt(Gr,WR):H1()})}function dp(){if($n===0){var t=ho;t===0&&(t=Wl,Wl<<=1,(Wl&261888)===0&&(Wl=256)),$n=t}return $n}function X1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function G1(t,o){var c=o.ownerDocument.createElement("input");return c.name=o.name,c.value=o.value,t.id&&c.setAttribute("form",t.id),o.parentNode.insertBefore(c,o),t=new FormData(t),c.parentNode.removeChild(c),t}function ZR(t,o,c,u,h){if(o==="submit"&&c&&c.stateNode===h){var g=X1((h[Xt]||null).action),x=u.submitter;x&&(o=(o=x[Xt]||null)?X1(o.formAction):x.getAttribute("formAction"),o!==null&&(g=o,x=null));var N=new ii("action","action",null,u,h);t.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($n!==0){var U=x?G1(h,x):new FormData(h);Am(c,{pending:!0,data:U,method:h.method,action:g},null,U)}}else typeof g=="function"&&(N.preventDefault(),U=x?G1(h,x):new FormData(h),Am(c,{pending:!0,data:U,method:h.method,action:g},g,U))},currentTarget:h}]})}}for(var fp=0;fp<Vh.length;fp++){var hp=Vh[fp],ez=hp.toLowerCase(),tz=hp[0].toUpperCase()+hp.slice(1);Ma(ez,"on"+tz)}Ma(wj,"onAnimationEnd"),Ma(Sj,"onAnimationIteration"),Ma(_j,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(vR,"onTransitionRun"),Ma(bR,"onTransitionStart"),Ma(xR,"onTransitionCancel"),Ma(Tj,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),az=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function V1(t,o){o=(o&4)!==0;for(var c=0;c<t.length;c++){var u=t[c],h=u.event;u=u.listeners;e:{var g=void 0;if(o)for(var x=u.length-1;0<=x;x--){var N=u[x],U=N.instance,Z=N.currentTarget;if(N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=Z;try{g(h)}catch(ce){di(ce)}h.currentTarget=null,g=U}else for(x=0;x<u.length;x++){if(N=u[x],U=N.instance,Z=N.currentTarget,N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=Z;try{g(h)}catch(ce){di(ce)}h.currentTarget=null,g=U}}}}function Ue(t,o){var c=o[_h];c===void 0&&(c=o[_h]=new Set);var u=t+"__bubble";c.has(u)||(K1(o,t,2,!1),c.add(u))}function mp(t,o,c){var u=0;o&&(u|=4),K1(c,t,u,o)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function pp(t){if(!t[Wi]){t[Wi]=!0,Hy.forEach(function(c){c!=="selectionchange"&&(az.has(c)||mp(c,!1,t),mp(c,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[Wi]||(o[Wi]=!0,mp("selectionchange",!1,o))}}function K1(t,o,c,u){switch(wC(o)){case 2:var h=Oz;break;case 8:h=Az;break;default:h=Op}c=h.bind(null,o,c,t),h=void 0,!Dh||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(o,c,{capture:!0,passive:h}):t.addEventListener(o,c,!0):h!==void 0?t.addEventListener(o,c,{passive:h}):t.addEventListener(o,c,!1)}function gp(t,o,c,u,h){var g=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var N=u.stateNode.containerInfo;if(N===h)break;if(x===4)for(x=u.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;N!==null;){if(x=Kr(N),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){u=g=x;continue e}N=N.parentNode}}u=u.return}ej(function(){var Z=g,ce=zh(c),fe=[];e:{var ee=Ej.get(t);if(ee!==void 0){var se=ii,je=t;switch(t){case"keypress":if(si(c)===0)break e;case"keydown":case"keyup":se=KA;break;case"focusin":je="focus",se=qh;break;case"focusout":je="blur",se=qh;break;case"beforeblur":case"afterblur":se=qh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=nj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=UA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=QA;break;case wj:case Sj:case _j:se=BA;break;case Tj:se=eR;break;case"scroll":case"scrollend":se=DA;break;case"wheel":se=aR;break;case"copy":case"cut":case"paste":se=HA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=oj;break;case"toggle":case"beforetoggle":se=rR}var Ee=(o&4)!==0,Je=!Ee&&(t==="scroll"||t==="scrollend"),G=Ee?ee!==null?ee+"Capture":null:ee;Ee=[];for(var B=Z,W;B!==null;){var ue=B;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||G===null||(ue=ds(B,G),ue!=null&&Ee.push(Ys(B,ue,W))),Je)break;B=B.return}0<Ee.length&&(ee=new se(ee,je,null,c,ce),fe.push({event:ee,listeners:Ee}))}}if((o&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",ee&&c!==Rh&&(je=c.relatedTarget||c.fromElement)&&(Kr(je)||je[Vr]))break e;if((se||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(je=c.relatedTarget||c.toElement,se=Z,je=je?Kr(je):null,je!==null&&(Je=i(je),Ee=je.tag,je!==Je||Ee!==5&&Ee!==27&&Ee!==6)&&(je=null)):(se=null,je=Z),se!==je)){if(Ee=nj,ue="onMouseLeave",G="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=oj,ue="onPointerLeave",G="onPointerEnter",B="pointer"),Je=se==null?ee:us(se),W=je==null?ee:us(je),ee=new Ee(ue,B+"leave",se,c,ce),ee.target=Je,ee.relatedTarget=W,ue=null,Kr(ce)===Z&&(Ee=new Ee(G,B+"enter",je,c,ce),Ee.target=W,Ee.relatedTarget=Je,ue=Ee),Je=ue,se&&je)t:{for(Ee=nz,G=se,B=je,W=0,ue=G;ue;ue=Ee(ue))W++;ue=0;for(var Se=B;Se;Se=Ee(Se))ue++;for(;0<W-ue;)G=Ee(G),W--;for(;0<ue-W;)B=Ee(B),ue--;for(;W--;){if(G===B||B!==null&&G===B.alternate){Ee=G;break t}G=Ee(G),B=Ee(B)}Ee=null}else Ee=null;se!==null&&J1(fe,ee,se,Ee,!1),je!==null&&Je!==null&&J1(fe,Je,je,Ee,!0)}}e:{if(ee=Z?us(Z):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var He=hj;else if(dj(ee))if(mj)He=mR;else{He=fR;var we=dR}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Ah(Z.elementType)&&(He=hj):He=hR;if(He&&(He=He(t,Z))){fj(fe,He,c,ce);break e}we&&we(t,ee,Z),t==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Oh(ee,"number",ee.value)}switch(we=Z?us(Z):window,t){case"focusin":(dj(we)||we.contentEditable==="true")&&(ro=we,Fh=Z,xs=null);break;case"focusout":xs=Fh=ro=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Nj(fe,c,ce);break;case"selectionchange":if(gR)break;case"keydown":case"keyup":Nj(fe,c,ce)}var ze;if(Ph)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else no?cj(t,c)&&(qe="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(sj&&c.locale!=="ko"&&(no||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&no&&(ze=tj()):(Tn=ce,Lh="value"in Tn?Tn.value:Tn.textContent,no=!0)),we=Qi(Z,qe),0<we.length&&(qe=new rj(qe,t,null,c,ce),fe.push({event:qe,listeners:we}),ze?qe.data=ze:(ze=uj(c),ze!==null&&(qe.data=ze)))),(ze=sR?lR(t,c):iR(t,c))&&(qe=Qi(Z,"onBeforeInput"),0<qe.length&&(we=new rj("onBeforeInput","beforeinput",null,c,ce),fe.push({event:we,listeners:qe}),we.data=ze)),ZR(fe,t,Z,c,ce)}V1(fe,o)})}function Ys(t,o,c){return{instance:t,listener:o,currentTarget:c}}function Qi(t,o){for(var c=o+"Capture",u=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=ds(t,c),h!=null&&u.unshift(Ys(t,h,g)),h=ds(t,o),h!=null&&u.push(Ys(t,h,g))),t.tag===3)return u;t=t.return}return[]}function nz(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J1(t,o,c,u,h){for(var g=o._reactName,x=[];c!==null&&c!==u;){var N=c,U=N.alternate,Z=N.stateNode;if(N=N.tag,U!==null&&U===u)break;N!==5&&N!==26&&N!==27||Z===null||(U=Z,h?(Z=ds(c,g),Z!=null&&x.unshift(Ys(c,Z,U))):h||(Z=ds(c,g),Z!=null&&x.push(Ys(c,Z,U)))),c=c.return}x.length!==0&&t.push({event:o,listeners:x})}var rz=/\r\n?/g,oz=/\u0000|\uFFFD/g;function W1(t){return(typeof t=="string"?t:""+t).replace(rz,`
`).replace(oz,"")}function Q1(t,o){return o=W1(o),W1(t)===o}function Ke(t,o,c,u,h,g){switch(c){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||eo(t,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&eo(t,""+u);break;case"className":ai(t,"class",u);break;case"tabIndex":ai(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,c,u);break;case"style":Qy(t,u,g);break;case"data":if(o!=="object"){ai(t,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||c!=="href")){t.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(c);break}u=ri(""+u),t.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(o!=="input"&&Ke(t,o,"name",h.name,h,null),Ke(t,o,"formEncType",h.formEncType,h,null),Ke(t,o,"formMethod",h.formMethod,h,null),Ke(t,o,"formTarget",h.formTarget,h,null)):(Ke(t,o,"encType",h.encType,h,null),Ke(t,o,"method",h.method,h,null),Ke(t,o,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(c);break}u=ri(""+u),t.setAttribute(c,u);break;case"onClick":u!=null&&(t.onclick=Za);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=c}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}c=ri(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,""+u):t.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,""):t.removeAttribute(c);break;case"capture":case"download":u===!0?t.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,u):t.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(c,u):t.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(c):t.setAttribute(c,u);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ti(t,"popover",u);break;case"xlinkActuate":Qa(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qa(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qa(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qa(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qa(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ti(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=zA.get(c)||c,ti(t,c,u))}}function vp(t,o,c,u,h,g){switch(c){case"style":Qy(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(c=u.__html,c!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=c}}break;case"children":typeof u=="string"?eo(t,u):(typeof u=="number"||typeof u=="bigint")&&eo(t,""+u);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$y.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(h=c.endsWith("Capture"),o=c.slice(2,h?c.length-7:void 0),g=t[Xt]||null,g=g!=null?g[c]:null,typeof g=="function"&&t.removeEventListener(o,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(c in t?t[c]=null:t.hasAttribute(c)&&t.removeAttribute(c)),t.addEventListener(o,u,h);break e}c in t?t[c]=u:u===!0?t.setAttribute(c,""):ti(t,c,u)}}}function Ut(t,o,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var u=!1,h=!1,g;for(g in c)if(c.hasOwnProperty(g)){var x=c[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ke(t,o,g,x,c,null)}}h&&Ke(t,o,"srcSet",c.srcSet,c,null),u&&Ke(t,o,"src",c.src,c,null);return;case"input":Ue("invalid",t);var N=g=x=h=null,U=null,Z=null;for(u in c)if(c.hasOwnProperty(u)){var ce=c[u];if(ce!=null)switch(u){case"name":h=ce;break;case"type":x=ce;break;case"checked":U=ce;break;case"defaultChecked":Z=ce;break;case"value":g=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,o));break;default:Ke(t,o,u,ce,c,null)}}Vy(t,g,N,U,Z,x,h,!1);return;case"select":Ue("invalid",t),u=x=g=null;for(h in c)if(c.hasOwnProperty(h)&&(N=c[h],N!=null))switch(h){case"value":g=N;break;case"defaultValue":x=N;break;case"multiple":u=N;default:Ke(t,o,h,N,c,null)}o=g,c=x,t.multiple=!!u,o!=null?Zr(t,!!u,o,!1):c!=null&&Zr(t,!!u,c,!0);return;case"textarea":Ue("invalid",t),g=h=u=null;for(x in c)if(c.hasOwnProperty(x)&&(N=c[x],N!=null))switch(x){case"value":u=N;break;case"defaultValue":h=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:Ke(t,o,x,N,c,null)}Jy(t,u,h,g);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(u=c[U],u!=null))switch(U){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(t,o,U,u,c,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(u=0;u<$s.length;u++)Ue($s[u],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(u=c[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:Ke(t,o,Z,u,c,null)}return;default:if(Ah(o)){for(ce in c)c.hasOwnProperty(ce)&&(u=c[ce],u!==void 0&&vp(t,o,ce,u,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(u=c[N],u!=null&&Ke(t,o,N,u,c,null))}function sz(t,o,c,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,x=null,N=null,U=null,Z=null,ce=null;for(se in c){var fe=c[se];if(c.hasOwnProperty(se)&&fe!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=fe;default:u.hasOwnProperty(se)||Ke(t,o,se,null,u,fe)}}for(var ee in u){var se=u[ee];if(fe=c[ee],u.hasOwnProperty(ee)&&(se!=null||fe!=null))switch(ee){case"type":g=se;break;case"name":h=se;break;case"checked":Z=se;break;case"defaultChecked":ce=se;break;case"value":x=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,o));break;default:se!==fe&&Ke(t,o,ee,se,u,fe)}}kh(t,x,N,U,Z,ce,g,h);return;case"select":se=x=N=ee=null;for(g in c)if(U=c[g],c.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":se=U;default:u.hasOwnProperty(g)||Ke(t,o,g,null,u,U)}for(h in u)if(g=u[h],U=c[h],u.hasOwnProperty(h)&&(g!=null||U!=null))switch(h){case"value":ee=g;break;case"defaultValue":N=g;break;case"multiple":x=g;default:g!==U&&Ke(t,o,h,g,u,U)}o=N,c=x,u=se,ee!=null?Zr(t,!!c,ee,!1):!!u!=!!c&&(o!=null?Zr(t,!!c,o,!0):Zr(t,!!c,c?[]:"",!1));return;case"textarea":se=ee=null;for(N in c)if(h=c[N],c.hasOwnProperty(N)&&h!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ke(t,o,N,null,u,h)}for(x in u)if(h=u[x],g=c[x],u.hasOwnProperty(x)&&(h!=null||g!=null))switch(x){case"value":ee=h;break;case"defaultValue":se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==g&&Ke(t,o,x,h,u,g)}Ky(t,ee,se);return;case"option":for(var je in c)if(ee=c[je],c.hasOwnProperty(je)&&ee!=null&&!u.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:Ke(t,o,je,null,u,ee)}for(U in u)if(ee=u[U],se=c[U],u.hasOwnProperty(U)&&ee!==se&&(ee!=null||se!=null))switch(U){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ke(t,o,U,ee,u,se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in c)ee=c[Ee],c.hasOwnProperty(Ee)&&ee!=null&&!u.hasOwnProperty(Ee)&&Ke(t,o,Ee,null,u,ee);for(Z in u)if(ee=u[Z],se=c[Z],u.hasOwnProperty(Z)&&ee!==se&&(ee!=null||se!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,o));break;default:Ke(t,o,Z,ee,u,se)}return;default:if(Ah(o)){for(var Je in c)ee=c[Je],c.hasOwnProperty(Je)&&ee!==void 0&&!u.hasOwnProperty(Je)&&vp(t,o,Je,void 0,u,ee);for(ce in u)ee=u[ce],se=c[ce],!u.hasOwnProperty(ce)||ee===se||ee===void 0&&se===void 0||vp(t,o,ce,ee,u,se);return}}for(var G in c)ee=c[G],c.hasOwnProperty(G)&&ee!=null&&!u.hasOwnProperty(G)&&Ke(t,o,G,null,u,ee);for(fe in u)ee=u[fe],se=c[fe],!u.hasOwnProperty(fe)||ee===se||ee==null&&se==null||Ke(t,o,fe,ee,u,se)}function Z1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lz(){if(typeof performance.getEntriesByType=="function"){for(var t=0,o=0,c=performance.getEntriesByType("resource"),u=0;u<c.length;u++){var h=c[u],g=h.transferSize,x=h.initiatorType,N=h.duration;if(g&&N&&Z1(x)){for(x=0,N=h.responseEnd,u+=1;u<c.length;u++){var U=c[u],Z=U.startTime;if(Z>N)break;var ce=U.transferSize,fe=U.initiatorType;ce&&Z1(fe)&&(U=U.responseEnd,x+=ce*(U<N?1:(N-Z)/(U-Z)))}if(--u,o+=8*(g+x)/(h.duration/1e3),t++,10<t)break}}if(0<t)return o/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bp=null,xp=null;function Zi(t){return t.nodeType===9?t:t.ownerDocument}function eC(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tC(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function yp(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jp=null;function iz(){var t=window.event;return t&&t.type==="popstate"?t===jp?!1:(jp=t,!0):(jp=null,!1)}var aC=typeof setTimeout=="function"?setTimeout:void 0,cz=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,uz=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(t){return nC.resolve(null).then(t).catch(dz)}:aC;function dz(t){setTimeout(function(){throw t})}function Yn(t){return t==="head"}function rC(t,o){var c=o,u=0;do{var h=c.nextSibling;if(t.removeChild(c),h&&h.nodeType===8)if(c=h.data,c==="/$"||c==="/&"){if(u===0){t.removeChild(h),Ro(o);return}u--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")u++;else if(c==="html")Fs(t.ownerDocument.documentElement);else if(c==="head"){c=t.ownerDocument.head,Fs(c);for(var g=c.firstChild;g;){var x=g.nextSibling,N=g.nodeName;g[cs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||c.removeChild(g),g=x}}else c==="body"&&Fs(t.ownerDocument.body);c=h}while(c);Ro(o)}function oC(t,o){var c=t;t=0;do{var u=c.nextSibling;if(c.nodeType===1?o?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(o?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),u&&u.nodeType===8)if(c=u.data,c==="/$"){if(t===0)break;t--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||t++;c=u}while(c)}function Np(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var c=o;switch(o=o.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Np(c),Th(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}t.removeChild(c)}}function fz(t,o,c,u){for(;t.nodeType===1;){var h=c;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[cs])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Sa(t.nextSibling),t===null)break}return null}function hz(t,o,c){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!c||(t=Sa(t.nextSibling),t===null))return null;return t}function sC(t,o){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Sa(t.nextSibling),t===null))return null;return t}function Cp(t){return t.data==="$?"||t.data==="$~"}function wp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mz(t,o){var c=t.ownerDocument;if(t.data==="$~")t._reactRetry=o;else if(t.data!=="$?"||c.readyState!=="loading")o();else{var u=function(){o(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Sa(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return t}var Sp=null;function lC(t){t=t.nextSibling;for(var o=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"||c==="/&"){if(o===0)return Sa(t.nextSibling);o--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||o++}t=t.nextSibling}return null}function iC(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(o===0)return t;o--}else c!=="/$"&&c!=="/&"||o++}t=t.previousSibling}return null}function cC(t,o,c){switch(o=Zi(c),t){case"html":if(t=o.documentElement,!t)throw Error(s(452));return t;case"head":if(t=o.head,!t)throw Error(s(453));return t;case"body":if(t=o.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fs(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Th(t)}var _a=new Map,uC=new Set;function ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gn=J.d;J.d={f:pz,r:gz,D:vz,C:bz,L:xz,m:yz,X:Nz,S:jz,M:Cz};function pz(){var t=gn.f(),o=Fi();return t||o}function gz(t){var o=Jr(t);o!==null&&o.tag===5&&o.type==="form"?TN(o):gn.r(t)}var ko=typeof document>"u"?null:document;function dC(t,o,c){var u=ko;if(u&&typeof o=="string"&&o){var h=ba(o);h='link[rel="'+t+'"][href="'+h+'"]',typeof c=="string"&&(h+='[crossorigin="'+c+'"]'),uC.has(h)||(uC.add(h),t={rel:t,crossOrigin:c,href:o},u.querySelector(h)===null&&(o=u.createElement("link"),Ut(o,"link",t),kt(o),u.head.appendChild(o)))}}function vz(t){gn.D(t),dC("dns-prefetch",t,null)}function bz(t,o){gn.C(t,o),dC("preconnect",t,o)}function xz(t,o,c){gn.L(t,o,c);var u=ko;if(u&&t&&o){var h='link[rel="preload"][as="'+ba(o)+'"]';o==="image"&&c&&c.imageSrcSet?(h+='[imagesrcset="'+ba(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(h+='[imagesizes="'+ba(c.imageSizes)+'"]')):h+='[href="'+ba(t)+'"]';var g=h;switch(o){case"style":g=Oo(t);break;case"script":g=Ao(t)}_a.has(g)||(t=b({rel:"preload",href:o==="image"&&c&&c.imageSrcSet?void 0:t,as:o},c),_a.set(g,t),u.querySelector(h)!==null||o==="style"&&u.querySelector(Xs(g))||o==="script"&&u.querySelector(Gs(g))||(o=u.createElement("link"),Ut(o,"link",t),kt(o),u.head.appendChild(o)))}}function yz(t,o){gn.m(t,o);var c=ko;if(c&&t){var u=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+ba(u)+'"][href="'+ba(t)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ao(t)}if(!_a.has(g)&&(t=b({rel:"modulepreload",href:t},o),_a.set(g,t),c.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gs(g)))return}u=c.createElement("link"),Ut(u,"link",t),kt(u),c.head.appendChild(u)}}}function jz(t,o,c){gn.S(t,o,c);var u=ko;if(u&&t){var h=Wr(u).hoistableStyles,g=Oo(t);o=o||"default";var x=h.get(g);if(!x){var N={loading:0,preload:null};if(x=u.querySelector(Xs(g)))N.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":o},c),(c=_a.get(g))&&_p(t,c);var U=x=u.createElement("link");kt(U),Ut(U,"link",t),U._p=new Promise(function(Z,ce){U.onload=Z,U.onerror=ce}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,tc(x,o,u)}x={type:"stylesheet",instance:x,count:1,state:N},h.set(g,x)}}}function Nz(t,o){gn.X(t,o);var c=ko;if(c&&t){var u=Wr(c).hoistableScripts,h=Ao(t),g=u.get(h);g||(g=c.querySelector(Gs(h)),g||(t=b({src:t,async:!0},o),(o=_a.get(h))&&Tp(t,o),g=c.createElement("script"),kt(g),Ut(g,"link",t),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function Cz(t,o){gn.M(t,o);var c=ko;if(c&&t){var u=Wr(c).hoistableScripts,h=Ao(t),g=u.get(h);g||(g=c.querySelector(Gs(h)),g||(t=b({src:t,async:!0,type:"module"},o),(o=_a.get(h))&&Tp(t,o),g=c.createElement("script"),kt(g),Ut(g,"link",t),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function fC(t,o,c,u){var h=(h=ie.current)?ec(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(o=Oo(c.href),c=Wr(h).hoistableStyles,u=c.get(o),u||(u={type:"style",instance:null,count:0,state:null},c.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){t=Oo(c.href);var g=Wr(h).hoistableStyles,x=g.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,x),(g=h.querySelector(Xs(t)))&&!g._p&&(x.instance=g,x.state.loading=5),_a.has(t)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_a.set(t,c),g||wz(h,t,c,x.state))),o&&u===null)throw Error(s(528,""));return x}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=c.async,c=c.src,typeof c=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ao(c),c=Wr(h).hoistableScripts,u=c.get(o),u||(u={type:"script",instance:null,count:0,state:null},c.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Oo(t){return'href="'+ba(t)+'"'}function Xs(t){return'link[rel="stylesheet"]['+t+"]"}function hC(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function wz(t,o,c,u){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=t.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Ut(o,"link",c),kt(o),t.head.appendChild(o))}function Ao(t){return'[src="'+ba(t)+'"]'}function Gs(t){return"script[async]"+t}function mC(t,o,c){if(o.count++,o.instance===null)switch(o.type){case"style":var u=t.querySelector('style[data-href~="'+ba(c.href)+'"]');if(u)return o.instance=u,kt(u),u;var h=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),kt(u),Ut(u,"style",h),tc(u,c.precedence,t),o.instance=u;case"stylesheet":h=Oo(c.href);var g=t.querySelector(Xs(h));if(g)return o.state.loading|=4,o.instance=g,kt(g),g;u=hC(c),(h=_a.get(h))&&_p(u,h),g=(t.ownerDocument||t).createElement("link"),kt(g);var x=g;return x._p=new Promise(function(N,U){x.onload=N,x.onerror=U}),Ut(g,"link",u),o.state.loading|=4,tc(g,c.precedence,t),o.instance=g;case"script":return g=Ao(c.src),(h=t.querySelector(Gs(g)))?(o.instance=h,kt(h),h):(u=c,(h=_a.get(g))&&(u=b({},c),Tp(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),Ut(h,"link",u),t.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,tc(u,c.precedence,t));return o.instance}function tc(t,o,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,x=0;x<u.length;x++){var N=u[x];if(N.dataset.precedence===o)g=N;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(o=c.nodeType===9?c.head:c,o.insertBefore(t,o.firstChild))}function _p(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function Tp(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var ac=null;function pC(t,o,c){if(ac===null){var u=new Map,h=ac=new Map;h.set(c,u)}else h=ac,u=h.get(c),u||(u=new Map,h.set(c,u));if(u.has(t))return u;for(u.set(t,null),c=c.getElementsByTagName(t),h=0;h<c.length;h++){var g=c[h];if(!(g[cs]||g[zt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(o)||"";x=t+x;var N=u.get(x);N?N.push(g):u.set(x,[g])}}return u}function gC(t,o,c){t=t.ownerDocument||t,t.head.insertBefore(c,o==="title"?t.querySelector("head > title"):null)}function Sz(t,o,c){if(c===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function vC(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function _z(t,o,c,u){if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var h=Oo(u.href),g=o.querySelector(Xs(h));if(g){o=g._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(t.count++,t=nc.bind(t),o.then(t,t)),c.state.loading|=4,c.instance=g,kt(g);return}g=o.ownerDocument||o,u=hC(u),(h=_a.get(h))&&_p(u,h),g=g.createElement("link"),kt(g);var x=g;x._p=new Promise(function(N,U){x.onload=N,x.onerror=U}),Ut(g,"link",u),c.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(t.count++,c=nc.bind(t),o.addEventListener("load",c),o.addEventListener("error",c))}}var Ep=0;function Tz(t,o){return t.stylesheets&&t.count===0&&oc(t,t.stylesheets),0<t.count||0<t.imgCount?function(c){var u=setTimeout(function(){if(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+o);0<t.imgBytes&&Ep===0&&(Ep=62500*lz());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&oc(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>Ep?50:800)+o);return t.unsuspend=c,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function oc(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,o.forEach(Ez,t),rc=null,nc.call(t))}function Ez(t,o){if(!(o.state.loading&4)){var c=rc.get(t);if(c)var u=c.get(null);else{c=new Map,rc.set(t,c);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var x=h[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),u=x)}u&&c.set(null,u)}h=o.instance,x=h.getAttribute("data-precedence"),g=c.get(x)||u,g===u&&c.set(null,h),c.set(x,h),this.count++,u=nc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),o.state.loading|=4}}var Vs={$$typeof:R,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function kz(t,o,c,u,h,g,x,N,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ch(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.hiddenUpdates=Ch(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function bC(t,o,c,u,h,g,x,N,U,Z,ce,fe){return t=new kz(t,o,c,x,U,Z,ce,fe,N),o=1,g===!0&&(o|=24),g=la(3,null,null,o),t.current=g,g.stateNode=t,o=lm(),o.refCount++,t.pooledCache=o,o.refCount++,g.memoizedState={element:u,isDehydrated:c,cache:o},dm(g),t}function xC(t){return t?(t=lo,t):lo}function yC(t,o,c,u,h,g){h=xC(h),u.context===null?u.context=h:u.pendingContext=h,u=zn(o),u.payload={element:c},g=g===void 0?null:g,g!==null&&(u.callback=g),c=Mn(t,u,o),c!==null&&(Qt(c,t,o),_s(c,t,o))}function jC(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<o?c:o}}function kp(t,o){jC(t,o),(t=t.alternate)&&jC(t,o)}function NC(t){if(t.tag===13||t.tag===31){var o=hr(t,67108864);o!==null&&Qt(o,t,67108864),kp(t,67108864)}}function CC(t){if(t.tag===13||t.tag===31){var o=fa();o=wh(o);var c=hr(t,o);c!==null&&Qt(c,t,o),kp(t,o)}}var sc=!0;function Oz(t,o,c,u){var h=O.T;O.T=null;var g=J.p;try{J.p=2,Op(t,o,c,u)}finally{J.p=g,O.T=h}}function Az(t,o,c,u){var h=O.T;O.T=null;var g=J.p;try{J.p=8,Op(t,o,c,u)}finally{J.p=g,O.T=h}}function Op(t,o,c,u){if(sc){var h=Ap(u);if(h===null)gp(t,o,u,lc,c),SC(t,u);else if(zz(h,t,o,c,u))u.stopPropagation();else if(SC(t,u),o&4&&-1<Rz.indexOf(t)){for(;h!==null;){var g=Jr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=ir(g.pendingLanes);if(x!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var U=1<<31-Et(x);N.entanglements[1]|=U,x&=~U}Ya(g),(Ye&6)===0&&($i=mt()+500,Hs(0))}}break;case 31:case 13:N=hr(g,2),N!==null&&Qt(N,g,2),Fi(),kp(g,2)}if(g=Ap(u),g===null&&gp(t,o,u,lc,c),g===h)break;h=g}h!==null&&u.stopPropagation()}else gp(t,o,u,null,c)}}function Ap(t){return t=zh(t),Rp(t)}var lc=null;function Rp(t){if(lc=null,t=Kr(t),t!==null){var o=i(t);if(o===null)t=null;else{var c=o.tag;if(c===13){if(t=d(o),t!==null)return t;t=null}else if(c===31){if(t=f(o),t!==null)return t;t=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return lc=t,null}function wC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wa()){case Gr:return 2;case Tt:return 8;case Rt:case Cn:return 32;case za:return 268435456;default:return 32}default:return 32}}var zp=!1,Fn=null,Xn=null,Gn=null,Ks=new Map,Js=new Map,Vn=[],Rz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SC(t,o){switch(t){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ks.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(o.pointerId)}}function Ws(t,o,c,u,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:o,domEventName:c,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},o!==null&&(o=Jr(o),o!==null&&NC(o)),t):(t.eventSystemFlags|=u,o=t.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),t)}function zz(t,o,c,u,h){switch(o){case"focusin":return Fn=Ws(Fn,t,o,c,u,h),!0;case"dragenter":return Xn=Ws(Xn,t,o,c,u,h),!0;case"mouseover":return Gn=Ws(Gn,t,o,c,u,h),!0;case"pointerover":var g=h.pointerId;return Ks.set(g,Ws(Ks.get(g)||null,t,o,c,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Js.set(g,Ws(Js.get(g)||null,t,o,c,u,h)),!0}return!1}function _C(t){var o=Kr(t.target);if(o!==null){var c=i(o);if(c!==null){if(o=c.tag,o===13){if(o=d(c),o!==null){t.blockedOn=o,By(t.priority,function(){CC(c)});return}}else if(o===31){if(o=f(c),o!==null){t.blockedOn=o,By(t.priority,function(){CC(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var c=Ap(t.nativeEvent);if(c===null){c=t.nativeEvent;var u=new c.constructor(c.type,c);Rh=u,c.target.dispatchEvent(u),Rh=null}else return o=Jr(c),o!==null&&NC(o),t.blockedOn=c,!1;o.shift()}return!0}function TC(t,o,c){ic(t)&&c.delete(o)}function Mz(){zp=!1,Fn!==null&&ic(Fn)&&(Fn=null),Xn!==null&&ic(Xn)&&(Xn=null),Gn!==null&&ic(Gn)&&(Gn=null),Ks.forEach(TC),Js.forEach(TC)}function cc(t,o){t.blockedOn===o&&(t.blockedOn=null,zp||(zp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mz)))}var uc=null;function EC(t){uc!==t&&(uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var o=0;o<t.length;o+=3){var c=t[o],u=t[o+1],h=t[o+2];if(typeof u!="function"){if(Rp(u||c)===null)continue;break}var g=Jr(c);g!==null&&(t.splice(o,3),o-=3,Am(g,{pending:!0,data:h,method:c.method,action:u},u,h))}}))}function Ro(t){function o(U){return cc(U,t)}Fn!==null&&cc(Fn,t),Xn!==null&&cc(Xn,t),Gn!==null&&cc(Gn,t),Ks.forEach(o),Js.forEach(o);for(var c=0;c<Vn.length;c++){var u=Vn[c];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Vn.length&&(c=Vn[0],c.blockedOn===null);)_C(c),c.blockedOn===null&&Vn.shift();if(c=(t.ownerDocument||t).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var h=c[u],g=c[u+1],x=h[Xt]||null;if(typeof g=="function")x||EC(c);else if(x){var N=null;if(g&&g.hasAttribute("formAction")){if(h=g,x=g[Xt]||null)N=x.formAction;else if(Rp(h)!==null)continue}else N=x.action;typeof N=="function"?c[u+1]=N:(c.splice(u,3),u-=3),EC(c)}}}function kC(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),u||setTimeout(c,20)}function c(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(c,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function Mp(t){this._internalRoot=t}dc.prototype.render=Mp.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(s(409));var c=o.current,u=fa();yC(c,u,t,o,null,null)},dc.prototype.unmount=Mp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;yC(t.current,2,null,t,null,null),Fi(),o[Vr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var o=qy();t={blockedOn:null,target:t,priority:o};for(var c=0;c<Vn.length&&o!==0&&o<Vn[c].priority;c++);Vn.splice(c,0,t),c===0&&_C(t)}};var OC=e.version;if(OC!=="19.2.0")throw Error(s(527,OC,"19.2.0"));J.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(o),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var Dz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ct=fc.inject(Dz),et=fc}catch{}}return Mo.createRoot=function(t,o){if(!l(t))throw Error(s(299));var c=!1,u="",h=UN,g=IN,x=qN;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(g=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=bC(t,1,!1,null,null,c,u,null,h,g,x,kC),t[Vr]=o.current,pp(t),new Mp(o)},Mo.hydrateRoot=function(t,o,c){if(!l(t))throw Error(s(299));var u=!1,h="",g=UN,x=IN,N=qN,U=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(h=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),o=bC(t,1,!0,o,c??null,u,h,U,g,x,N,kC),o.context=xC(null),c=o.current,u=fa(),u=wh(u),h=zn(u),h.callback=null,Mn(c,h,u),c=u,o.current.lanes=c,is(o,c),Ya(o),t[Vr]=o.current,pp(t),new dc(o)},Mo.version="19.2.0",Mo}var Xp;function qC(){if(Xp)return gc.exports;Xp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gc.exports=IC(),gc.exports}var BC=qC();function At(r){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+r+(n.length?" "+n.map((function(l){return"'"+l+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Jn(r){return!!r&&!!r[Fe]}function Ua(r){var e;return!!r&&((function(n){if(!n||typeof n!="object")return!1;var s=Object.getPrototypeOf(n);if(s===null)return!0;var l=Object.hasOwnProperty.call(s,"constructor")&&s.constructor;return l===Object||typeof l=="function"&&Function.toString.call(l)===KC})(r)||Array.isArray(r)||!!r[Io]||!!(!((e=r.constructor)===null||e===void 0)&&e[Io])||Zs(r)||el(r))}function Wn(r,e,n){n===void 0&&(n=!1),vn(r)===0?(n?Object.keys:Oc)(r).forEach((function(s){n&&typeof s=="symbol"||e(s,r[s],r)})):r.forEach((function(s,l){return e(l,s,r)}))}function vn(r){var e=r[Fe];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:Zs(r)?2:el(r)?3:0}function Do(r,e){return vn(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Qs(r,e){return vn(r)===2?r.get(e):r[e]}function Gp(r,e,n){var s=vn(r);s===2?r.set(e,n):s===3?r.add(n):r[e]=n}function PC(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function Zs(r){return GC&&r instanceof Map}function el(r){return VC&&r instanceof Set}function St(r){return r.o||r.t}function yc(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=JC(r);delete e[Fe];for(var n=Oc(e),s=0;s<n.length;s++){var l=n[s],i=e[l];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[l]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[l]})}return Object.create(Object.getPrototypeOf(r),e)}function jc(r,e){return e===void 0&&(e=!1),Nc(r)||Jn(r)||!Ua(r)||(vn(r)>1&&(r.set=r.add=r.clear=r.delete=HC),Object.freeze(r),e&&Wn(r,(function(n,s){return jc(s,!0)}),!0)),r}function HC(){At(2)}function Nc(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function Ia(r){var e=Ac[r];return e||At(18,r),e}function Vp(r,e){Ac[r]||(Ac[r]=e)}function tl(){return Uo}function Cc(r,e){e&&(Ia("Patches"),r.u=[],r.s=[],r.v=e)}function al(r){wc(r),r.p.forEach($C),r.p=null}function wc(r){r===Uo&&(Uo=r.l)}function Kp(r){return Uo={p:[],l:Uo,h:r,m:!0,_:0}}function $C(r){var e=r[Fe];e.i===0||e.i===1?e.j():e.g=!0}function Sc(r,e){e._=e.p.length;var n=e.p[0],s=r!==void 0&&r!==n;return e.h.O||Ia("ES5").S(e,r,s),s?(n[Fe].P&&(al(e),At(4)),Ua(r)&&(r=nl(e,r),e.l||rl(e,r)),e.u&&Ia("Patches").M(n[Fe].t,r,e.u,e.s)):r=nl(e,n,[]),al(e),e.u&&e.v(e.u,e.s),r!==kc?r:void 0}function nl(r,e,n){if(Nc(e))return e;var s=e[Fe];if(!s)return Wn(e,(function(f,p){return Jp(r,s,e,f,p,n)}),!0),e;if(s.A!==r)return e;if(!s.P)return rl(r,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var l=s.i===4||s.i===5?s.o=yc(s.k):s.o,i=l,d=!1;s.i===3&&(i=new Set(l),l.clear(),d=!0),Wn(i,(function(f,p){return Jp(r,s,l,f,p,n,d)})),rl(r,l,!1),n&&r.u&&Ia("Patches").N(s,n,r.u,r.s)}return s.o}function Jp(r,e,n,s,l,i,d){if(Jn(l)){var f=nl(r,l,i&&e&&e.i!==3&&!Do(e.R,s)?i.concat(s):void 0);if(Gp(n,s,f),!Jn(f))return;r.m=!1}else d&&n.add(l);if(Ua(l)&&!Nc(l)){if(!r.h.D&&r._<1)return;nl(r,l),e&&e.A.l||rl(r,l)}}function rl(r,e,n){n===void 0&&(n=!1),!r.l&&r.h.D&&r.m&&jc(e,n)}function _c(r,e){var n=r[Fe];return(n?St(n):r)[e]}function Wp(r,e){if(e in r)for(var n=Object.getPrototypeOf(r);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function Fa(r){r.P||(r.P=!0,r.l&&Fa(r.l))}function Tc(r){r.o||(r.o=yc(r.t))}function Lo(r,e,n){var s=Zs(e)?Ia("MapSet").F(e,n):el(e)?Ia("MapSet").T(e,n):r.O?(function(l,i){var d=Array.isArray(l),f={i:d?1:0,A:i?i.A:tl(),P:!1,I:!1,R:{},l:i,t:l,k:null,o:null,j:null,C:!1},p=f,m=Rc;d&&(p=[f],m=qo);var v=Proxy.revocable(p,m),b=v.revoke,y=v.proxy;return f.k=y,f.j=b,y})(e,n):Ia("ES5").J(e,n);return(n?n.A:tl()).p.push(s),s}function YC(r){return Jn(r)||At(22,r),(function e(n){if(!Ua(n))return n;var s,l=n[Fe],i=vn(n);if(l){if(!l.P&&(l.i<4||!Ia("ES5").K(l)))return l.t;l.I=!0,s=Qp(n,i),l.I=!1}else s=Qp(n,i);return Wn(s,(function(d,f){l&&Qs(l.t,d)===f||Gp(s,d,e(f))})),i===3?new Set(s):s})(r)}function Qp(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return yc(r)}function FC(){function r(s){if(!Ua(s))return s;if(Array.isArray(s))return s.map(r);if(Zs(s))return new Map(Array.from(s.entries()).map((function(d){return[d[0],r(d[1])]})));if(el(s))return new Set(Array.from(s).map(r));var l=Object.create(Object.getPrototypeOf(s));for(var i in s)l[i]=r(s[i]);return Do(s,Io)&&(l[Io]=s[Io]),l}function e(s){return Jn(s)?r(s):s}var n="add";Vp("Patches",{$:function(s,l){return l.forEach((function(i){for(var d=i.path,f=i.op,p=s,m=0;m<d.length-1;m++){var v=vn(p),b=d[m];typeof b!="string"&&typeof b!="number"&&(b=""+b),v!==0&&v!==1||b!=="__proto__"&&b!=="constructor"||At(24),typeof p=="function"&&b==="prototype"&&At(24),typeof(p=Qs(p,b))!="object"&&At(15,d.join("/"))}var y=vn(p),j=r(i.value),C=d[d.length-1];switch(f){case"replace":switch(y){case 2:return p.set(C,j);case 3:At(16);default:return p[C]=j}case n:switch(y){case 1:return C==="-"?p.push(j):p.splice(C,0,j);case 2:return p.set(C,j);case 3:return p.add(j);default:return p[C]=j}case"remove":switch(y){case 1:return p.splice(C,1);case 2:return p.delete(C);case 3:return p.delete(i.value);default:return delete p[C]}default:At(17,f)}})),s},N:function(s,l,i,d){switch(s.i){case 0:case 4:case 2:return(function(f,p,m,v){var b=f.t,y=f.o;Wn(f.R,(function(j,C){var w=Qs(b,j),T=Qs(y,j),z=C?Do(b,j)?"replace":n:"remove";if(w!==T||z!=="replace"){var S=p.concat(j);m.push(z==="remove"?{op:z,path:S}:{op:z,path:S,value:T}),v.push(z===n?{op:"remove",path:S}:z==="remove"?{op:n,path:S,value:e(w)}:{op:"replace",path:S,value:e(w)})}}))})(s,l,i,d);case 5:case 1:return(function(f,p,m,v){var b=f.t,y=f.R,j=f.o;if(j.length<b.length){var C=[j,b];b=C[0],j=C[1];var w=[v,m];m=w[0],v=w[1]}for(var T=0;T<b.length;T++)if(y[T]&&j[T]!==b[T]){var z=p.concat([T]);m.push({op:"replace",path:z,value:e(j[T])}),v.push({op:"replace",path:z,value:e(b[T])})}for(var S=b.length;S<j.length;S++){var R=p.concat([S]);m.push({op:n,path:R,value:e(j[S])})}b.length<j.length&&v.push({op:"replace",path:p.concat(["length"]),value:b.length})})(s,l,i,d);case 3:return(function(f,p,m,v){var b=f.t,y=f.o,j=0;b.forEach((function(C){if(!y.has(C)){var w=p.concat([j]);m.push({op:"remove",path:w,value:C}),v.unshift({op:n,path:w,value:C})}j++})),j=0,y.forEach((function(C){if(!b.has(C)){var w=p.concat([j]);m.push({op:n,path:w,value:C}),v.unshift({op:"remove",path:w,value:C})}j++}))})(s,l,i,d)}},M:function(s,l,i,d){i.push({op:"replace",path:[],value:l===kc?void 0:l}),d.push({op:"replace",path:[],value:s})}})}function XC(){function r(f,p){function m(){this.constructor=f}l(f,p),f.prototype=(m.prototype=p.prototype,new m)}function e(f){f.o||(f.R=new Map,f.o=new Map(f.t))}function n(f){f.o||(f.o=new Set,f.t.forEach((function(p){if(Ua(p)){var m=Lo(f.A.h,p,f);f.p.set(p,m),f.o.add(m)}else f.o.add(p)})))}function s(f){f.g&&At(3,JSON.stringify(St(f)))}var l=function(f,p){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)v.hasOwnProperty(b)&&(m[b]=v[b])})(f,p)},i=(function(){function f(m,v){return this[Fe]={i:2,l:v,A:v?v.A:tl(),P:!1,I:!1,o:void 0,R:void 0,t:m,k:this,C:!1,g:!1},this}r(f,Map);var p=f.prototype;return Object.defineProperty(p,"size",{get:function(){return St(this[Fe]).size}}),p.has=function(m){return St(this[Fe]).has(m)},p.set=function(m,v){var b=this[Fe];return s(b),St(b).has(m)&&St(b).get(m)===v||(e(b),Fa(b),b.R.set(m,!0),b.o.set(m,v),b.R.set(m,!0)),this},p.delete=function(m){if(!this.has(m))return!1;var v=this[Fe];return s(v),e(v),Fa(v),v.t.has(m)?v.R.set(m,!1):v.R.delete(m),v.o.delete(m),!0},p.clear=function(){var m=this[Fe];s(m),St(m).size&&(e(m),Fa(m),m.R=new Map,Wn(m.t,(function(v){m.R.set(v,!1)})),m.o.clear())},p.forEach=function(m,v){var b=this;St(this[Fe]).forEach((function(y,j){m.call(v,b.get(j),j,b)}))},p.get=function(m){var v=this[Fe];s(v);var b=St(v).get(m);if(v.I||!Ua(b)||b!==v.t.get(m))return b;var y=Lo(v.A.h,b,v);return e(v),v.o.set(m,y),y},p.keys=function(){return St(this[Fe]).keys()},p.values=function(){var m,v=this,b=this.keys();return(m={})[ol]=function(){return v.values()},m.next=function(){var y=b.next();return y.done?y:{done:!1,value:v.get(y.value)}},m},p.entries=function(){var m,v=this,b=this.keys();return(m={})[ol]=function(){return v.entries()},m.next=function(){var y=b.next();if(y.done)return y;var j=v.get(y.value);return{done:!1,value:[y.value,j]}},m},p[ol]=function(){return this.entries()},f})(),d=(function(){function f(m,v){return this[Fe]={i:3,l:v,A:v?v.A:tl(),P:!1,I:!1,o:void 0,t:m,k:this,p:new Map,g:!1,C:!1},this}r(f,Set);var p=f.prototype;return Object.defineProperty(p,"size",{get:function(){return St(this[Fe]).size}}),p.has=function(m){var v=this[Fe];return s(v),v.o?!!v.o.has(m)||!(!v.p.has(m)||!v.o.has(v.p.get(m))):v.t.has(m)},p.add=function(m){var v=this[Fe];return s(v),this.has(m)||(n(v),Fa(v),v.o.add(m)),this},p.delete=function(m){if(!this.has(m))return!1;var v=this[Fe];return s(v),n(v),Fa(v),v.o.delete(m)||!!v.p.has(m)&&v.o.delete(v.p.get(m))},p.clear=function(){var m=this[Fe];s(m),St(m).size&&(n(m),Fa(m),m.o.clear())},p.values=function(){var m=this[Fe];return s(m),n(m),m.o.values()},p.entries=function(){var m=this[Fe];return s(m),n(m),m.o.entries()},p.keys=function(){return this.values()},p[ol]=function(){return this.values()},p.forEach=function(m,v){for(var b=this.values(),y=b.next();!y.done;)m.call(v,y.value,y.value,this),y=b.next()},f})();Vp("MapSet",{F:function(f,p){return new i(f,p)},T:function(f,p){return new d(f,p)}})}var Zp,Uo,Ec=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",GC=typeof Map<"u",VC=typeof Set<"u",eg=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kc=Ec?Symbol.for("immer-nothing"):((Zp={})["immer-nothing"]=!0,Zp),Io=Ec?Symbol.for("immer-draftable"):"__$immer_draftable",Fe=Ec?Symbol.for("immer-state"):"__$immer_state",ol=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",KC=""+Object.prototype.constructor,Oc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,JC=Object.getOwnPropertyDescriptors||function(r){var e={};return Oc(r).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(r,n)})),e},Ac={},Rc={get:function(r,e){if(e===Fe)return r;var n=St(r);if(!Do(n,e))return(function(l,i,d){var f,p=Wp(i,d);return p?"value"in p?p.value:(f=p.get)===null||f===void 0?void 0:f.call(l.k):void 0})(r,n,e);var s=n[e];return r.I||!Ua(s)?s:s===_c(r.t,e)?(Tc(r),r.o[e]=Lo(r.A.h,s,r)):s},has:function(r,e){return e in St(r)},ownKeys:function(r){return Reflect.ownKeys(St(r))},set:function(r,e,n){var s=Wp(St(r),e);if(s?.set)return s.set.call(r.k,n),!0;if(!r.P){var l=_c(St(r),e),i=l?.[Fe];if(i&&i.t===n)return r.o[e]=n,r.R[e]=!1,!0;if(PC(n,l)&&(n!==void 0||Do(r.t,e)))return!0;Tc(r),Fa(r)}return r.o[e]===n&&(n!==void 0||e in r.o)||Number.isNaN(n)&&Number.isNaN(r.o[e])||(r.o[e]=n,r.R[e]=!0),!0},deleteProperty:function(r,e){return _c(r.t,e)!==void 0||e in r.t?(r.R[e]=!1,Tc(r),Fa(r)):delete r.R[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var n=St(r),s=Reflect.getOwnPropertyDescriptor(n,e);return s&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:s.enumerable,value:n[e]}},defineProperty:function(){At(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){At(12)}},qo={};Wn(Rc,(function(r,e){qo[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),qo.deleteProperty=function(r,e){return qo.set.call(this,r,e,void 0)},qo.set=function(r,e,n){return Rc.set.call(this,r[0],e,n,r[0])};var WC=(function(){function r(n){var s=this;this.O=eg,this.D=!0,this.produce=function(l,i,d){if(typeof l=="function"&&typeof i!="function"){var f=i;i=l;var p=s;return function(w){var T=this;w===void 0&&(w=f);for(var z=arguments.length,S=Array(z>1?z-1:0),R=1;R<z;R++)S[R-1]=arguments[R];return p.produce(w,(function(I){var F;return(F=i).call.apply(F,[T,I].concat(S))}))}}var m;if(typeof i!="function"&&At(6),d!==void 0&&typeof d!="function"&&At(7),Ua(l)){var v=Kp(s),b=Lo(s,l,void 0),y=!0;try{m=i(b),y=!1}finally{y?al(v):wc(v)}return typeof Promise<"u"&&m instanceof Promise?m.then((function(w){return Cc(v,d),Sc(w,v)}),(function(w){throw al(v),w})):(Cc(v,d),Sc(m,v))}if(!l||typeof l!="object"){if((m=i(l))===void 0&&(m=l),m===kc&&(m=void 0),s.D&&jc(m,!0),d){var j=[],C=[];Ia("Patches").M(l,m,j,C),d(j,C)}return m}At(21,l)},this.produceWithPatches=function(l,i){if(typeof l=="function")return function(m){for(var v=arguments.length,b=Array(v>1?v-1:0),y=1;y<v;y++)b[y-1]=arguments[y];return s.produceWithPatches(m,(function(j){return l.apply(void 0,[j].concat(b))}))};var d,f,p=s.produce(l,i,(function(m,v){d=m,f=v}));return typeof Promise<"u"&&p instanceof Promise?p.then((function(m){return[m,d,f]})):[p,d,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=r.prototype;return e.createDraft=function(n){Ua(n)||At(8),Jn(n)&&(n=YC(n));var s=Kp(this),l=Lo(this,n,void 0);return l[Fe].C=!0,wc(s),l},e.finishDraft=function(n,s){var l=n&&n[Fe],i=l.A;return Cc(i,s),Sc(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!eg&&At(20),this.O=n},e.applyPatches=function(n,s){var l;for(l=s.length-1;l>=0;l--){var i=s[l];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}l>-1&&(s=s.slice(l+1));var d=Ia("Patches").$;return Jn(n)?d(n,s):this.produce(n,(function(f){return d(f,s)}))},r})(),Zt=new WC,QC=Zt.produce,tg=Zt.produceWithPatches.bind(Zt);Zt.setAutoFreeze.bind(Zt),Zt.setUseProxies.bind(Zt);var ag=Zt.applyPatches.bind(Zt);Zt.createDraft.bind(Zt),Zt.finishDraft.bind(Zt);var zc,ng;function ZC(){if(ng)return zc;ng=1;function r(){this.__data__=[],this.size=0}return zc=r,zc}var Mc,rg;function Dc(){if(rg)return Mc;rg=1;function r(e,n){return e===n||e!==e&&n!==n}return Mc=r,Mc}var Lc,og;function sl(){if(og)return Lc;og=1;var r=Dc();function e(n,s){for(var l=n.length;l--;)if(r(n[l][0],s))return l;return-1}return Lc=e,Lc}var Uc,sg;function ew(){if(sg)return Uc;sg=1;var r=sl(),e=Array.prototype,n=e.splice;function s(l){var i=this.__data__,d=r(i,l);if(d<0)return!1;var f=i.length-1;return d==f?i.pop():n.call(i,d,1),--this.size,!0}return Uc=s,Uc}var Ic,lg;function tw(){if(lg)return Ic;lg=1;var r=sl();function e(n){var s=this.__data__,l=r(s,n);return l<0?void 0:s[l][1]}return Ic=e,Ic}var qc,ig;function aw(){if(ig)return qc;ig=1;var r=sl();function e(n){return r(this.__data__,n)>-1}return qc=e,qc}var Bc,cg;function nw(){if(cg)return Bc;cg=1;var r=sl();function e(n,s){var l=this.__data__,i=r(l,n);return i<0?(++this.size,l.push([n,s])):l[i][1]=s,this}return Bc=e,Bc}var Pc,ug;function ll(){if(ug)return Pc;ug=1;var r=ZC(),e=ew(),n=tw(),s=aw(),l=nw();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=s,i.prototype.set=l,Pc=i,Pc}var Hc,dg;function rw(){if(dg)return Hc;dg=1;var r=ll();function e(){this.__data__=new r,this.size=0}return Hc=e,Hc}var $c,fg;function ow(){if(fg)return $c;fg=1;function r(e){var n=this.__data__,s=n.delete(e);return this.size=n.size,s}return $c=r,$c}var Yc,hg;function sw(){if(hg)return Yc;hg=1;function r(e){return this.__data__.get(e)}return Yc=r,Yc}var Fc,mg;function lw(){if(mg)return Fc;mg=1;function r(e){return this.__data__.has(e)}return Fc=r,Fc}var Xc,pg;function gg(){if(pg)return Xc;pg=1;var r=typeof window=="object"&&window&&window.Object===Object&&window;return Xc=r,Xc}var Gc,vg;function qa(){if(vg)return Gc;vg=1;var r=gg(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return Gc=n,Gc}var Vc,bg;function il(){if(bg)return Vc;bg=1;var r=qa(),e=r.Symbol;return Vc=e,Vc}var Kc,xg;function iw(){if(xg)return Kc;xg=1;var r=il(),e=Object.prototype,n=e.hasOwnProperty,s=e.toString,l=r?r.toStringTag:void 0;function i(d){var f=n.call(d,l),p=d[l];try{d[l]=void 0;var m=!0}catch{}var v=s.call(d);return m&&(f?d[l]=p:delete d[l]),v}return Kc=i,Kc}var Jc,yg;function cw(){if(yg)return Jc;yg=1;var r=Object.prototype,e=r.toString;function n(s){return e.call(s)}return Jc=n,Jc}var Wc,jg;function cl(){if(jg)return Wc;jg=1;var r=il(),e=iw(),n=cw(),s="[object Null]",l="[object Undefined]",i=r?r.toStringTag:void 0;function d(f){return f==null?f===void 0?l:s:i&&i in Object(f)?e(f):n(f)}return Wc=d,Wc}var Qc,Ng;function Bo(){if(Ng)return Qc;Ng=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Qc=r,Qc}var Zc,Cg;function eu(){if(Cg)return Zc;Cg=1;var r=cl(),e=Bo(),n="[object AsyncFunction]",s="[object Function]",l="[object GeneratorFunction]",i="[object Proxy]";function d(f){if(!e(f))return!1;var p=r(f);return p==s||p==l||p==n||p==i}return Zc=d,Zc}var tu,wg;function uw(){if(wg)return tu;wg=1;var r=qa(),e=r["__core-js_shared__"];return tu=e,tu}var au,Sg;function dw(){if(Sg)return au;Sg=1;var r=uw(),e=(function(){var s=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function n(s){return!!e&&e in s}return au=n,au}var nu,_g;function Tg(){if(_g)return nu;_g=1;var r=Function.prototype,e=r.toString;function n(s){if(s!=null){try{return e.call(s)}catch{}try{return s+""}catch{}}return""}return nu=n,nu}var ru,Eg;function fw(){if(Eg)return ru;Eg=1;var r=eu(),e=dw(),n=Bo(),s=Tg(),l=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,m=f.hasOwnProperty,v=RegExp("^"+p.call(m).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(y){if(!n(y)||e(y))return!1;var j=r(y)?v:i;return j.test(s(y))}return ru=b,ru}var ou,kg;function hw(){if(kg)return ou;kg=1;function r(e,n){return e?.[n]}return ou=r,ou}var su,Og;function Qn(){if(Og)return su;Og=1;var r=fw(),e=hw();function n(s,l){var i=e(s,l);return r(i)?i:void 0}return su=n,su}var lu,Ag;function iu(){if(Ag)return lu;Ag=1;var r=Qn(),e=qa(),n=r(e,"Map");return lu=n,lu}var cu,Rg;function ul(){if(Rg)return cu;Rg=1;var r=Qn(),e=r(Object,"create");return cu=e,cu}var uu,zg;function mw(){if(zg)return uu;zg=1;var r=ul();function e(){this.__data__=r?r(null):{},this.size=0}return uu=e,uu}var du,Mg;function pw(){if(Mg)return du;Mg=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return du=r,du}var fu,Dg;function gw(){if(Dg)return fu;Dg=1;var r=ul(),e="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function l(i){var d=this.__data__;if(r){var f=d[i];return f===e?void 0:f}return s.call(d,i)?d[i]:void 0}return fu=l,fu}var hu,Lg;function vw(){if(Lg)return hu;Lg=1;var r=ul(),e=Object.prototype,n=e.hasOwnProperty;function s(l){var i=this.__data__;return r?i[l]!==void 0:n.call(i,l)}return hu=s,hu}var mu,Ug;function bw(){if(Ug)return mu;Ug=1;var r=ul(),e="__lodash_hash_undefined__";function n(s,l){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=r&&l===void 0?e:l,this}return mu=n,mu}var pu,Ig;function xw(){if(Ig)return pu;Ig=1;var r=mw(),e=pw(),n=gw(),s=vw(),l=bw();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=s,i.prototype.set=l,pu=i,pu}var gu,qg;function yw(){if(qg)return gu;qg=1;var r=xw(),e=ll(),n=iu();function s(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return gu=s,gu}var vu,Bg;function jw(){if(Bg)return vu;Bg=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return vu=r,vu}var bu,Pg;function dl(){if(Pg)return bu;Pg=1;var r=jw();function e(n,s){var l=n.__data__;return r(s)?l[typeof s=="string"?"string":"hash"]:l.map}return bu=e,bu}var xu,Hg;function Nw(){if(Hg)return xu;Hg=1;var r=dl();function e(n){var s=r(this,n).delete(n);return this.size-=s?1:0,s}return xu=e,xu}var yu,$g;function Cw(){if($g)return yu;$g=1;var r=dl();function e(n){return r(this,n).get(n)}return yu=e,yu}var ju,Yg;function ww(){if(Yg)return ju;Yg=1;var r=dl();function e(n){return r(this,n).has(n)}return ju=e,ju}var Nu,Fg;function Sw(){if(Fg)return Nu;Fg=1;var r=dl();function e(n,s){var l=r(this,n),i=l.size;return l.set(n,s),this.size+=l.size==i?0:1,this}return Nu=e,Nu}var Cu,Xg;function Gg(){if(Xg)return Cu;Xg=1;var r=yw(),e=Nw(),n=Cw(),s=ww(),l=Sw();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=s,i.prototype.set=l,Cu=i,Cu}var wu,Vg;function _w(){if(Vg)return wu;Vg=1;var r=ll(),e=iu(),n=Gg(),s=200;function l(i,d){var f=this.__data__;if(f instanceof r){var p=f.__data__;if(!e||p.length<s-1)return p.push([i,d]),this.size=++f.size,this;f=this.__data__=new n(p)}return f.set(i,d),this.size=f.size,this}return wu=l,wu}var Su,Kg;function Jg(){if(Kg)return Su;Kg=1;var r=ll(),e=rw(),n=ow(),s=sw(),l=lw(),i=_w();function d(f){var p=this.__data__=new r(f);this.size=p.size}return d.prototype.clear=e,d.prototype.delete=n,d.prototype.get=s,d.prototype.has=l,d.prototype.set=i,Su=d,Su}var _u,Wg;function Tw(){if(Wg)return _u;Wg=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return _u=e,_u}var Tu,Qg;function Ew(){if(Qg)return Tu;Qg=1;function r(e){return this.__data__.has(e)}return Tu=r,Tu}var Eu,Zg;function kw(){if(Zg)return Eu;Zg=1;var r=Gg(),e=Tw(),n=Ew();function s(l){var i=-1,d=l==null?0:l.length;for(this.__data__=new r;++i<d;)this.add(l[i])}return s.prototype.add=s.prototype.push=e,s.prototype.has=n,Eu=s,Eu}var ku,ev;function Ow(){if(ev)return ku;ev=1;function r(e,n){for(var s=-1,l=e==null?0:e.length;++s<l;)if(n(e[s],s,e))return!0;return!1}return ku=r,ku}var Ou,tv;function Aw(){if(tv)return Ou;tv=1;function r(e,n){return e.has(n)}return Ou=r,Ou}var Au,av;function nv(){if(av)return Au;av=1;var r=kw(),e=Ow(),n=Aw(),s=1,l=2;function i(d,f,p,m,v,b){var y=p&s,j=d.length,C=f.length;if(j!=C&&!(y&&C>j))return!1;var w=b.get(d),T=b.get(f);if(w&&T)return w==f&&T==d;var z=-1,S=!0,R=p&l?new r:void 0;for(b.set(d,f),b.set(f,d);++z<j;){var I=d[z],F=f[z];if(m)var E=y?m(F,I,z,f,d,b):m(I,F,z,d,f,b);if(E!==void 0){if(E)continue;S=!1;break}if(R){if(!e(f,function(L,P){if(!n(R,P)&&(I===L||v(I,L,p,m,b)))return R.push(P)})){S=!1;break}}else if(!(I===F||v(I,F,p,m,b))){S=!1;break}}return b.delete(d),b.delete(f),S}return Au=i,Au}var Ru,rv;function ov(){if(rv)return Ru;rv=1;var r=qa(),e=r.Uint8Array;return Ru=e,Ru}var zu,sv;function Rw(){if(sv)return zu;sv=1;function r(e){var n=-1,s=Array(e.size);return e.forEach(function(l,i){s[++n]=[i,l]}),s}return zu=r,zu}var Mu,lv;function zw(){if(lv)return Mu;lv=1;function r(e){var n=-1,s=Array(e.size);return e.forEach(function(l){s[++n]=l}),s}return Mu=r,Mu}var Du,iv;function Mw(){if(iv)return Du;iv=1;var r=il(),e=ov(),n=Dc(),s=nv(),l=Rw(),i=zw(),d=1,f=2,p="[object Boolean]",m="[object Date]",v="[object Error]",b="[object Map]",y="[object Number]",j="[object RegExp]",C="[object Set]",w="[object String]",T="[object Symbol]",z="[object ArrayBuffer]",S="[object DataView]",R=r?r.prototype:void 0,I=R?R.valueOf:void 0;function F(E,L,P,Y,Q,X,H){switch(P){case S:if(E.byteLength!=L.byteLength||E.byteOffset!=L.byteOffset)return!1;E=E.buffer,L=L.buffer;case z:return!(E.byteLength!=L.byteLength||!X(new e(E),new e(L)));case p:case m:case y:return n(+E,+L);case v:return E.name==L.name&&E.message==L.message;case j:case w:return E==L+"";case b:var V=l;case C:var le=Y&d;if(V||(V=i),E.size!=L.size&&!le)return!1;var K=H.get(E);if(K)return K==L;Y|=f,H.set(E,L);var O=s(V(E),V(L),Y,Q,X,H);return H.delete(E),O;case T:if(I)return I.call(E)==I.call(L)}return!1}return Du=F,Du}var Lu,cv;function uv(){if(cv)return Lu;cv=1;function r(e,n){for(var s=-1,l=n.length,i=e.length;++s<l;)e[i+s]=n[s];return e}return Lu=r,Lu}var Uu,dv;function fl(){if(dv)return Uu;dv=1;var r=Array.isArray;return Uu=r,Uu}var Iu,fv;function hv(){if(fv)return Iu;fv=1;var r=uv(),e=fl();function n(s,l,i){var d=l(s);return e(s)?d:r(d,i(s))}return Iu=n,Iu}var qu,mv;function Dw(){if(mv)return qu;mv=1;function r(e,n){for(var s=-1,l=e==null?0:e.length,i=0,d=[];++s<l;){var f=e[s];n(f,s,e)&&(d[i++]=f)}return d}return qu=r,qu}var Bu,pv;function gv(){if(pv)return Bu;pv=1;function r(){return[]}return Bu=r,Bu}var Pu,vv;function Hu(){if(vv)return Pu;vv=1;var r=Dw(),e=gv(),n=Object.prototype,s=n.propertyIsEnumerable,l=Object.getOwnPropertySymbols,i=l?function(d){return d==null?[]:(d=Object(d),r(l(d),function(f){return s.call(d,f)}))}:e;return Pu=i,Pu}var $u,bv;function Lw(){if(bv)return $u;bv=1;function r(e,n){for(var s=-1,l=Array(e);++s<e;)l[s]=n(s);return l}return $u=r,$u}var Yu,xv;function Tr(){if(xv)return Yu;xv=1;function r(e){return e!=null&&typeof e=="object"}return Yu=r,Yu}var Fu,yv;function Uw(){if(yv)return Fu;yv=1;var r=cl(),e=Tr(),n="[object Arguments]";function s(l){return e(l)&&r(l)==n}return Fu=s,Fu}var Xu,jv;function Iw(){if(jv)return Xu;jv=1;var r=Uw(),e=Tr(),n=Object.prototype,s=n.hasOwnProperty,l=n.propertyIsEnumerable,i=r((function(){return arguments})())?r:function(d){return e(d)&&s.call(d,"callee")&&!l.call(d,"callee")};return Xu=i,Xu}var Po={exports:{}},Gu,Nv;function qw(){if(Nv)return Gu;Nv=1;function r(){return!1}return Gu=r,Gu}Po.exports;var Cv;function Vu(){return Cv||(Cv=1,(function(r,e){var n=qa(),s=qw(),l=e&&!e.nodeType&&e,i=l&&!0&&r&&!r.nodeType&&r,d=i&&i.exports===l,f=d?n.Buffer:void 0,p=f?f.isBuffer:void 0,m=p||s;r.exports=m})(Po,Po.exports)),Po.exports}var Ku,wv;function Bw(){if(wv)return Ku;wv=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(s,l){var i=typeof s;return l=l??r,!!l&&(i=="number"||i!="symbol"&&e.test(s))&&s>-1&&s%1==0&&s<l}return Ku=n,Ku}var Ju,Sv;function _v(){if(Sv)return Ju;Sv=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Ju=e,Ju}var Wu,Tv;function Pw(){if(Tv)return Wu;Tv=1;var r=cl(),e=_v(),n=Tr(),s="[object Arguments]",l="[object Array]",i="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object Map]",v="[object Number]",b="[object Object]",y="[object RegExp]",j="[object Set]",C="[object String]",w="[object WeakMap]",T="[object ArrayBuffer]",z="[object DataView]",S="[object Float32Array]",R="[object Float64Array]",I="[object Int8Array]",F="[object Int16Array]",E="[object Int32Array]",L="[object Uint8Array]",P="[object Uint8ClampedArray]",Y="[object Uint16Array]",Q="[object Uint32Array]",X={};X[S]=X[R]=X[I]=X[F]=X[E]=X[L]=X[P]=X[Y]=X[Q]=!0,X[s]=X[l]=X[T]=X[i]=X[z]=X[d]=X[f]=X[p]=X[m]=X[v]=X[b]=X[y]=X[j]=X[C]=X[w]=!1;function H(V){return n(V)&&e(V.length)&&!!X[r(V)]}return Wu=H,Wu}var Qu,Ev;function Zu(){if(Ev)return Qu;Ev=1;function r(e){return function(n){return e(n)}}return Qu=r,Qu}var Ho={exports:{}};Ho.exports;var kv;function ed(){return kv||(kv=1,(function(r,e){var n=gg(),s=e&&!e.nodeType&&e,l=s&&!0&&r&&!r.nodeType&&r,i=l&&l.exports===s,d=i&&n.process,f=(function(){try{var p=l&&l.require&&l.require("util").types;return p||d&&d.binding&&d.binding("util")}catch{}})();r.exports=f})(Ho,Ho.exports)),Ho.exports}var td,Ov;function Av(){if(Ov)return td;Ov=1;var r=Pw(),e=Zu(),n=ed(),s=n&&n.isTypedArray,l=s?e(s):r;return td=l,td}var ad,Rv;function zv(){if(Rv)return ad;Rv=1;var r=Lw(),e=Iw(),n=fl(),s=Vu(),l=Bw(),i=Av(),d=Object.prototype,f=d.hasOwnProperty;function p(m,v){var b=n(m),y=!b&&e(m),j=!b&&!y&&s(m),C=!b&&!y&&!j&&i(m),w=b||y||j||C,T=w?r(m.length,String):[],z=T.length;for(var S in m)(v||f.call(m,S))&&!(w&&(S=="length"||j&&(S=="offset"||S=="parent")||C&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||l(S,z)))&&T.push(S);return T}return ad=p,ad}var nd,Mv;function rd(){if(Mv)return nd;Mv=1;var r=Object.prototype;function e(n){var s=n&&n.constructor,l=typeof s=="function"&&s.prototype||r;return n===l}return nd=e,nd}var od,Dv;function Lv(){if(Dv)return od;Dv=1;function r(e,n){return function(s){return e(n(s))}}return od=r,od}var sd,Uv;function Hw(){if(Uv)return sd;Uv=1;var r=Lv(),e=r(Object.keys,Object);return sd=e,sd}var ld,Iv;function $w(){if(Iv)return ld;Iv=1;var r=rd(),e=Hw(),n=Object.prototype,s=n.hasOwnProperty;function l(i){if(!r(i))return e(i);var d=[];for(var f in Object(i))s.call(i,f)&&f!="constructor"&&d.push(f);return d}return ld=l,ld}var id,qv;function Bv(){if(qv)return id;qv=1;var r=eu(),e=_v();function n(s){return s!=null&&e(s.length)&&!r(s)}return id=n,id}var cd,Pv;function ud(){if(Pv)return cd;Pv=1;var r=zv(),e=$w(),n=Bv();function s(l){return n(l)?r(l):e(l)}return cd=s,cd}var dd,Hv;function $v(){if(Hv)return dd;Hv=1;var r=hv(),e=Hu(),n=ud();function s(l){return r(l,n,e)}return dd=s,dd}var fd,Yv;function Yw(){if(Yv)return fd;Yv=1;var r=$v(),e=1,n=Object.prototype,s=n.hasOwnProperty;function l(i,d,f,p,m,v){var b=f&e,y=r(i),j=y.length,C=r(d),w=C.length;if(j!=w&&!b)return!1;for(var T=j;T--;){var z=y[T];if(!(b?z in d:s.call(d,z)))return!1}var S=v.get(i),R=v.get(d);if(S&&R)return S==d&&R==i;var I=!0;v.set(i,d),v.set(d,i);for(var F=b;++T<j;){z=y[T];var E=i[z],L=d[z];if(p)var P=b?p(L,E,z,d,i,v):p(E,L,z,i,d,v);if(!(P===void 0?E===L||m(E,L,f,p,v):P)){I=!1;break}F||(F=z=="constructor")}if(I&&!F){var Y=i.constructor,Q=d.constructor;Y!=Q&&"constructor"in i&&"constructor"in d&&!(typeof Y=="function"&&Y instanceof Y&&typeof Q=="function"&&Q instanceof Q)&&(I=!1)}return v.delete(i),v.delete(d),I}return fd=l,fd}var hd,Fv;function Fw(){if(Fv)return hd;Fv=1;var r=Qn(),e=qa(),n=r(e,"DataView");return hd=n,hd}var md,Xv;function Xw(){if(Xv)return md;Xv=1;var r=Qn(),e=qa(),n=r(e,"Promise");return md=n,md}var pd,Gv;function Gw(){if(Gv)return pd;Gv=1;var r=Qn(),e=qa(),n=r(e,"Set");return pd=n,pd}var gd,Vv;function Vw(){if(Vv)return gd;Vv=1;var r=Qn(),e=qa(),n=r(e,"WeakMap");return gd=n,gd}var vd,Kv;function hl(){if(Kv)return vd;Kv=1;var r=Fw(),e=iu(),n=Xw(),s=Gw(),l=Vw(),i=cl(),d=Tg(),f="[object Map]",p="[object Object]",m="[object Promise]",v="[object Set]",b="[object WeakMap]",y="[object DataView]",j=d(r),C=d(e),w=d(n),T=d(s),z=d(l),S=i;return(r&&S(new r(new ArrayBuffer(1)))!=y||e&&S(new e)!=f||n&&S(n.resolve())!=m||s&&S(new s)!=v||l&&S(new l)!=b)&&(S=function(R){var I=i(R),F=I==p?R.constructor:void 0,E=F?d(F):"";if(E)switch(E){case j:return y;case C:return f;case w:return m;case T:return v;case z:return b}return I}),vd=S,vd}var bd,Jv;function Kw(){if(Jv)return bd;Jv=1;var r=Jg(),e=nv(),n=Mw(),s=Yw(),l=hl(),i=fl(),d=Vu(),f=Av(),p=1,m="[object Arguments]",v="[object Array]",b="[object Object]",y=Object.prototype,j=y.hasOwnProperty;function C(w,T,z,S,R,I){var F=i(w),E=i(T),L=F?v:l(w),P=E?v:l(T);L=L==m?b:L,P=P==m?b:P;var Y=L==b,Q=P==b,X=L==P;if(X&&d(w)){if(!d(T))return!1;F=!0,Y=!1}if(X&&!Y)return I||(I=new r),F||f(w)?e(w,T,z,S,R,I):n(w,T,L,z,S,R,I);if(!(z&p)){var H=Y&&j.call(w,"__wrapped__"),V=Q&&j.call(T,"__wrapped__");if(H||V){var le=H?w.value():w,K=V?T.value():T;return I||(I=new r),R(le,K,z,S,I)}}return X?(I||(I=new r),s(w,T,z,S,R,I)):!1}return bd=C,bd}var xd,Wv;function Jw(){if(Wv)return xd;Wv=1;var r=Kw(),e=Tr();function n(s,l,i,d,f){return s===l?!0:s==null||l==null||!e(s)&&!e(l)?s!==s&&l!==l:r(s,l,i,d,n,f)}return xd=n,xd}var yd,Qv;function Ww(){if(Qv)return yd;Qv=1;var r=Jw();function e(n,s,l){l=typeof l=="function"?l:void 0;var i=l?l(n,s):void 0;return i===void 0?r(n,s,void 0,l):!!i}return yd=e,yd}var Qw=Ww();const Zw=_r(Qw);var jd,Zv;function eS(){return Zv||(Zv=1,jd=function(e,n,s,l){var i=s?s.call(l,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(n),m=0;m<d.length;m++){var v=d[m];if(!p(v))return!1;var b=e[v],y=n[v];if(i=s?s.call(l,b,y,v):void 0,i===!1||i===void 0&&b!==y)return!1}return!0}),jd}var tS=eS();const aS=_r(tS);let nS=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var rS="Invariant failed";function Qe(r,e){if(!r)throw new Error(rS)}var oS=Yp();const sS=_r(oS);typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/utils"]="0.2.5");var Xa="ROOT",eb="canvas-ROOT",lS="Attempting to add a node with duplicated id",iS="Node cannot be dropped into target parent",cS="Target parent rejects incoming node",uS="Current parent rejects outgoing node",tb="Cannot move node that is not a direct child of a Canvas node",dS="Cannot move node into a non-Canvas parent",ab="A top-level Node cannot be moved",fS="Cannot move node into a descendant",nb="The component type specified for this node (%node_type%) does not exist in the resolver",hS="The node has specified a canDrag() rule that prevents it from being dragged",mS=`An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />

Available components in resolver: %availableComponents%

More info: https://craft.js.org/r/docs/api/editor#props`;function rb(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),n.push.apply(n,s)}return n}function ha(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rb(Object(n),!0).forEach((function(s){xt(r,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):rb(Object(n)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}))}return r}function Er(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function pS(r,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,cb(s.key),s)}}function kr(r,e,n){return e&&pS(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function xt(r,e,n){return(e=cb(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Or(r){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(r)}function Nd(r,e){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Nd(r,e)}function Cd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wd(){return wd=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,n){var s=(function(i,d){for(;!Object.prototype.hasOwnProperty.call(i,d)&&(i=Or(i))!==null;);return i})(r,e);if(s){var l=Object.getOwnPropertyDescriptor(s,e);return l.get?l.get.call(arguments.length<3?r:n):l.value}},wd.apply(this,arguments)}function ob(r,e){return sb(r)||(function(n,s){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var i,d,f,p,m=[],v=!0,b=!1;try{if(f=(l=l.call(n)).next,s===0){if(Object(l)!==l)return;v=!1}else for(;!(v=(i=f.call(l)).done)&&(m.push(i.value),m.length!==s);v=!0);}catch(y){b=!0,d=y}finally{try{if(!v&&l.return!=null&&(p=l.return(),Object(p)!==p))return}finally{if(b)throw d}}return m}})(r,e)||Sd(r,e)||ib()}function Pt(r){return(function(e){if(Array.isArray(e))return _d(e)})(r)||lb(r)||Sd(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function sb(r){if(Array.isArray(r))return r}function lb(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Sd(r,e){if(r){if(typeof r=="string")return _d(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(r,e):void 0}}function _d(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=r[n];return s}function ib(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cb(r){var e=(function(n,s){if(typeof n!="object"||n===null)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var i=l.call(n,"string");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(r);return typeof e=="symbol"?e:String(e)}var lt={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR"},gS=(function(){function r(){Er(this,r),xt(this,"timeline",[]),xt(this,"pointer",-1)}return kr(r,[{key:"add",value:function(e,n){e.length===0&&n.length===0||(this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:e,inversePatches:n,timestamp:Date.now()})}},{key:"throttleAdd",value:function(e,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:500;if(e.length!==0||n.length!==0){if(this.timeline.length&&this.pointer>=0){var l=this.timeline[this.pointer],i=l.patches,d=l.inversePatches,f=l.timestamp;if(new Date().getTime()-f<s)return void(this.timeline[this.pointer]={timestamp:f,patches:[].concat(Pt(i),Pt(e)),inversePatches:[].concat(Pt(n),Pt(d))})}this.add(e,n)}}},{key:"merge",value:function(e,n){if(e.length!==0||n.length!==0)if(this.timeline.length&&this.pointer>=0){var s=this.timeline[this.pointer],l=s.inversePatches;this.timeline[this.pointer]={timestamp:s.timestamp,patches:[].concat(Pt(s.patches),Pt(e)),inversePatches:[].concat(Pt(n),Pt(l))}}else this.add(e,n)}},{key:"clear",value:function(){this.timeline=[],this.pointer=-1}},{key:"canUndo",value:function(){return this.pointer>=0}},{key:"canRedo",value:function(){return this.pointer<this.timeline.length-1}},{key:"undo",value:function(e){if(this.canUndo()){var n=this.timeline[this.pointer].inversePatches;return this.pointer=this.pointer-1,ag(e,n)}}},{key:"redo",value:function(e){if(this.canRedo())return this.pointer=this.pointer+1,ag(e,this.timeline[this.pointer].patches)}}]),r})();function vS(r,e,n,s){var l,i=D.useMemo((function(){return new gS}),[]),d=D.useRef([]),f=D.useRef((function(){}));typeof r=="function"?l=r:(l=r.methods,d.current=r.ignoreHistoryForActions,f.current=r.normalizeHistory);var p=D.useRef(s);p.current=s;var m=D.useRef(e),v=D.useMemo((function(){var T=f.current,z=d.current,S=p.current;return function(R,I){var F,E=n&&ub(n,(function(){return R}),i),L=ob(tg(R,(function(X){var H,V;switch(I.type){case lt.UNDO:return i.undo(X);case lt.REDO:return i.redo(X);case lt.CLEAR:return i.clear(),ha({},X);case lt.IGNORE:case lt.MERGE:case lt.THROTTLE:var le,K=sb(V=I.payload)||lb(V)||Sd(V)||ib(),O=K[0],J=K.slice(1);(le=l(X,E))[O].apply(le,Pt(J));break;default:(H=l(X,E))[I.type].apply(H,Pt(I.payload))}})),3),P=L[0],Y=L[1],Q=L[2];return F=P,S&&S(P,R,{type:I.type,params:I.payload,patches:Y},E,(function(X){var H=tg(P,X);F=H[0],Y=[].concat(Pt(Y),Pt(H[1])),Q=[].concat(Pt(H[2]),Pt(Q))})),[lt.UNDO,lt.REDO].includes(I.type)&&T&&(F=QC(F,T)),[].concat(Pt(z),[lt.UNDO,lt.REDO,lt.IGNORE,lt.CLEAR]).includes(I.type)||(I.type===lt.THROTTLE?i.throttleAdd(Y,Q,I.config&&I.config.rate):I.type===lt.MERGE?i.merge(Y,Q):i.add(Y,Q)),F}}),[i,l,n]),b=D.useCallback((function(){return m.current}),[]),y=D.useMemo((function(){return new bS(b)}),[b]),j=D.useCallback((function(T){var z=v(m.current,T);m.current=z,y.notify()}),[v,y]);D.useEffect((function(){y.notify()}),[y]);var C=D.useMemo((function(){return n?ub(n,(function(){return m.current}),i):[]}),[i,n]),w=D.useMemo((function(){var T=Object.keys(l(null,null)),z=d.current;return ha(ha({},T.reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,F=new Array(I),E=0;E<I;E++)F[E]=arguments[E];return j({type:R,payload:F})},S}),{})),{},{history:{undo:function(){return j({type:lt.UNDO})},redo:function(){return j({type:lt.REDO})},clear:function(){return j({type:lt.CLEAR})},throttle:function(S){return ha({},T.filter((function(R){return!z.includes(R)})).reduce((function(R,I){return R[I]=function(){for(var F=arguments.length,E=new Array(F),L=0;L<F;L++)E[L]=arguments[L];return j({type:lt.THROTTLE,payload:[I].concat(E),config:{rate:S}})},R}),{}))},ignore:function(){return ha({},T.filter((function(S){return!z.includes(S)})).reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,F=new Array(I),E=0;E<I;E++)F[E]=arguments[E];return j({type:lt.IGNORE,payload:[R].concat(F)})},S}),{}))},merge:function(){return ha({},T.filter((function(S){return!z.includes(S)})).reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,F=new Array(I),E=0;E<I;E++)F[E]=arguments[E];return j({type:lt.MERGE,payload:[R].concat(F)})},S}),{}))}}})}),[j,l]);return D.useMemo((function(){return{getState:b,subscribe:function(T,z,S){return y.subscribe(T,z,S)},actions:w,query:C,history:i}}),[w,C,y,b,i])}function ub(r,e,n){var s=Object.keys(r()).reduce((function(l,i){return ha(ha({},l),{},xt({},i,(function(){var d;return(d=r(e()))[i].apply(d,arguments)})))}),{});return ha(ha({},s),{},{history:{canUndo:function(){return n.canUndo()},canRedo:function(){return n.canRedo()}}})}XC(),FC();var bS=(function(){function r(e){Er(this,r),xt(this,"getState",void 0),xt(this,"subscribers",[]),this.getState=e}return kr(r,[{key:"subscribe",value:function(e,n,s){var l=this,i=new xS((function(){return e(l.getState())}),n,s);return this.subscribers.push(i),this.unsubscribe.bind(this,i)}},{key:"unsubscribe",value:function(e){if(this.subscribers.length){var n=this.subscribers.indexOf(e);if(n>-1)return this.subscribers.splice(n,1)}}},{key:"notify",value:function(){this.subscribers.forEach((function(e){return e.collect()}))}}]),r})(),xS=(function(){function r(e,n){var s=arguments.length>2&&arguments[2]!==void 0&&arguments[2];Er(this,r),xt(this,"collected",void 0),xt(this,"collector",void 0),xt(this,"onChange",void 0),xt(this,"id",void 0),this.collector=e,this.onChange=n,s&&this.collect()}return kr(r,[{key:"collect",value:function(){try{var e=this.collector();Zw(e,this.collected)||(this.collected=e,this.onChange&&this.onChange(this.collected))}catch(n){console.warn(n)}}}]),r})(),$o=function(r){var e=r.getBoundingClientRect(),n=e.x,s=e.y,l=e.top,i=e.left,d=e.bottom,f=e.right,p=e.width,m=e.height,v=window.getComputedStyle(r),b={left:parseInt(v.marginLeft),right:parseInt(v.marginRight),bottom:parseInt(v.marginBottom),top:parseInt(v.marginTop)},y={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight),bottom:parseInt(v.paddingBottom),top:parseInt(v.paddingTop)};return{x:n,y:s,top:l,left:i,bottom:d,right:f,width:p,height:m,outerWidth:Math.round(p+b.left+b.right),outerHeight:Math.round(m+b.top+b.bottom),margin:b,padding:y,inFlow:r.parentElement&&!!(function(j){var C=getComputedStyle(j);if(!(v.overflow&&v.overflow!=="visible"||C.float!=="none"||C.display==="grid"||C.display==="flex"&&C["flex-direction"]!=="column")){switch(v.position){case"static":case"relative":break;default:return}switch(r.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(v.display){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}})(r.parentElement)}};function yS(r,e){const{subscribe:n,getState:s,actions:l,query:i}=r,d=D.useRef(!0),f=D.useRef(null),p=D.useRef(e);p.current=e;const m=D.useCallback((y=>({...y,actions:l,query:i})),[l,i]);d.current&&e&&(f.current=e(s(),i),d.current=!1);const[v,b]=D.useState(m(f.current));return D.useEffect((()=>{let y;return p.current&&(y=n((j=>p.current(j,i)),(j=>{b(m(j))}))),()=>{y&&y()}}),[m,i,n]),v}var Ar,db=function(){return nS(arguments.length>0&&arguments[0]!==void 0?arguments[0]:10)},jS=(function(){function r(){Er(this,r),xt(this,"isEnabled",!0),xt(this,"elementIdMap",new WeakMap),xt(this,"registry",new Map)}return kr(r,[{key:"getElementId",value:function(e){var n=this.elementIdMap.get(e);if(n)return n;var s=db();return this.elementIdMap.set(e,s),s}},{key:"getConnectorId",value:function(e,n){var s=this.getElementId(e);return"".concat(n,"--").concat(s)}},{key:"register",value:function(e,n){var s=this,l=this.getByElement(e,n.name);if(l){if(aS(n.required,l.required))return l;this.getByElement(e,n.name).disable()}var i=null,d=this.getConnectorId(e,n.name);return this.registry.set(d,{id:d,required:n.required,enable:function(){i&&i(),i=n.connector(e,n.required,n.options)},disable:function(){i&&i()},remove:function(){return s.remove(d)}}),this.isEnabled&&this.registry.get(d).enable(),this.registry.get(d)}},{key:"get",value:function(e){return this.registry.get(e)}},{key:"remove",value:function(e){var n=this.get(e);n&&(n.disable(),this.registry.delete(n.id))}},{key:"enable",value:function(){this.isEnabled=!0,this.registry.forEach((function(e){e.enable()}))}},{key:"disable",value:function(){this.isEnabled=!1,this.registry.forEach((function(e){e.disable()}))}},{key:"getByElement",value:function(e,n){return this.get(this.getConnectorId(e,n))}},{key:"removeByElement",value:function(e,n){return this.remove(this.getConnectorId(e,n))}},{key:"clear",value:function(){this.disable(),this.elementIdMap=new WeakMap,this.registry=new Map}}]),r})();(function(r){r[r.HandlerDisabled=0]="HandlerDisabled",r[r.HandlerEnabled=1]="HandlerEnabled"})(Ar||(Ar={}));var fb=(function(){function r(e){Er(this,r),xt(this,"options",void 0),xt(this,"registry",new jS),xt(this,"subscribers",new Set),this.options=e}return kr(r,[{key:"listen",value:function(e){var n=this;return this.subscribers.add(e),function(){return n.subscribers.delete(e)}}},{key:"disable",value:function(){this.onDisable&&this.onDisable(),this.registry.disable(),this.subscribers.forEach((function(e){e(Ar.HandlerDisabled)}))}},{key:"enable",value:function(){this.onEnable&&this.onEnable(),this.registry.enable(),this.subscribers.forEach((function(e){e(Ar.HandlerEnabled)}))}},{key:"cleanup",value:function(){this.disable(),this.subscribers.clear(),this.registry.clear()}},{key:"addCraftEventListener",value:function(e,n,s,l){var i=function(d){(function(f,p,m){f.craft||(f.craft={stopPropagation:function(){},blockedEvents:{}});for(var v=f.craft&&f.craft.blockedEvents[p]||[],b=0;b<v.length;b++){var y=v[b];if(m!==y&&m.contains(y))return!0}return!1})(d,n,e)||(d.craft.stopPropagation=function(){d.craft.blockedEvents[n]||(d.craft.blockedEvents[n]=[]),d.craft.blockedEvents[n].push(e)},s(d))};return e.addEventListener(n,i,l),function(){return e.removeEventListener(n,i,l)}}},{key:"createConnectorsUsage",value:function(){var e=this,n=this.handlers(),s=new Set,l=!1,i=new Map;return{connectors:Object.entries(n).reduce((function(d,f){var p=ob(f,2),m=p[0],v=p[1];return ha(ha({},d),{},xt({},m,(function(b,y,j){var C=function(){var w=e.registry.register(b,{required:y,name:m,options:j,connector:v});return s.add(w.id),w};return i.set(e.registry.getConnectorId(b,m),C),l&&C(),b})))}),{}),register:function(){l=!0,i.forEach((function(d){d()}))},cleanup:function(){l=!1,s.forEach((function(d){return e.registry.remove(d)}))}}}},{key:"derive",value:function(e,n){return new e(this,n)}},{key:"createProxyHandlers",value:function(e,n){var s=[],l=e.handlers(),i=new Proxy(l,{get:function(d,f,p){return f in l==0?Reflect.get(d,f,p):function(m){for(var v=arguments.length,b=new Array(v>1?v-1:0),y=1;y<v;y++)b[y-1]=arguments[y];var j=l[f].apply(l,[m].concat(b));j&&s.push(j)}}});return n(i),function(){s.forEach((function(d){d()}))}}},{key:"reflect",value:function(e){return this.createProxyHandlers(this,e)}}]),r})(),NS=(function(r){(function(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),d&&Nd(i,d)})(l,fb);var e,n,s=(e=l,n=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var i,d=Or(e);if(n){var f=Or(this).constructor;i=Reflect.construct(d,arguments,f)}else i=d.apply(this,arguments);return(function(p,m){if(m&&(typeof m=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cd(p)})(this,i)});function l(i,d){var f;return Er(this,l),xt(Cd(f=s.call(this,d)),"derived",void 0),xt(Cd(f),"unsubscribeParentHandlerListener",void 0),f.derived=i,f.options=d,f.unsubscribeParentHandlerListener=f.derived.listen((function(p){switch(p){case Ar.HandlerEnabled:return f.enable();case Ar.HandlerDisabled:return f.disable();default:return}})),f}return kr(l,[{key:"inherit",value:function(i){return this.createProxyHandlers(this.derived,i)}},{key:"cleanup",value:function(){wd(Or(l.prototype),"cleanup",this).call(this),this.unsubscribeParentHandlerListener()}}]),l})();function hb(r,e){e&&(typeof r=="function"?r(e):r.current=e)}function CS(r,e){const n=r.ref;return Qe(typeof n!="string"),D.cloneElement(r,n?{ref:s=>{hb(n,s),hb(e,s)}}:{ref:e})}function wS(r){return(e=null,...n)=>{if(!D.isValidElement(e)){if(!e)return;const l=e;return l&&r(l,...n),l}const s=e;return(function(l){if(typeof l.type!="string")throw new Error})(s),CS(s,r)}}function mb(r){return Object.keys(r).reduce(((e,n)=>(e[n]=wS(((...s)=>r[n](...s))),e)),{})}const SS=({style:r,className:e,parentDom:n})=>{const s=xe.createElement("div",{className:e,style:{position:"fixed",display:"block",opacity:1,borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",zIndex:99999,...r}});return n&&n.ownerDocument!==document?sS.createPortal(s,n.ownerDocument.body):s};var bn=function(r,e){var n="Deprecation warning: ".concat(r," will be deprecated in future relases."),s=e.suggest,l=e.doc;s&&(n+=" Please use ".concat(s," instead.")),l&&(n+="(".concat(l,")")),console.warn(n)},pb=function(){return typeof window<"u"},_S=function(){return pb()&&/Linux/i.test(window.navigator.userAgent)},TS=function(){return pb()&&/Chrome/i.test(window.navigator.userAgent)},ES=eu();const kS=_r(ES);var Td,gb;function OS(){if(gb)return Td;gb=1;function r(e,n){for(var s=-1,l=e==null?0:e.length;++s<l&&n(e[s],s,e)!==!1;);return e}return Td=r,Td}var Ed,vb;function AS(){if(vb)return Ed;vb=1;var r=Qn(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ed=e,Ed}var kd,bb;function xb(){if(bb)return kd;bb=1;var r=AS();function e(n,s,l){s=="__proto__"&&r?r(n,s,{configurable:!0,enumerable:!0,value:l,writable:!0}):n[s]=l}return kd=e,kd}var Od,yb;function jb(){if(yb)return Od;yb=1;var r=xb(),e=Dc(),n=Object.prototype,s=n.hasOwnProperty;function l(i,d,f){var p=i[d];(!(s.call(i,d)&&e(p,f))||f===void 0&&!(d in i))&&r(i,d,f)}return Od=l,Od}var Ad,Nb;function ml(){if(Nb)return Ad;Nb=1;var r=jb(),e=xb();function n(s,l,i,d){var f=!i;i||(i={});for(var p=-1,m=l.length;++p<m;){var v=l[p],b=d?d(i[v],s[v],v,i,s):void 0;b===void 0&&(b=s[v]),f?e(i,v,b):r(i,v,b)}return i}return Ad=n,Ad}var Rd,Cb;function RS(){if(Cb)return Rd;Cb=1;var r=ml(),e=ud();function n(s,l){return s&&r(l,e(l),s)}return Rd=n,Rd}var zd,wb;function zS(){if(wb)return zd;wb=1;function r(e){var n=[];if(e!=null)for(var s in Object(e))n.push(s);return n}return zd=r,zd}var Md,Sb;function MS(){if(Sb)return Md;Sb=1;var r=Bo(),e=rd(),n=zS(),s=Object.prototype,l=s.hasOwnProperty;function i(d){if(!r(d))return n(d);var f=e(d),p=[];for(var m in d)m=="constructor"&&(f||!l.call(d,m))||p.push(m);return p}return Md=i,Md}var Dd,_b;function Ld(){if(_b)return Dd;_b=1;var r=zv(),e=MS(),n=Bv();function s(l){return n(l)?r(l,!0):e(l)}return Dd=s,Dd}var Ud,Tb;function DS(){if(Tb)return Ud;Tb=1;var r=ml(),e=Ld();function n(s,l){return s&&r(l,e(l),s)}return Ud=n,Ud}var Yo={exports:{}};Yo.exports;var Eb;function LS(){return Eb||(Eb=1,(function(r,e){var n=qa(),s=e&&!e.nodeType&&e,l=s&&!0&&r&&!r.nodeType&&r,i=l&&l.exports===s,d=i?n.Buffer:void 0,f=d?d.allocUnsafe:void 0;function p(m,v){if(v)return m.slice();var b=m.length,y=f?f(b):new m.constructor(b);return m.copy(y),y}r.exports=p})(Yo,Yo.exports)),Yo.exports}var Id,kb;function US(){if(kb)return Id;kb=1;function r(e,n){var s=-1,l=e.length;for(n||(n=Array(l));++s<l;)n[s]=e[s];return n}return Id=r,Id}var qd,Ob;function IS(){if(Ob)return qd;Ob=1;var r=ml(),e=Hu();function n(s,l){return r(s,e(s),l)}return qd=n,qd}var Bd,Ab;function Rb(){if(Ab)return Bd;Ab=1;var r=Lv(),e=r(Object.getPrototypeOf,Object);return Bd=e,Bd}var Pd,zb;function Mb(){if(zb)return Pd;zb=1;var r=uv(),e=Rb(),n=Hu(),s=gv(),l=Object.getOwnPropertySymbols,i=l?function(d){for(var f=[];d;)r(f,n(d)),d=e(d);return f}:s;return Pd=i,Pd}var Hd,Db;function qS(){if(Db)return Hd;Db=1;var r=ml(),e=Mb();function n(s,l){return r(s,e(s),l)}return Hd=n,Hd}var $d,Lb;function BS(){if(Lb)return $d;Lb=1;var r=hv(),e=Mb(),n=Ld();function s(l){return r(l,n,e)}return $d=s,$d}var Yd,Ub;function PS(){if(Ub)return Yd;Ub=1;var r=Object.prototype,e=r.hasOwnProperty;function n(s){var l=s.length,i=new s.constructor(l);return l&&typeof s[0]=="string"&&e.call(s,"index")&&(i.index=s.index,i.input=s.input),i}return Yd=n,Yd}var Fd,Ib;function Xd(){if(Ib)return Fd;Ib=1;var r=ov();function e(n){var s=new n.constructor(n.byteLength);return new r(s).set(new r(n)),s}return Fd=e,Fd}var Gd,qb;function HS(){if(qb)return Gd;qb=1;var r=Xd();function e(n,s){var l=s?r(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.byteLength)}return Gd=e,Gd}var Vd,Bb;function $S(){if(Bb)return Vd;Bb=1;var r=/\w*$/;function e(n){var s=new n.constructor(n.source,r.exec(n));return s.lastIndex=n.lastIndex,s}return Vd=e,Vd}var Kd,Pb;function YS(){if(Pb)return Kd;Pb=1;var r=il(),e=r?r.prototype:void 0,n=e?e.valueOf:void 0;function s(l){return n?Object(n.call(l)):{}}return Kd=s,Kd}var Jd,Hb;function FS(){if(Hb)return Jd;Hb=1;var r=Xd();function e(n,s){var l=s?r(n.buffer):n.buffer;return new n.constructor(l,n.byteOffset,n.length)}return Jd=e,Jd}var Wd,$b;function XS(){if($b)return Wd;$b=1;var r=Xd(),e=HS(),n=$S(),s=YS(),l=FS(),i="[object Boolean]",d="[object Date]",f="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",C="[object DataView]",w="[object Float32Array]",T="[object Float64Array]",z="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",F="[object Uint8ClampedArray]",E="[object Uint16Array]",L="[object Uint32Array]";function P(Y,Q,X){var H=Y.constructor;switch(Q){case j:return r(Y);case i:case d:return new H(+Y);case C:return e(Y,X);case w:case T:case z:case S:case R:case I:case F:case E:case L:return l(Y,X);case f:return new H;case p:case b:return new H(Y);case m:return n(Y);case v:return new H;case y:return s(Y)}}return Wd=P,Wd}var Qd,Yb;function GS(){if(Yb)return Qd;Yb=1;var r=Bo(),e=Object.create,n=(function(){function s(){}return function(l){if(!r(l))return{};if(e)return e(l);s.prototype=l;var i=new s;return s.prototype=void 0,i}})();return Qd=n,Qd}var Zd,Fb;function VS(){if(Fb)return Zd;Fb=1;var r=GS(),e=Rb(),n=rd();function s(l){return typeof l.constructor=="function"&&!n(l)?r(e(l)):{}}return Zd=s,Zd}var ef,Xb;function KS(){if(Xb)return ef;Xb=1;var r=hl(),e=Tr(),n="[object Map]";function s(l){return e(l)&&r(l)==n}return ef=s,ef}var tf,Gb;function JS(){if(Gb)return tf;Gb=1;var r=KS(),e=Zu(),n=ed(),s=n&&n.isMap,l=s?e(s):r;return tf=l,tf}var af,Vb;function WS(){if(Vb)return af;Vb=1;var r=hl(),e=Tr(),n="[object Set]";function s(l){return e(l)&&r(l)==n}return af=s,af}var nf,Kb;function QS(){if(Kb)return nf;Kb=1;var r=WS(),e=Zu(),n=ed(),s=n&&n.isSet,l=s?e(s):r;return nf=l,nf}var rf,Jb;function ZS(){if(Jb)return rf;Jb=1;var r=Jg(),e=OS(),n=jb(),s=RS(),l=DS(),i=LS(),d=US(),f=IS(),p=qS(),m=$v(),v=BS(),b=hl(),y=PS(),j=XS(),C=VS(),w=fl(),T=Vu(),z=JS(),S=Bo(),R=QS(),I=ud(),F=Ld(),E=1,L=2,P=4,Y="[object Arguments]",Q="[object Array]",X="[object Boolean]",H="[object Date]",V="[object Error]",le="[object Function]",K="[object GeneratorFunction]",O="[object Map]",J="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",_="[object String]",k="[object Symbol]",M="[object WeakMap]",q="[object ArrayBuffer]",oe="[object DataView]",ie="[object Float32Array]",he="[object Float64Array]",ae="[object Int8Array]",A="[object Int16Array]",$="[object Int32Array]",de="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",Ne="[object Uint32Array]",ve={};ve[Y]=ve[Q]=ve[q]=ve[oe]=ve[X]=ve[H]=ve[ie]=ve[he]=ve[ae]=ve[A]=ve[$]=ve[O]=ve[J]=ve[te]=ve[ne]=ve[re]=ve[_]=ve[k]=ve[de]=ve[me]=ve[ge]=ve[Ne]=!0,ve[V]=ve[le]=ve[M]=!1;function Te(ye,Ae,Me,Nt,oa,pa){var _t,mt=Ae&E,Wa=Ae&L,Gr=Ae&P;if(Me&&(_t=oa?Me(ye,Nt,oa,pa):Me(ye)),_t!==void 0)return _t;if(!S(ye))return ye;var Tt=w(ye);if(Tt){if(_t=y(ye),!mt)return d(ye,_t)}else{var Rt=b(ye),Cn=Rt==le||Rt==K;if(T(ye))return i(ye,mt);if(Rt==te||Rt==Y||Cn&&!oa){if(_t=Wa||Cn?{}:C(ye),!mt)return Wa?p(ye,l(_t,ye)):f(ye,s(_t,ye))}else{if(!ve[Rt])return oa?ye:{};_t=j(ye,Rt,mt)}}pa||(pa=new r);var za=pa.get(ye);if(za)return za;pa.set(ye,_t),R(ye)?ye.forEach(function(Ct){_t.add(Te(Ct,Ae,Me,Ct,ye,pa))}):z(ye)&&ye.forEach(function(Ct,et){_t.set(et,Te(Ct,Ae,Me,et,ye,pa))});var wn=Gr?Wa?v:m:Wa?F:I,Sn=Tt?void 0:wn(ye);return e(Sn||ye,function(Ct,et){Sn&&(et=Ct,Ct=ye[et]),n(_t,et,Te(Ct,Ae,Me,et,ye,pa))}),_t}return rf=Te,rf}var of,Wb;function e_(){if(Wb)return of;Wb=1;var r=ZS(),e=1,n=4;function s(l){return r(l,e|n)}return of=s,of}e_(),typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/core"]="0.2.12");const Qb=xe.createContext(null),Zb=({id:r,related:e=!1,children:n})=>xe.createElement(Qb.Provider,{value:{id:r,related:e}},n);function ex(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter((function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable}))),n.push.apply(n,s)}return n}function tt(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ex(Object(n),!0).forEach((function(s){yt(r,s,n[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach((function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))}))}return r}function sf(r){return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(r)}function pl(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function t_(r,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(r,nx(s.key),s)}}function gl(r,e,n){return e&&t_(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function yt(r,e,n){return(e=nx(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function lf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cf(r,e)}function vl(r){return vl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vl(r)}function cf(r,e){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cf(r,e)}function uf(r,e){if(r==null)return{};var n,s,l=(function(d,f){if(d==null)return{};var p,m,v={},b=Object.keys(d);for(m=0;m<b.length;m++)f.indexOf(p=b[m])>=0||(v[p]=d[p]);return v})(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(s=0;s<i.length;s++)e.indexOf(n=i[s])>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(l[n]=r[n])}return l}function Fo(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function df(r){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,s=vl(r);if(e){var l=vl(this).constructor;n=Reflect.construct(s,arguments,l)}else n=s.apply(this,arguments);return(function(i,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fo(i)})(this,n)}}function tx(r,e){return(function(n){if(Array.isArray(n))return n})(r)||(function(n,s){var l=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l!=null){var i,d,f,p,m=[],v=!0,b=!1;try{if(f=(l=l.call(n)).next,s!==0)for(;!(v=(i=f.call(l)).done)&&(m.push(i.value),m.length!==s);v=!0);}catch(y){b=!0,d=y}finally{try{if(!v&&l.return!=null&&(p=l.return(),Object(p)!==p))return}finally{if(b)throw d}}return m}})(r,e)||ax(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Xo(r){return(function(e){if(Array.isArray(e))return ff(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||ax(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function ax(r,e){if(r){if(typeof r=="string")return ff(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ff(r,e):void 0}}function ff(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=r[n];return s}function nx(r){var e=(function(n,s){if(typeof n!="object"||n===null)return n;var l=n[Symbol.toPrimitive];if(l!==void 0){var i=l.call(n,"string");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(r);return typeof e=="symbol"?e:String(e)}const hf=D.createContext(null);var rx=D.createContext(null),ox=function(){return D.useContext(rx)};function Zn(r){var e=ox(),n=D.useContext(hf);Qe(n);var s=yS(n,r),l=D.useMemo((function(){return e&&e.createConnectorsUsage()}),[e]);D.useEffect((function(){return l.register(),function(){l.cleanup()}}),[l]);var i=D.useMemo((function(){return l&&mb(l.connectors)}),[l]);return tt(tt({},s),{},{connectors:i,inContext:!!n,store:n})}var a_=["actions","query","connectors"];function bl(r){var e=D.useContext(Qb);Qe(e);var n=e.id,s=e.related,l=Zn((function(v){return n&&v.nodes[n]&&r&&r(v.nodes[n])})),i=l.actions,d=l.connectors,f=uf(l,a_),p=D.useMemo((function(){return mb({connect:function(v){return d.connect(v,n)},drag:function(v){return d.drag(v,n)}})}),[d,n]),m=D.useMemo((function(){return{setProp:function(v,b){b?i.history.throttle(b).setProp(n,v):i.setProp(n,v)},setCustom:function(v,b){b?i.history.throttle(b).setCustom(n,v):i.setCustom(n,v)},setHidden:function(v){return i.setHidden(n,v)}}}),[i,n]);return tt(tt({},f),{},{id:n,related:s,inNodeContext:!!e,actions:m,connectors:p})}var n_=["id","related","actions","inNodeContext","connectors"];function pe(r){var e=bl(r),n=e.id,s=e.related,l=e.actions,i=e.inNodeContext,d=e.connectors;return tt(tt({},uf(e,n_)),{},{actions:l,id:n,related:s,setProp:function(f,p){return bn("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),l.setProp(f,p)},inNodeContext:i,connectors:d})}const r_=({render:r})=>{const{connectors:{connect:e,drag:n}}=pe();return typeof r.type=="string"?e(n(xe.cloneElement(r))):r},o_=()=>{const{type:r,props:e,nodes:n,hydrationTimestamp:s}=bl((l=>({type:l.data.type,props:l.data.props,nodes:l.data.nodes,hydrationTimestamp:l._hydrationTimestamp})));return D.useMemo((()=>{let l=e.children;n&&n.length>0&&(l=xe.createElement(xe.Fragment,null,n.map((d=>xe.createElement(mf,{id:d,key:d})))));const i=xe.createElement(r,e,l);return typeof r=="string"?xe.createElement(r_,{render:i}):i}),[r,e,s,n])},s_=({render:r})=>{const{hidden:e}=bl((s=>({hidden:s.data.hidden}))),{onRender:n}=Zn((s=>({onRender:s.options.onRender})));return e?null:xe.createElement(n,{render:r||xe.createElement(o_,null)})},mf=({id:r,render:e})=>xe.createElement(Zb,{id:r},xe.createElement(s_,{render:e})),pf={is:"div",canvas:!1,custom:{},hidden:!1},l_={is:"type",canvas:"isCanvas"};function be({id:r,children:e,...n}){const{is:s}={...pf,...n},{query:l,actions:i}=Zn(),{id:d,inNodeContext:f}=bl(),[p]=D.useState((()=>{Qe(!!r);const m=l.node(d).get();if(f){const v=m.data.linkedNodes[r]?l.node(m.data.linkedNodes[r]).get():null;if(v&&v.data.type===s)return v.id;const b=xe.createElement(be,n,e),y=l.parseReactElement(b).toNodeTree();return i.history.ignore().addLinkedNodeFromTree(y,d,r),y.rootNodeId}return null}));return p?xe.createElement(mf,{id:p}):null}const sx=()=>bn("<Canvas />",{suggest:"<Element canvas={true} />"});function gf({...r}){return D.useEffect((()=>sx()),[]),xe.createElement(be,{...r,canvas:!0})}const i_=()=>{const{timestamp:r}=Zn((e=>({timestamp:e.nodes[Xa]&&e.nodes[Xa]._hydrationTimestamp})));return r?xe.createElement(mf,{id:Xa,key:r}):null},lx=({children:r,json:e,data:n})=>{const{actions:s,query:l}=Zn();e&&bn("<Frame json={...} />",{suggest:"<Frame data={...} />"});const i=D.useRef(!1);if(!i.current){const d=n||e;if(d)s.history.ignore().deserialize(d);else if(r){const f=xe.Children.only(r),p=l.parseReactElement(f).toNodeTree(((m,v)=>(v===f&&(m.id=Xa),m)));s.history.ignore().addNodeTree(p)}i.current=!0}return xe.createElement(i_,null)};var ix;(function(r){r[r.Any=0]="Any",r[r.Id=1]="Id",r[r.Obj=2]="Obj"})(ix||(ix={}));const vf=r=>{const{addLinkedNodeFromTree:e,setDOM:n,setNodeEvent:s,replaceNodes:l,reset:i,...d}=r;return d};function De(r){const{connectors:e,actions:n,query:s,store:l,...i}=Zn(r),d=vf(n);return{connectors:e,actions:D.useMemo((()=>({...d,history:{...d.history,ignore:(...f)=>vf(d.history.ignore(...f)),throttle:(...f)=>vf(d.history.throttle(...f))}})),[d]),query:s,store:l,...i}}var cx=function(r){return Object.fromEntries?Object.fromEntries(r):r.reduce((function(e,n){var s=tx(n,2),l=s[0],i=s[1];return tt(tt({},e),{},yt({},l,i))}),{})},Ga=function(r,e,n){var s=Array.isArray(e)?e:[e],l=tt({existOnly:!1,idOnly:!1},n||{}),i=s.filter((function(d){return!!d})).map((function(d){return typeof d=="string"?{node:r[d],exists:!!r[d]}:sf(d)!=="object"||l.idOnly?{node:null,exists:!1}:{node:d,exists:!!r[d.id]}}));return l.existOnly&&Qe(i.filter((function(d){return!d.exists})).length===0),i},c_=["history"],Rr=null,xl=function(r,e){if(typeof e=="string")return e;var n,s=(function(l,i){var d=(function(f){if(Rr&&Rr.resolver===f)return Rr.reversed;Rr={resolver:f,reversed:new Map};for(var p=0,m=Object.entries(f);p<m.length;p++){var v=tx(m[p],2);Rr.reversed.set(v[1],v[0])}return Rr.reversed})(l).get(i);return d!==void 0?d:null})(r,e);return Qe(s,nb.replace("%node_type%",(n=e).name||n.displayName)),s};const u_=(r,e)=>typeof r=="string"?r:{resolvedName:xl(e,r)},bf=(r,e)=>{let{type:n,isCanvas:s,props:l}=r;return l=Object.keys(l).reduce(((i,d)=>{const f=l[d];return f==null||typeof f=="function"||(i[d]=d==="children"&&typeof f!="string"?D.Children.map(f,(p=>typeof p=="string"?p:bf(p,e))):typeof f.type=="function"?bf(f,e):f),i}),{}),{type:u_(n,e),isCanvas:!!s,props:l}},d_=(r,e)=>{const{type:n,props:s,isCanvas:l,name:i,...d}=r;return{...bf({type:n,isCanvas:l,props:s},e),...d}};function xf(r,e){Qe(typeof e=="string");var n=r.nodes[e],s=function(l){return xf(r,l)};return{isCanvas:function(){return!!n.data.isCanvas},isRoot:function(){return n.id===Xa},isLinkedNode:function(){return n.data.parent&&s(n.data.parent).linkedNodes().includes(n.id)},isTopLevelNode:function(){return this.isRoot()||this.isLinkedNode()},isDeletable:function(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:function(){return n.data.linkedNodes&&Object.keys(n.data.linkedNodes).length>0},isParentOfTopLevelCanvas:function(){return bn("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:function(){return r.events.selected.has(e)},isHovered:function(){return r.events.hovered.has(e)},isDragged:function(){return r.events.dragged.has(e)},get:function(){return n},ancestors:function(){var l=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(function i(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=r.nodes[d];return m?(f.push(d),m.data.parent&&(l||!l&&p===0)&&(f=i(m.data.parent,f,p+1)),f):f})(n.data.parent)},descendants:function(){var l=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0;return(function d(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return(l||!l&&m===0)&&r.nodes[f]&&(i!=="childNodes"&&s(f).linkedNodes().forEach((function(v){p.push(v),p=d(v,p,m+1)})),i!=="linkedNodes"&&s(f).childNodes().forEach((function(v){p.push(v),p=d(v,p,m+1)}))),p})(e)},linkedNodes:function(){return Object.values(n.data.linkedNodes||{})},childNodes:function(){return n.data.nodes||[]},isDraggable:function(l){try{var i=n;return Qe(!this.isTopLevelNode(),ab),Qe(xf(r,i.data.parent).isCanvas(),tb),Qe(i.rules.canDrag(i,s),hS),!0}catch(d){return l&&l(d),!1}},isDroppable:function(l,i){var d=Ga(r.nodes,l),f=n;try{Qe(this.isCanvas(),dS),Qe(f.rules.canMoveIn(d.map((function(m){return m.node})),f,s),cS);var p={};return d.forEach((function(m){var v=m.node,b=m.exists;if(Qe(v.rules.canDrop(f,v,s),iS),b){Qe(!s(v.id).isTopLevelNode(),ab);var y=s(v.id).descendants(!0);Qe(!y.includes(f.id)&&f.id!==v.id,fS);var j=v.data.parent&&r.nodes[v.data.parent];Qe(j.data.isCanvas,tb),Qe(j||!j&&!r.nodes[v.id],lS),j.id!==f.id&&(p[j.id]||(p[j.id]=[]),p[j.id].push(v))}})),Object.keys(p).forEach((function(m){var v=r.nodes[m];Qe(v.rules.canMoveOut(p[m],v,s),uS)})),!0}catch(m){return i&&i(m),!1}},toSerializedNode:function(){return d_(n.data,r.options.resolver)},toNodeTree:function(l){var i=[e].concat(Xo(this.descendants(!0,l))).reduce((function(d,f){return d[f]=s(f).get(),d}),{});return{rootNodeId:e,nodes:i}},decendants:function(){var l=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return bn("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(l)},isTopLevelCanvas:function(){return!this.isRoot()&&!n.data.parent}}}function ux(r,e,n,s){for(var l={parent:r,index:0,where:"before"},i=0,d=0,f=0,p=0,m=0,v=0,b=0,y=e.length;b<y;b++){var j=e[b];if(v=j.top+j.outerHeight,p=j.left+j.outerWidth/2,m=j.top+j.outerHeight/2,!(d&&j.left>d||f&&m>=f||i&&j.left+j.outerWidth<i))if(l.index=b,j.inFlow){if(s<m){l.where="before";break}l.where="after"}else s<v&&(f=v),n<p?(d=p,l.where="before"):(i=p,l.where="after")}return l}var yl=function(r){return typeof r=="string"?r:r.name};function dx(r,e){var n=r.data.type,s={id:r.id||db(),_hydrationTimestamp:Date.now(),data:tt({type:n,name:yl(n),displayName:yl(n),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},r.data),info:{},related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:function(){return!0},canDrop:function(){return!0},canMoveIn:function(){return!0},canMoveOut:function(){return!0}},dom:null};if(s.data.type===be||s.data.type===gf){var l=tt(tt({},pf),s.data.props);s.data.props=Object.keys(s.data.props).reduce((function(f,p){return Object.keys(pf).includes(p)?s.data[l_[p]||p]=l[p]:f[p]=s.data.props[p],f}),{}),s.data.name=yl(n=s.data.type),s.data.displayName=yl(n),s.data.type===gf&&(s.data.isCanvas=!0,sx())}e&&e(s);var i=n.craft;if(i){if(s.data.displayName=i.displayName||i.name||s.data.displayName,s.data.props=tt(tt({},i.props||i.defaultProps||{}),s.data.props),s.data.custom=tt(tt({},i.custom||{}),s.data.custom),i.isCanvas!=null&&(s.data.isCanvas=i.isCanvas),i.rules&&Object.keys(i.rules).forEach((function(f){["canDrag","canDrop","canMoveIn","canMoveOut"].includes(f)&&(s.rules[f]=i.rules[f])})),i.related){var d={id:s.id,related:!0};Object.keys(i.related).forEach((function(f){s.related[f]=function(p){return xe.createElement(Zb,d,xe.createElement(i.related[f],p))}}))}i.info&&(s.info=i.info)}return s}const yf=(r,e,n)=>{let{type:s,props:l}=r;const i=((f,p)=>typeof f=="object"&&f.resolvedName?f.resolvedName==="Canvas"?gf:p[f.resolvedName]:typeof f=="string"?f:null)(s,e);if(!i)return;l=Object.keys(l).reduce(((f,p)=>{const m=l[p];return f[p]=m==null?null:typeof m=="object"&&m.resolvedName?yf(m,e):p==="children"&&Array.isArray(m)?m.map((v=>typeof v=="string"?v:yf(v,e))):m,f}),{});const d={...xe.createElement(i,{...l})};return{...d,name:xl(e,d.type)}},f_=(r,e)=>{const{type:n,props:s,...l}=r;Qe(n!==void 0&&typeof n=="string"||n!==void 0&&n.resolvedName!==void 0,mS.replace("%displayName%",r.displayName).replace("%availableComponents%",Object.keys(e).join(", ")));const{type:i,name:d,props:f}=yf(r,e),{parent:p,custom:m,displayName:v,isCanvas:b,nodes:y,hidden:j}=l;return{type:i,name:d,displayName:v||d,props:f,custom:m||{},isCanvas:!!b,hidden:!!j,parent:p,linkedNodes:l.linkedNodes||l._childCanvas||{},nodes:y||[]}},h_=(r,e)=>{if(e.length<1)return{[r.id]:r};const n=e.map((({rootNodeId:l})=>l)),s={...r,data:{...r.data,nodes:n}};return e.reduce(((l,i)=>{const d=i.nodes[i.rootNodeId];return{...l,...i.nodes,[d.id]:{...d,data:{...d.data,parent:r.id}}}}),{[r.id]:s})},m_=(r,e)=>({rootNodeId:r.id,nodes:h_(r,e)});function fx(r){const e=r&&r.options,n=()=>fx(r);return{getDropPlaceholder:(s,l,i,d=(f=>r.nodes[f.id].dom))=>{const f=r.nodes[l],p=n().node(f.id).isCanvas()?f:r.nodes[f.data.parent];if(!p)return;const m=p.data.nodes||[],v=ux(p,m?m.reduce(((j,C)=>{const w=d(r.nodes[C]);if(w){const T={id:C,...$o(w)};j.push(T)}return j}),[]):[],i.x,i.y),b=m.length&&r.nodes[m[v.index]],y={placement:{...v,currentNode:b},error:null};return Ga(r.nodes,s).forEach((({node:j,exists:C})=>{C&&n().node(j.id).isDraggable((w=>y.error=w))})),n().node(p.id).isDroppable(s,(j=>y.error=j)),y},getOptions:()=>e,getNodes:()=>r.nodes,node:s=>xf(r,s),getSerializedNodes(){const s=Object.keys(r.nodes).map((l=>[l,this.node(l).toSerializedNode()]));return cx(s)},getEvent:s=>(function(l,i){var d=l.events[i];return{contains:function(f){return d.has(f)},isEmpty:function(){return this.all().length===0},first:function(){return this.all()[0]},last:function(){var f=this.all();return f[f.length-1]},all:function(){return Array.from(d)},size:function(){return this.all().length},at:function(f){return this.all()[f]},raw:function(){return d}}})(r,s),serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:s=>({toNodeTree(l){let i=(function(f,p){let m=f;return typeof m=="string"&&(m=xe.createElement(D.Fragment,{},m)),dx({data:{type:m.type,props:{...m.props}}},(v=>{p&&p(v,m)}))})(s,((f,p)=>{const m=xl(r.options.resolver,f.data.type);f.data.displayName=f.data.displayName||m,f.data.name=m,l&&l(f,p)})),d=[];return s.props&&s.props.children&&(d=xe.Children.toArray(s.props.children).reduce(((f,p)=>(xe.isValidElement(p)&&f.push(n().parseReactElement(p).toNodeTree(l)),f)),[])),m_(i,d)}}),parseSerializedNode:s=>({toNode(l){const i=f_(s,r.options.resolver);Qe(i.type);const d=typeof l=="string"&&l;return d&&bn("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),n().parseFreshNode({...d?{id:d}:{},data:i}).toNode(!d&&l)}}),parseFreshNode:s=>({toNode:l=>dx(s,(i=>{i.data.parent===eb&&(i.data.parent=Xa);const d=xl(r.options.resolver,i.data.type);Qe(d!==null),i.data.displayName=i.data.displayName||d,i.data.name=d,l&&l(i)}))}),createNode(s,l){bn(`query.createNode(${s})`,{suggest:`query.parseReactElement(${s}).toNodeTree()`});const i=this.parseReactElement(s).toNodeTree(),d=i.nodes[i.rootNodeId];return l&&(l.id&&(d.id=l.id),l.data&&(d.data={...d.data,...l.data})),d},getState:()=>r}}var p_=(function(r){lf(n,fb);var e=df(n);function n(){return pl(this,n),e.apply(this,arguments)}return gl(n,[{key:"handlers",value:function(){return{connect:function(s,l){},select:function(s,l){},hover:function(s,l){},drag:function(s,l){},drop:function(s,l){},create:function(s,l,i){}}}}]),n})();(function(r){lf(n,NS);var e=df(n);function n(){return pl(this,n),e.apply(this,arguments)}return gl(n)})();var hx=function(r){r.preventDefault()},jf=(function(){function r(e,n){pl(this,r),yt(this,"store",void 0),yt(this,"dragTarget",void 0),yt(this,"currentDropTargetId",void 0),yt(this,"currentDropTargetCanvasAncestorId",void 0),yt(this,"currentIndicator",null),yt(this,"currentTargetId",void 0),yt(this,"currentTargetChildDimensions",void 0),yt(this,"dragError",void 0),yt(this,"draggedNodes",void 0),yt(this,"onScrollListener",void 0),this.store=e,this.dragTarget=n,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0),window.addEventListener("dragover",hx,!1)}return gl(r,[{key:"cleanup",value:function(){window.removeEventListener("scroll",this.onScrollListener,!0),window.removeEventListener("dragover",hx,!1)}},{key:"onScroll",value:function(e){var n=e.target,s=this.store.query.node(Xa).get();n instanceof Element&&s&&s.dom&&n.contains(s.dom)&&(this.currentTargetChildDimensions=null)}},{key:"getDraggedNodes",value:function(){return Ga(this.store.query.getNodes(),this.dragTarget.type==="new"?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}},{key:"validateDraggedNodes",value:function(){var e=this;this.dragTarget.type!=="new"&&this.draggedNodes.forEach((function(n){n.exists&&e.store.query.node(n.node.id).isDraggable((function(s){e.dragError=s}))}))}},{key:"isNearBorders",value:function(e,n,s){return e.top+r.BORDER_OFFSET>s||e.bottom-r.BORDER_OFFSET<s||e.left+r.BORDER_OFFSET>n||e.right-r.BORDER_OFFSET<n}},{key:"isDiff",value:function(e){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==e.parent.id||this.currentIndicator.placement.index!==e.index||this.currentIndicator.placement.where!==e.where}},{key:"getChildDimensions",value:function(e){var n=this,s=this.currentTargetChildDimensions;return this.currentTargetId===e.id&&s?s:e.data.nodes.reduce((function(l,i){var d=n.store.query.node(i).get().dom;return d&&l.push(tt({id:i},$o(d))),l}),[])}},{key:"getCanvasAncestor",value:function(e){var n=this;if(e===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){var s=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(s)return s}return(function l(i){var d=n.store.query.node(i).get();return d&&d.data.isCanvas?d:d.data.parent?l(d.data.parent):null})(e)}},{key:"computeIndicator",value:function(e,n,s){var l=this.getCanvasAncestor(e);if(l&&(this.currentDropTargetId=e,this.currentDropTargetCanvasAncestorId=l.id,l.data.parent&&this.isNearBorders($o(l.dom),n,s)&&!this.store.query.node(l.id).isLinkedNode()&&(l=this.store.query.node(l.data.parent).get()),l)){this.currentTargetChildDimensions=this.getChildDimensions(l),this.currentTargetId=l.id;var i=ux(l,this.currentTargetChildDimensions,n,s);if(this.isDiff(i)){var d=this.dragError;d||this.store.query.node(l.id).isDroppable(this.draggedNodes.map((function(m){return m.node})),(function(m){d=m}));var f=l.data.nodes[i.index],p=f&&this.store.query.node(f).get();return this.currentIndicator={placement:tt(tt({},i),{},{currentNode:p}),error:d},this.currentIndicator}}}},{key:"getIndicator",value:function(){return this.currentIndicator}}]),r})();yt(jf,"BORDER_OFFSET",10);var mx=function(r,e){if(e.length===1||arguments.length>2&&arguments[2]!==void 0&&arguments[2]){var n=e[0].getBoundingClientRect(),s=n.width,l=n.height,i=e[0].cloneNode(!0);return i.style.position="absolute",i.style.left="-100%",i.style.top="-100%",i.style.width="".concat(s,"px"),i.style.height="".concat(l,"px"),i.style.pointerEvents="none",i.classList.add("drag-shadow"),document.body.appendChild(i),r.dataTransfer.setDragImage(i,0,0),i}var d=document.createElement("div");return d.style.position="absolute",d.style.left="-100%",d.style.top="-100%",d.style.width="100%",d.style.height="100%",d.style.pointerEvents="none",d.classList.add("drag-shadow-container"),e.forEach((function(f){var p=f.getBoundingClientRect(),m=p.width,v=p.height,b=p.top,y=p.left,j=f.cloneNode(!0);j.style.position="absolute",j.style.left="".concat(y,"px"),j.style.top="".concat(b,"px"),j.style.width="".concat(m,"px"),j.style.height="".concat(v,"px"),j.classList.add("drag-shadow"),d.appendChild(j)})),document.body.appendChild(d),r.dataTransfer.setDragImage(d,r.clientX,r.clientY),d},px=(function(r){lf(n,p_);var e=df(n);function n(){var s;pl(this,n);for(var l=arguments.length,i=new Array(l),d=0;d<l;d++)i[d]=arguments[d];return yt(Fo(s=e.call.apply(e,[this].concat(i))),"draggedElementShadow",void 0),yt(Fo(s),"dragTarget",void 0),yt(Fo(s),"positioner",null),yt(Fo(s),"currentSelectedElementIds",[]),s}return gl(n,[{key:"onDisable",value:function(){this.options.store.actions.clearEvents()}},{key:"handlers",value:function(){var s=this,l=this.options.store;return{connect:function(i,d){return l.actions.setDOM(d,i),s.reflect((function(f){f.select(i,d),f.hover(i,d),f.drop(i,d)}))},select:function(i,d){var f=s.addCraftEventListener(i,"mousedown",(function(m){m.craft.stopPropagation();var v=[];if(d){var b=l.query,y=b.getEvent("selected").all();(s.options.isMultiSelectEnabled(m)||y.includes(d))&&(v=y.filter((function(j){var C=b.node(j).descendants(!0),w=b.node(j).ancestors(!0);return!C.includes(d)&&!w.includes(d)}))),v.includes(d)||v.push(d)}l.actions.setNodeEvent("selected",v)})),p=s.addCraftEventListener(i,"click",(function(m){m.craft.stopPropagation();var v=l.query.getEvent("selected").all(),b=s.options.isMultiSelectEnabled(m),y=s.currentSelectedElementIds.includes(d),j=Xo(v);b&&y?(j.splice(j.indexOf(d),1),l.actions.setNodeEvent("selected",j)):!b&&v.length>1&&l.actions.setNodeEvent("selected",j=[d]),s.currentSelectedElementIds=j}));return function(){f(),p()}},hover:function(i,d){var f=s.addCraftEventListener(i,"mouseover",(function(m){m.craft.stopPropagation(),l.actions.setNodeEvent("hovered",d)})),p=null;return s.options.removeHoverOnMouseleave&&(p=s.addCraftEventListener(i,"mouseleave",(function(m){m.craft.stopPropagation(),l.actions.setNodeEvent("hovered",null)}))),function(){f(),p&&p()}},drop:function(i,d){var f=s.addCraftEventListener(i,"dragover",(function(m){if(m.craft.stopPropagation(),m.preventDefault(),s.positioner){var v=s.positioner.computeIndicator(d,m.clientX,m.clientY);v&&l.actions.setIndicator(v)}})),p=s.addCraftEventListener(i,"dragenter",(function(m){m.craft.stopPropagation(),m.preventDefault()}));return function(){p(),f()}},drag:function(i,d){if(!l.query.node(d).isDraggable())return function(){};i.setAttribute("draggable","true");var f=s.addCraftEventListener(i,"dragstart",(function(m){m.craft.stopPropagation();var v=l.query,b=l.actions,y=v.getEvent("selected").all(),j=s.options.isMultiSelectEnabled(m);s.currentSelectedElementIds.includes(d)||(y=j?[].concat(Xo(y),[d]):[d],l.actions.setNodeEvent("selected",y)),b.setNodeEvent("dragged",y);var C=y.map((function(w){return v.node(w).get().dom}));s.draggedElementShadow=mx(m,C,n.forceSingleDragShadow),s.dragTarget={type:"existing",nodes:y},s.positioner=new jf(s.options.store,s.dragTarget)})),p=s.addCraftEventListener(i,"dragend",(function(m){m.craft.stopPropagation(),s.dropElement((function(v,b){v.type!=="new"&&l.actions.move(v.nodes,b.placement.parent.id,b.placement.index+(b.placement.where==="after"?1:0))}))}));return function(){i.setAttribute("draggable","false"),f(),p()}},create:function(i,d,f){i.setAttribute("draggable","true");var p=s.addCraftEventListener(i,"dragstart",(function(v){var b;if(v.craft.stopPropagation(),typeof d=="function"){var y=d();b=xe.isValidElement(y)?l.query.parseReactElement(y).toNodeTree():y}else b=l.query.parseReactElement(d).toNodeTree();s.draggedElementShadow=mx(v,[v.currentTarget],n.forceSingleDragShadow),s.dragTarget={type:"new",tree:b},s.positioner=new jf(s.options.store,s.dragTarget)})),m=s.addCraftEventListener(i,"dragend",(function(v){v.craft.stopPropagation(),s.dropElement((function(b,y){b.type!=="existing"&&(l.actions.addNodeTree(b.tree,y.placement.parent.id,y.placement.index+(y.placement.where==="after"?1:0)),f&&kS(f.onCreate)&&f.onCreate(b.tree))}))}));return function(){i.removeAttribute("draggable"),p(),m()}}}}},{key:"dropElement",value:function(s){var l=this.options.store;if(this.positioner){var i=this.draggedElementShadow,d=this.positioner.getIndicator();this.dragTarget&&d&&!d.error&&s(this.dragTarget,d),i&&(i.parentNode.removeChild(i),this.draggedElementShadow=null),this.dragTarget=null,l.actions.setIndicator(null),l.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}}]),n})();function g_(r,e,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,l=0,i=0,d=0,f=0,p=r.where;return n?n.inFlow?(d=n.outerWidth,f=s,l=p==="before"?n.top:n.bottom,i=n.left):(d=s,f=n.outerHeight,l=n.top,i=p==="before"?n.left:n.left+n.outerWidth):e&&(l=e.top+e.padding.top,i=e.left+e.padding.left,d=e.outerWidth-e.padding.right-e.padding.left-e.margin.left-e.margin.right,f=s),{top:"".concat(l,"px"),left:"".concat(i,"px"),width:"".concat(d,"px"),height:"".concat(f,"px")}}yt(px,"forceSingleDragShadow",TS()&&_S());const v_=()=>{const{indicator:r,indicatorOptions:e,enabled:n}=Zn((l=>({indicator:l.indicator,indicatorOptions:l.options.indicator,enabled:l.options.enabled}))),s=ox();return D.useEffect((()=>{s&&(n?s.enable():s.disable())}),[n,s]),r?xe.createElement(SS,{className:e.className,style:{...g_(r.placement,$o(r.placement.parent.dom),r.placement.currentNode&&$o(r.placement.currentNode.dom),e.thickness),backgroundColor:r.error?e.error:e.success,transition:e.transition||"0.2s ease-in",...e.style??{}},parentDom:r.placement.parent.dom}):null},b_=({children:r})=>{const e=D.useContext(hf),n=D.useMemo((()=>e.query.getOptions().handlers(e)),[e]);return n?xe.createElement(rx.Provider,{value:n},xe.createElement(v_,null),r):null},gx={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:r})=>r,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},handlers:r=>new px({store:r,removeHoverOnMouseleave:!1,isMultiSelectEnabled:e=>!!e.metaKey}),normalizeNodes:()=>{}}},x_={methods:function(r,e){return tt(tt({},(function(n,s){var l=function(f,p,m){if((function y(j,C){var w=f.nodes[j];typeof w.data.type!="string"&&Qe(n.options.resolver[w.data.name],nb.replace("%node_type%","".concat(w.data.type.name))),n.nodes[j]=tt(tt({},w),{},{data:tt(tt({},w.data),{},{parent:C})}),w.data.nodes.length>0&&(delete n.nodes[j].data.props.children,w.data.nodes.forEach((function(T){return y(T,w.id)}))),Object.values(w.data.linkedNodes).forEach((function(T){return y(T,w.id)}))})(f.rootNodeId,p),p||f.rootNodeId!==Xa){var v=i(p);if(m.type!=="child")v.data.linkedNodes[m.id]=f.rootNodeId;else{var b=m.index;b!=null?v.data.nodes.splice(b,0,f.rootNodeId):v.data.nodes.push(f.rootNodeId)}}},i=function(f){Qe(f);var p=n.nodes[f];return Qe(p),p},d=function f(p){var m=n.nodes[p],v=n.nodes[m.data.parent];if(m.data.nodes&&Xo(m.data.nodes).forEach((function(j){return f(j)})),m.data.linkedNodes&&Object.values(m.data.linkedNodes).map((function(j){return f(j)})),v.data.nodes.includes(p)){var b=v.data.nodes;b.splice(b.indexOf(p),1)}else{var y=Object.keys(v.data.linkedNodes).find((function(j){return v.data.linkedNodes[j]===j}));y&&delete v.data.linkedNodes[y]}(function(j,C){Object.keys(j.events).forEach((function(w){var T=j.events[w];T&&T.has&&T.has(C)&&(j.events[w]=new Set(Array.from(T).filter((function(z){return C!==z}))))}))})(n,p),delete n.nodes[p]};return{addLinkedNodeFromTree:function(f,p,m){var v=i(p).data.linkedNodes[m];v&&d(v),l(f,p,{type:"linked",id:m})},add:function(f,p,m){var v=[f];Array.isArray(f)&&(bn("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),v=f),v.forEach((function(b){l({nodes:yt({},b.id,b),rootNodeId:b.id},p,{type:"child",index:m})}))},addNodeTree:function(f,p,m){l(f,p,{type:"child",index:m})},delete:function(f){Ga(n.nodes,f,{existOnly:!0,idOnly:!0}).forEach((function(p){var m=p.node;Qe(!s.node(m.id).isTopLevelNode()),d(m.id)}))},deserialize:function(f){var p=typeof f=="string"?JSON.parse(f):f,m=Object.keys(p).map((function(v){var b=v;return v===eb&&(b=Xa),[b,s.parseSerializedNode(p[v]).toNode((function(y){return y.id=b}))]}));this.replaceNodes(cx(m))},move:function(f,p,m){var v=Ga(n.nodes,f,{existOnly:!0}),b=n.nodes[p],y=new Set;v.forEach((function(j,C){var w=j.node,T=w.id,z=w.data.parent;s.node(p).isDroppable([T],(function(I){throw new Error(I)})),n.options.onBeforeMoveEnd(w,b,n.nodes[z]);var S=n.nodes[z].data.nodes;y.add(S);var R=S.indexOf(T);S[R]="$$",b.data.nodes.splice(m+C,0,T),n.nodes[T].data.parent=p})),y.forEach((function(j){var C=j.length;Xo(j).reverse().forEach((function(w,T){w==="$$"&&j.splice(C-1-T,1)}))}))},replaceNodes:function(f){this.clearEvents(),n.nodes=f},clearEvents:function(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset:function(){this.clearEvents(),this.replaceNodes({})},setOptions:function(f){f(n.options)},setNodeEvent:function(f,p){if(n.events[f].forEach((function(b){n.nodes[b]&&(n.nodes[b].events[f]=!1)})),n.events[f]=new Set,p){var m=Ga(n.nodes,p,{idOnly:!0,existOnly:!0}),v=new Set(m.map((function(b){return b.node.id})));v.forEach((function(b){n.nodes[b].events[f]=!0})),n.events[f]=v}},setCustom:function(f,p){Ga(n.nodes,f,{idOnly:!0,existOnly:!0}).forEach((function(m){return p(n.nodes[m.node.id].data.custom)}))},setDOM:function(f,p){n.nodes[f]&&(n.nodes[f].dom=p)},setIndicator:function(f){f&&(!f.placement.parent.dom||f.placement.currentNode&&!f.placement.currentNode.dom)||(n.indicator=f)},setHidden:function(f,p){n.nodes[f].data.hidden=p},setProp:function(f,p){Ga(n.nodes,f,{idOnly:!0,existOnly:!0}).forEach((function(m){return p(n.nodes[m.node.id].data.props)}))},selectNode:function(f){if(f){var p=Ga(n.nodes,f,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",p.map((function(m){return m.node.id})))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}}})(r,e)),{},{setState:function(n){var s=uf(this,c_);n(r,s)}})},ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:r=>{Object.keys(r.events).forEach((e=>{Array.from(r.events[e]||[]).forEach((n=>{r.nodes[n]||r.events[e].delete(n)}))})),Object.keys(r.nodes).forEach((e=>{const n=r.nodes[e];Object.keys(n.events).forEach((s=>{n.events[s]&&r.events[s]&&!r.events[s].has(n.id)&&(n.events[s]=!1)}))}))}},y_=(r,e)=>vS(x_,{...gx,options:{...gx.options,...r}},fx,e),j_=({children:r,...e})=>{e.resolver!==void 0&&Qe(typeof e.resolver=="object"&&!Array.isArray(e.resolver)&&e.resolver!==null);const n=D.useRef(e),s=y_(n.current,((l,i,d,f,p)=>{if(!d)return;const{patches:m,...v}=d;for(let b=0;b<m.length;b++){const{path:y}=m[b],j=y.length>2&&y[0]==="nodes"&&y[2]==="data";if([lt.IGNORE,lt.THROTTLE].includes(v.type)&&v.params&&(v.type=v.params[0]),["setState","deserialize"].includes(v.type)||j){p((C=>{l.options.normalizeNodes&&l.options.normalizeNodes(C,i,v,f)}));break}}}));return D.useEffect((()=>{s&&e.enabled!==void 0&&s.query.getOptions().enabled!==e.enabled&&s.actions.setOptions((l=>{l.enabled=e.enabled}))}),[s,e.enabled]),D.useEffect((()=>{s.subscribe((l=>({json:s.query.serialize()})),(()=>{s.query.getOptions().onNodesChange(s.query)}))}),[s]),s?D.createElement(hf.Provider,{value:s},D.createElement(b_,null,r)):null};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vx="popstate";function N_(r={}){function e(l,i){let{pathname:d="/",search:f="",hash:p=""}=er(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Nf("",{pathname:d,search:f,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(l,i){let d=l.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof i=="string"?i:Go(i))}function s(l,i){Ft(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return w_(e,n,s,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ft(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C_(){return Math.random().toString(36).substring(2,10)}function bx(r,e){return{usr:r.state,key:r.key,idx:e}}function Nf(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?er(e):e,state:n,key:e&&e.key||s||C_()}}function Go({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function er(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function w_(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:i=!1}=s,d=l.history,f="POP",p=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function b(){f="POP";let T=v(),z=T==null?null:T-m;m=T,p&&p({action:f,location:w.location,delta:z})}function y(T,z){f="PUSH";let S=Nf(w.location,T,z);n&&n(S,T),m=v()+1;let R=bx(S,m),I=w.createHref(S);try{d.pushState(R,"",I)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(I)}i&&p&&p({action:f,location:w.location,delta:1})}function j(T,z){f="REPLACE";let S=Nf(w.location,T,z);n&&n(S,T),m=v();let R=bx(S,m),I=w.createHref(S);d.replaceState(R,"",I),i&&p&&p({action:f,location:w.location,delta:0})}function C(T){return S_(T)}let w={get action(){return f},get location(){return r(l,d)},listen(T){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(vx,b),p=T,()=>{l.removeEventListener(vx,b),p=null}},createHref(T){return e(l,T)},createURL:C,encodeLocation(T){let z=C(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:y,replace:j,go(T){return d.go(T)}};return w}function S_(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Go(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xx(r,e,n="/"){return __(r,e,n,!1)}function __(r,e,n,s){let l=typeof e=="string"?er(e):e,i=Va(l.pathname||"/",n);if(i==null)return null;let d=yx(r);T_(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let m=I_(i);f=L_(d[p],m,s)}return f}function yx(r,e=[],n=[],s="",l=!1){let i=(d,f,p=l,m)=>{let v={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(s)&&p)return;rt(v.relativePath.startsWith(s),`Absolute route path "${v.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(s.length)}let b=Ka([s,v.relativePath]),y=n.concat(v);d.children&&d.children.length>0&&(rt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),yx(d.children,e,y,b,p)),!(d.path==null&&!d.index)&&e.push({path:b,score:M_(b,d.index),routesMeta:y})};return r.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))i(d,f);else for(let p of jx(d.path))i(d,f,!0,p)}),e}function jx(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return l?[i,""]:[i];let d=jx(s.join("/")),f=[];return f.push(...d.map(p=>p===""?i:[i,p].join("/"))),l&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function T_(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:D_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var E_=/^:[\w-]+$/,k_=3,O_=2,A_=1,R_=10,z_=-2,Nx=r=>r==="*";function M_(r,e){let n=r.split("/"),s=n.length;return n.some(Nx)&&(s+=z_),e&&(s+=O_),n.filter(l=>!Nx(l)).reduce((l,i)=>l+(E_.test(i)?k_:i===""?A_:R_),s)}function D_(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function L_(r,e,n=!1){let{routesMeta:s}=r,l={},i="/",d=[];for(let f=0;f<s.length;++f){let p=s[f],m=f===s.length-1,v=i==="/"?e:e.slice(i.length)||"/",b=jl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),y=p.route;if(!b&&m&&n&&!s[s.length-1].route.index&&(b=jl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:Ka([i,b.pathname]),pathnameBase:H_(Ka([i,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(i=Ka([i,b.pathnameBase]))}return d}function jl(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=U_(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let i=l[0],d=i.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:s.reduce((m,{paramName:v,isOptional:b},y)=>{if(v==="*"){let C=f[y]||"";d=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const j=f[y];return b&&!j?m[v]=void 0:m[v]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:d,pattern:r}}function U_(r,e=!1,n=!0){Ft(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function I_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Va(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q_=r=>Cx.test(r);function B_(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?er(r):r,i;if(n)if(q_(n))i=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?i=wx(n.substring(1),"/"):i=wx(n,e)}else i=e;return{pathname:i,search:$_(s),hash:Y_(l)}}function wx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Cf(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function P_(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wf(r){let e=P_(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Sf(r,e,n,s=!1){let l;typeof r=="string"?l=er(r):(l={...r},rt(!l.pathname||!l.pathname.includes("?"),Cf("?","pathname","search",l)),rt(!l.pathname||!l.pathname.includes("#"),Cf("#","pathname","hash",l)),rt(!l.search||!l.search.includes("#"),Cf("#","search","hash",l)));let i=r===""||l.pathname==="",d=i?"/":l.pathname,f;if(d==null)f=n;else{let b=e.length-1;if(!s&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;l.pathname=y.join("/")}f=b>=0?e[b]:"/"}let p=B_(l,f),m=d&&d!=="/"&&d.endsWith("/"),v=(i||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Ka=r=>r.join("/").replace(/\/\/+/g,"/"),H_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,F_=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function X_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function G_(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Sx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function _x(r,e){let n=r;if(typeof n!="string"||!Cx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(Sx)try{let i=new URL(window.location.href),d=n.startsWith("//")?new URL(i.protocol+n):new URL(n),f=Va(d.pathname,e);d.origin===i.origin&&f!=null?n=f+d.search+d.hash:l=!0}catch{Ft(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Tx=["POST","PUT","PATCH","DELETE"];new Set(Tx);var V_=["GET",...Tx];new Set(V_);var zr=D.createContext(null);zr.displayName="DataRouter";var Nl=D.createContext(null);Nl.displayName="DataRouterState";var K_=D.createContext(!1),Ex=D.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var J_=D.createContext(new Map);J_.displayName="Fetchers";var W_=D.createContext(null);W_.displayName="Await";var ea=D.createContext(null);ea.displayName="Navigation";var Vo=D.createContext(null);Vo.displayName="Location";var Ta=D.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var _f=D.createContext(null);_f.displayName="RouteError";var kx="REACT_ROUTER_ERROR",Q_="REDIRECT",Z_="ROUTE_ERROR_RESPONSE";function eT(r){if(r.startsWith(`${kx}:${Q_}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function tT(r){if(r.startsWith(`${kx}:${Z_}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new F_(e.status,e.statusText,e.data)}catch{}}function aT(r,{relative:e}={}){rt(Mr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=D.useContext(ea),{hash:l,pathname:i,search:d}=Ko(r,{relative:e}),f=i;return n!=="/"&&(f=i==="/"?n:Ka([n,i])),s.createHref({pathname:f,search:d,hash:l})}function Mr(){return D.useContext(Vo)!=null}function Ba(){return rt(Mr(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Vo).location}var Ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ax(r){D.useContext(ea).static||D.useLayoutEffect(r)}function ft(){let{isDataRoute:r}=D.useContext(Ta);return r?gT():nT()}function nT(){rt(Mr(),"useNavigate() may be used only in the context of a <Router> component.");let r=D.useContext(zr),{basename:e,navigator:n}=D.useContext(ea),{matches:s}=D.useContext(Ta),{pathname:l}=Ba(),i=JSON.stringify(wf(s)),d=D.useRef(!1);return Ax(()=>{d.current=!0}),D.useCallback((p,m={})=>{if(Ft(d.current,Ox),!d.current)return;if(typeof p=="number"){n.go(p);return}let v=Sf(p,JSON.parse(i),l,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ka([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,i,l,r])}D.createContext(null);function rT(){let{matches:r}=D.useContext(Ta),e=r[r.length-1];return e?e.params:{}}function Ko(r,{relative:e}={}){let{matches:n}=D.useContext(Ta),{pathname:s}=Ba(),l=JSON.stringify(wf(n));return D.useMemo(()=>Sf(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function oT(r,e){return Rx(r,e)}function Rx(r,e,n,s,l){rt(Mr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(ea),{matches:d}=D.useContext(Ta),f=d[d.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let S=b&&b.path||"";Dx(m,!b||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=Ba(),j;if(e){let S=typeof e=="string"?er(e):e;rt(v==="/"||S.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${S.pathname}" was given in the \`location\` prop.`),j=S}else j=y;let C=j.pathname||"/",w=C;if(v!=="/"){let S=v.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let T=xx(r,{pathname:w});Ft(b||T!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Ft(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=uT(T&&T.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Ka([v,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:Ka([v,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),d,n,s,l);return e&&z?D.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function sT(){let r=pT(),e=X_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:i},"ErrorBoundary")," or"," ",D.createElement("code",{style:i},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:l},n):null,d)}var lT=D.createElement(sT,null),zx=class extends D.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=tT(r.digest);n&&(r=n)}let e=r!==void 0?D.createElement(Ta.Provider,{value:this.props.routeContext},D.createElement(_f.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?D.createElement(iT,{error:r},e):e}};zx.contextType=K_;var Tf=new WeakMap;function iT({children:r,error:e}){let{basename:n}=D.useContext(ea);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=eT(e.digest);if(s){let l=Tf.get(e);if(l)throw l;let i=_x(s.location,n);if(Sx&&!Tf.get(e))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw Tf.set(e,d),d}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return r}function cT({routeContext:r,match:e,children:n}){let s=D.useContext(zr);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Ta.Provider,{value:r},n)}function uT(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let i=r,d=n?.errors;if(d!=null){let v=i.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),i=i.slice(0,Math.min(i.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<i.length;v++){let b=i[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:y,errors:j}=n,C=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||C){f=!0,p>=0?i=i.slice(0,p+1):i=[i[0]];break}}}let m=n&&s?(v,b)=>{s(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:G_(n.matches),errorInfo:b})}:void 0;return i.reduceRight((v,b,y)=>{let j,C=!1,w=null,T=null;n&&(j=d&&b.route.id?d[b.route.id]:void 0,w=b.route.errorElement||lT,f&&(p<0&&y===0?(Dx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,T=null):p===y&&(C=!0,T=b.route.hydrateFallbackElement||null)));let z=e.concat(i.slice(0,y+1)),S=()=>{let R;return j?R=w:C?R=T:b.route.Component?R=D.createElement(b.route.Component,null):b.route.element?R=b.route.element:R=v,D.createElement(cT,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:R})};return n&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?D.createElement(zx,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:S(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):S()},null)}function Ef(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(r){let e=D.useContext(zr);return rt(e,Ef(r)),e}function fT(r){let e=D.useContext(Nl);return rt(e,Ef(r)),e}function hT(r){let e=D.useContext(Ta);return rt(e,Ef(r)),e}function kf(r){let e=hT(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function mT(){return kf("useRouteId")}function pT(){let r=D.useContext(_f),e=fT("useRouteError"),n=kf("useRouteError");return r!==void 0?r:e.errors?.[n]}function gT(){let{router:r}=dT("useNavigate"),e=kf("useNavigate"),n=D.useRef(!1);return Ax(()=>{n.current=!0}),D.useCallback(async(l,i={})=>{Ft(n.current,Ox),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:e,...i}))},[r,e])}var Mx={};function Dx(r,e,n){!e&&!Mx[r]&&(Mx[r]=!0,Ft(!1,n))}D.memo(vT);function vT({routes:r,future:e,state:n,onError:s}){return Rx(r,void 0,n,s,e)}function bT({to:r,replace:e,state:n,relative:s}){rt(Mr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=D.useContext(ea);Ft(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=D.useContext(Ta),{pathname:d}=Ba(),f=ft(),p=Sf(r,wf(i),d,s==="path"),m=JSON.stringify(p);return D.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:s})},[f,m,s,e,n]),null}function Jo(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:i=!1,unstable_useTransitions:d}){rt(!Mr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:f,navigator:l,static:i,unstable_useTransitions:d,future:{}}),[f,l,i,d]);typeof n=="string"&&(n=er(n));let{pathname:m="/",search:v="",hash:b="",state:y=null,key:j="default"}=n,C=D.useMemo(()=>{let w=Va(m,f);return w==null?null:{location:{pathname:w,search:v,hash:b,state:y,key:j},navigationType:s}},[f,m,v,b,y,j,s]);return Ft(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:D.createElement(ea.Provider,{value:p},D.createElement(Vo.Provider,{children:e,value:C}))}function yT({children:r,location:e}){return oT(Of(r),e)}function Of(r,e=[]){let n=[];return D.Children.forEach(r,(s,l)=>{if(!D.isValidElement(s))return;let i=[...e,l];if(s.type===D.Fragment){n.push.apply(n,Of(s.props.children,i));return}rt(s.type===Jo,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Of(s.props.children,i)),n.push(d)}),n}var Cl="get",wl="application/x-www-form-urlencoded";function Sl(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function jT(r){return Sl(r)&&r.tagName.toLowerCase()==="button"}function NT(r){return Sl(r)&&r.tagName.toLowerCase()==="form"}function CT(r){return Sl(r)&&r.tagName.toLowerCase()==="input"}function wT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function ST(r,e){return r.button===0&&(!e||e==="_self")&&!wT(r)}function Af(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(l=>[n,l]):[[n,s]])},[]))}function _T(r,e){let n=Af(r);return e&&e.forEach((s,l)=>{n.has(l)||e.getAll(l).forEach(i=>{n.append(l,i)})}),n}var _l=null;function TT(){if(_l===null)try{new FormData(document.createElement("form"),0),_l=!1}catch{_l=!0}return _l}var ET=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(r){return r!=null&&!ET.has(r)?(Ft(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wl}"`),null):r}function kT(r,e){let n,s,l,i,d;if(NT(r)){let f=r.getAttribute("action");s=f?Va(f,e):null,n=r.getAttribute("method")||Cl,l=Rf(r.getAttribute("enctype"))||wl,i=new FormData(r)}else if(jT(r)||CT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?Va(p,e):null,n=r.getAttribute("formmethod")||f.getAttribute("method")||Cl,l=Rf(r.getAttribute("formenctype"))||Rf(f.getAttribute("enctype"))||wl,i=new FormData(f,r),!TT()){let{name:m,type:v,value:b}=r;if(v==="image"){let y=m?`${m}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else m&&i.append(m,b)}}else{if(Sl(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cl,s=null,l=wl,d=r}return i&&l==="text/plain"&&(d=i,i=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:i,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function OT(r,e,n,s){let l=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${s}`:l.pathname=`${l.pathname}.${s}`:l.pathname==="/"?l.pathname=`_root.${s}`:e&&Va(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${s}`,l}async function AT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function zT(r,e,n){let s=await Promise.all(r.map(async l=>{let i=e.routes[l.route.id];if(i){let d=await AT(i,n);return d.links?d.links():[]}return[]}));return UT(s.flat(1).filter(RT).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Lx(r,e,n,s,l,i){let d=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return i==="assets"?e.filter((p,m)=>d(p,m)||f(p,m)):i==="data"?e.filter((p,m)=>{let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function MT(r,e,{includeHydrateFallback:n}={}){return DT(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let i=[l.module];return l.clientActionModule&&(i=i.concat(l.clientActionModule)),l.clientLoaderModule&&(i=i.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(i=i.concat(l.hydrateFallbackModule)),l.imports&&(i=i.concat(l.imports)),i}).flat(1))}function DT(r){return[...new Set(r)]}function LT(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function UT(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let i=JSON.stringify(LT(l));return n.has(i)||(n.add(i),s.push({key:i,link:l})),s},[])}function Ux(){let r=D.useContext(zr);return zf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function IT(){let r=D.useContext(Nl);return zf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mf=D.createContext(void 0);Mf.displayName="FrameworkContext";function Ix(){let r=D.useContext(Mf);return zf(r,"You must render this element inside a <HydratedRouter> element"),r}function qT(r,e){let n=D.useContext(Mf),[s,l]=D.useState(!1),[i,d]=D.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,y=D.useRef(null);D.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let w=z=>{z.forEach(S=>{d(S.isIntersecting)})},T=new IntersectionObserver(w,{threshold:.5});return y.current&&T.observe(y.current),()=>{T.disconnect()}}},[r]),D.useEffect(()=>{if(s){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[s]);let j=()=>{l(!0)},C=()=>{l(!1),d(!1)};return n?r!=="intent"?[i,y,{}]:[i,y,{onFocus:Wo(f,j),onBlur:Wo(p,C),onMouseEnter:Wo(m,j),onMouseLeave:Wo(v,C),onTouchStart:Wo(b,j)}]:[!1,y,{}]}function Wo(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function BT({page:r,...e}){let{router:n}=Ux(),s=D.useMemo(()=>xx(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?D.createElement(HT,{page:r,matches:s,...e}):null}function PT(r){let{manifest:e,routeModules:n}=Ix(),[s,l]=D.useState([]);return D.useEffect(()=>{let i=!1;return zT(r,e,n).then(d=>{i||l(d)}),()=>{i=!0}},[r,e,n]),s}function HT({page:r,matches:e,...n}){let s=Ba(),{future:l,manifest:i,routeModules:d}=Ix(),{basename:f}=Ux(),{loaderData:p,matches:m}=IT(),v=D.useMemo(()=>Lx(r,e,m,i,s,"data"),[r,e,m,i,s]),b=D.useMemo(()=>Lx(r,e,m,i,s,"assets"),[r,e,m,i,s]),y=D.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let w=new Set,T=!1;if(e.forEach(S=>{let R=i.routes[S.route.id];!R||!R.hasLoader||(!v.some(I=>I.route.id===S.route.id)&&S.route.id in p&&d[S.route.id]?.shouldRevalidate||R.hasClientLoader?T=!0:w.add(S.route.id))}),w.size===0)return[];let z=OT(r,f,l.unstable_trailingSlashAwareDataRequests,"data");return T&&w.size>0&&z.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[z.pathname+z.search]},[f,l.unstable_trailingSlashAwareDataRequests,p,s,i,v,e,r,d]),j=D.useMemo(()=>MT(b,i),[b,i]),C=PT(b);return D.createElement(D.Fragment,null,y.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),j.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),C.map(({key:w,link:T})=>D.createElement("link",{key:w,nonce:n.nonce,...T})))}function $T(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.12.0")}catch{}function FT({basename:r,children:e,unstable_useTransitions:n,window:s}){let l=D.useRef();l.current==null&&(l.current=N_({window:s,v5Compat:!0}));let i=l.current,[d,f]=D.useState({action:i.action,location:i.location}),p=D.useCallback(m=>{n===!1?f(m):D.startTransition(()=>f(m))},[n]);return D.useLayoutEffect(()=>i.listen(p),[i,p]),D.createElement(xT,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:i,unstable_useTransitions:n})}var qx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bx=D.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:i,replace:d,state:f,target:p,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...j},C){let{basename:w,unstable_useTransitions:T}=D.useContext(ea),z=typeof m=="string"&&qx.test(m),S=_x(m,w);m=S.to;let R=aT(m,{relative:l}),[I,F,E]=qT(s,j),L=KT(m,{replace:d,state:f,target:p,preventScrollReset:v,relative:l,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:T});function P(Q){e&&e(Q),Q.defaultPrevented||L(Q)}let Y=D.createElement("a",{...j,...E,href:S.absoluteURL||R,onClick:S.isExternal||i?e:P,ref:$T(C,F),target:p,"data-discover":!z&&n==="render"?"true":void 0});return I&&!z?D.createElement(D.Fragment,null,Y,D.createElement(BT,{page:R})):Y});Bx.displayName="Link";var XT=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:i,to:d,viewTransition:f,children:p,...m},v){let b=Ko(d,{relative:m.relative}),y=Ba(),j=D.useContext(Nl),{navigator:C,basename:w}=D.useContext(ea),T=j!=null&&tE(b)&&f===!0,z=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,S=y.pathname,R=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(S=S.toLowerCase(),R=R?R.toLowerCase():null,z=z.toLowerCase()),R&&w&&(R=Va(R,w)||R);const I=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let F=S===z||!l&&S.startsWith(z)&&S.charAt(I)==="/",E=R!=null&&(R===z||!l&&R.startsWith(z)&&R.charAt(z.length)==="/"),L={isActive:F,isPending:E,isTransitioning:T},P=F?e:void 0,Y;typeof s=="function"?Y=s(L):Y=[s,F?"active":null,E?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Q=typeof i=="function"?i(L):i;return D.createElement(Bx,{...m,"aria-current":P,className:Y,ref:v,style:Q,to:d,viewTransition:f},typeof p=="function"?p(L):p)});XT.displayName="NavLink";var GT=D.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:i,method:d=Cl,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...j},C)=>{let{unstable_useTransitions:w}=D.useContext(ea),T=ZT(),z=eE(f,{relative:m}),S=d.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&qx.test(f),I=F=>{if(p&&p(F),F.defaultPrevented)return;F.preventDefault();let E=F.nativeEvent.submitter,L=E?.getAttribute("formmethod")||d,P=()=>T(E||F.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:l,state:i,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y});w&&n!==!1?D.startTransition(()=>P()):P()};return D.createElement("form",{ref:C,method:S,action:z,onSubmit:s?p:I,...j,"data-discover":!R&&r==="render"?"true":void 0})});GT.displayName="Form";function VT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Px(r){let e=D.useContext(zr);return rt(e,VT(r)),e}function KT(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=ft(),v=Ba(),b=Ko(r,{relative:i});return D.useCallback(y=>{if(ST(y,e)){y.preventDefault();let j=n!==void 0?n:Go(v)===Go(b),C=()=>m(r,{replace:j,state:s,preventScrollReset:l,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f});p?D.startTransition(()=>C()):C()}},[v,m,b,n,s,e,r,l,i,d,f,p])}function JT(r){Ft(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(Af(r)),n=D.useRef(!1),s=Ba(),l=D.useMemo(()=>_T(s.search,n.current?null:e.current),[s.search]),i=ft(),d=D.useCallback((f,p)=>{const m=Af(typeof f=="function"?f(new URLSearchParams(l)):f);n.current=!0,i("?"+m,p)},[i,l]);return[l,d]}var WT=0,QT=()=>`__${String(++WT)}__`;function ZT(){let{router:r}=Px("useSubmit"),{basename:e}=D.useContext(ea),n=mT(),s=r.fetch,l=r.navigate;return D.useCallback(async(i,d={})=>{let{action:f,method:p,encType:m,formData:v,body:b}=kT(i,e);if(d.navigate===!1){let y=d.fetcherKey||QT();await s(y,n,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||p,formEncType:d.encType||m,flushSync:d.flushSync})}else await l(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||p,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,l,e,n])}function eE(r,{relative:e}={}){let{basename:n}=D.useContext(ea),s=D.useContext(Ta);rt(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),i={...Ko(r||".",{relative:e})},d=Ba();if(r==null){i.search=d.search;let f=new URLSearchParams(i.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();i.search=v?`?${v}`:""}}return(!r||r===".")&&l.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ka([n,i.pathname])),Go(i)}function tE(r,{relative:e}={}){let n=D.useContext(Ex);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Px("useViewTransitionState"),l=Ko(r,{relative:e});if(!n.isTransitioning)return!1;let i=Va(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=Va(n.nextLocation.pathname,s)||n.nextLocation.pathname;return jl(l.pathname,d)!=null||jl(l.pathname,i)!=null}const Be=({tabs:r=[]})=>{const[e,n]=D.useState(0);return a.jsxs("div",{children:[a.jsx("ul",{className:"nav nav-tabs nav-fill mb-2",style:{fontSize:"0.7rem"},children:r.map((s,l)=>{const i=e===l;return a.jsx("li",{className:"nav-item",children:a.jsx("button",{className:`nav-link w-100 py-1 px-1 ${i?"active fw-bold":"text-secondary"}`,onClick:d=>{d.preventDefault(),n(l)},style:{cursor:"pointer",borderRadius:"4px 4px 0 0"},children:s.label})},l)})}),a.jsx("div",{className:"tab-content",children:r[e]&&r[e].content})]})};var Df=function(r,e){return Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])},Df(r,e)};function Hx(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Df(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Tl=function(){return Tl=Object.assign||function(e){for(var n,s=1,l=arguments.length;s<l;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tl.apply(this,arguments)};function Dr(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)e.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function $x(r,e,n,s){var l=arguments.length,i=l<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,s);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(i=(l<3?d(i):l>3?d(e,n,i):d(e,n))||i);return l>3&&i&&Object.defineProperty(e,n,i),i}function Yx(r,e){return function(n,s){e(n,s,r)}}function Fx(r,e,n,s,l,i){function d(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var f=s.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&r?s.static?r:r.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,s.name):{}),b,y=!1,j=n.length-1;j>=0;j--){var C={};for(var w in s)C[w]=w==="access"?{}:s[w];for(var w in s.access)C.access[w]=s.access[w];C.addInitializer=function(z){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(d(z||null))};var T=(0,n[j])(f==="accessor"?{get:v.get,set:v.set}:v[p],C);if(f==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(b=d(T.get))&&(v.get=b),(b=d(T.set))&&(v.set=b),(b=d(T.init))&&l.unshift(b)}else(b=d(T))&&(f==="field"?l.unshift(b):v[p]=b)}m&&Object.defineProperty(m,s.name,v),y=!0}function Xx(r,e,n){for(var s=arguments.length>2,l=0;l<e.length;l++)n=s?e[l].call(r,n):e[l].call(r);return s?n:void 0}function Gx(r){return typeof r=="symbol"?r:"".concat(r)}function Vx(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Kx(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Ce(r,e,n,s){function l(i){return i instanceof n?i:new n(function(d){d(i)})}return new(n||(n=Promise))(function(i,d){function f(v){try{m(s.next(v))}catch(b){d(b)}}function p(v){try{m(s.throw(v))}catch(b){d(b)}}function m(v){v.done?i(v.value):l(v.value).then(f,p)}m((s=s.apply(r,e||[])).next())})}function Jx(r,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,l,i,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(v){return p([m,v])}}function p(m){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(s=1,l&&(i=m[0]&2?l.return:m[0]?l.throw||((i=l.return)&&i.call(l),0):l.next)&&!(i=i.call(l,m[1])).done)return i;switch(l=0,i&&(m=[m[0]&2,i.value]),m[0]){case 0:case 1:i=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,l=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!i||m[1]>i[0]&&m[1]<i[3])){n.label=m[1];break}if(m[0]===6&&n.label<i[1]){n.label=i[1],i=m;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(m);break}i[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(r,n)}catch(v){m=[6,v],l=0}finally{s=i=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var El=Object.create?(function(r,e,n,s){s===void 0&&(s=n);var l=Object.getOwnPropertyDescriptor(e,n);(!l||("get"in l?!e.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,s,l)}):(function(r,e,n,s){s===void 0&&(s=n),r[s]=e[n]});function Wx(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&El(e,r,n)}function kl(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],s=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lf(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var s=n.call(r),l,i=[],d;try{for(;(e===void 0||e-- >0)&&!(l=s.next()).done;)i.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(n=s.return)&&n.call(s)}finally{if(d)throw d.error}}return i}function Qx(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Lf(arguments[e]));return r}function Zx(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var s=Array(r),l=0,e=0;e<n;e++)for(var i=arguments[e],d=0,f=i.length;d<f;d++,l++)s[l]=i[d];return s}function e0(r,e,n){if(n||arguments.length===2)for(var s=0,l=e.length,i;s<l;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return r.concat(i||Array.prototype.slice.call(e))}function Lr(r){return this instanceof Lr?(this.v=r,this):new Lr(r)}function t0(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(r,e||[]),l,i=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(j){return function(C){return Promise.resolve(C).then(j,b)}}function f(j,C){s[j]&&(l[j]=function(w){return new Promise(function(T,z){i.push([j,w,T,z])>1||p(j,w)})},C&&(l[j]=C(l[j])))}function p(j,C){try{m(s[j](C))}catch(w){y(i[0][3],w)}}function m(j){j.value instanceof Lr?Promise.resolve(j.value.v).then(v,b):y(i[0][2],j)}function v(j){p("next",j)}function b(j){p("throw",j)}function y(j,C){j(C),i.shift(),i.length&&p(i[0][0],i[0][1])}}function a0(r){var e,n;return e={},s("next"),s("throw",function(l){throw l}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(l,i){e[l]=r[l]?function(d){return(n=!n)?{value:Lr(r[l](d)),done:!1}:i?i(d):d}:i}}function n0(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof kl=="function"?kl(r):r[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(i){n[i]=r[i]&&function(d){return new Promise(function(f,p){d=r[i](d),l(f,p,d.done,d.value)})}}function l(i,d,f,p){Promise.resolve(p).then(function(m){i({value:m,done:f})},d)}}function r0(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var aE=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},Uf=function(r){return Uf=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},Uf(r)};function o0(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=Uf(r),s=0;s<n.length;s++)n[s]!=="default"&&El(e,r,n[s]);return aE(e,r),e}function s0(r){return r&&r.__esModule?r:{default:r}}function l0(r,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(r):s?s.value:e.get(r)}function i0(r,e,n,s,l){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!l:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?l.call(r,n):l?l.value=n:e.set(r,n),n}function c0(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function u0(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,l;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(l=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");l&&(s=function(){try{l.call(this)}catch(i){return Promise.reject(i)}}),r.stack.push({value:e,dispose:s,async:n})}else n&&r.stack.push({async:!0});return e}var nE=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=r,s.suppressed=e,s};function d0(r){function e(i){r.error=r.hasError?new nE(i,r.error,"An error was suppressed during disposal."):i,r.hasError=!0}var n,s=0;function l(){for(;n=r.stack.pop();)try{if(!n.async&&s===1)return s=0,r.stack.push(n),Promise.resolve().then(l);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(i).then(l,function(d){return e(d),l()})}else s|=1}catch(d){e(d)}if(s===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return l()}function f0(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,l,i,d){return s?e?".jsx":".js":l&&(!i||!d)?n:l+i+"."+d.toLowerCase()+"js"}):r}const rE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:u0,get __assign(){return Tl},__asyncDelegator:a0,__asyncGenerator:t0,__asyncValues:n0,__await:Lr,__awaiter:Ce,__classPrivateFieldGet:l0,__classPrivateFieldIn:c0,__classPrivateFieldSet:i0,__createBinding:El,__decorate:$x,__disposeResources:d0,__esDecorate:Fx,__exportStar:Wx,__extends:Hx,__generator:Jx,__importDefault:s0,__importStar:o0,__makeTemplateObject:r0,__metadata:Kx,__param:Yx,__propKey:Gx,__read:Lf,__rest:Dr,__rewriteRelativeImportExtension:f0,__runInitializers:Xx,__setFunctionName:Vx,__spread:Qx,__spreadArray:e0,__spreadArrays:Zx,__values:kl,default:{__extends:Hx,__assign:Tl,__rest:Dr,__decorate:$x,__param:Yx,__esDecorate:Fx,__runInitializers:Xx,__propKey:Gx,__setFunctionName:Vx,__metadata:Kx,__awaiter:Ce,__generator:Jx,__createBinding:El,__exportStar:Wx,__values:kl,__read:Lf,__spread:Qx,__spreadArrays:Zx,__spreadArray:e0,__await:Lr,__asyncGenerator:t0,__asyncDelegator:a0,__asyncValues:n0,__makeTemplateObject:r0,__importStar:o0,__importDefault:s0,__classPrivateFieldGet:l0,__classPrivateFieldSet:i0,__classPrivateFieldIn:c0,__addDisposableResource:u0,__disposeResources:d0,__rewriteRelativeImportExtension:f0}},Symbol.toStringTag,{value:"Module"})),oE=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class If extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class h0 extends If{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class m0 extends If{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class p0 extends If{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qf||(qf={}));class sE{constructor(e,{headers:n={},customFetch:s,region:l=qf.Any}={}){this.url=e,this.headers=n,this.region=l,this.fetch=oE(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ce(this,arguments,void 0,function*(n,s={}){var l;try{const{headers:i,method:d,body:f,signal:p}=s;let m={},{region:v}=s;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let y;f&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(m["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(m["Content-Type"]="application/json",y=JSON.stringify(f)):y=f;const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),i),body:y,signal:p}).catch(z=>{throw z.name==="AbortError"?z:new h0(z)}),C=j.headers.get("x-relay-error");if(C&&C==="true")throw new m0(j);if(!j.ok)throw new p0(j);let w=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),T;return w==="application/json"?T=yield j.json():w==="application/octet-stream"||w==="application/pdf"?T=yield j.blob():w==="text/event-stream"?T=j:w==="multipart/form-data"?T=yield j.formData():T=yield j.text(),{data:T,error:null,response:j}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new h0(i)}:{data:null,error:i,response:i instanceof p0||i instanceof m0?i.context:void 0}}})}}var qt={};const Ur=Dp(rE);var Ol={},Al={},Rl={},zl={},Ml={},lE=function(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")},Ir=lE();const iE=Ir.fetch,g0=Ir.fetch.bind(Ir),v0=Ir.Headers,cE=Ir.Request,uE=Ir.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:v0,Request:cE,Response:uE,default:g0,fetch:iE},Symbol.toStringTag,{value:"Module"})),dE=Dp(tr);var Dl={},b0;function x0(){if(b0)return Dl;b0=1,Object.defineProperty(Dl,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Dl.default=r,Dl}var y0;function j0(){if(y0)return Ml;y0=1,Object.defineProperty(Ml,"__esModule",{value:!0});const r=Ur,e=r.__importDefault(dE),n=r.__importDefault(x0());class s{constructor(i){var d,f;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(d=i.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=i.signal,this.isMaybeSingle=(f=i.isMaybeSingle)!==null&&f!==void 0?f:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,d){return this.headers=new Headers(this.headers),this.headers.set(i,d),this}then(i,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,b,y,j;let C=null,w=null,T=null,z=m.status,S=m.statusText;if(m.ok){if(this.method!=="HEAD"){const E=await m.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const I=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),F=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");I&&F&&F.length>1&&(T=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(C={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,T=null,z=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const I=await m.text();try{C=JSON.parse(I),Array.isArray(C)&&m.status===404&&(w=[],C=null,z=200,S="OK")}catch{m.status===404&&I===""?(z=204,S="No Content"):C={message:I}}if(C&&this.isMaybeSingle&&(!((j=C?.details)===null||j===void 0)&&j.includes("0 rows"))&&(C=null,z=200,S="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:w,count:T,status:z,statusText:S}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,b,y;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(b=m?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(y=m?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),p.then(i,d)}returns(){return this}overrideTypes(){return this}}return Ml.default=s,Ml}var N0;function C0(){if(N0)return zl;N0=1,Object.defineProperty(zl,"__esModule",{value:!0});const e=Ur.__importDefault(j0());class n extends e.default{select(l){let i=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:i=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${l}.${i?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:i,referencedTable:d=i}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,i,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this.url.searchParams.set(m,`${i-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:i=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var v;const b=[l?"analyze":null,i?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return zl.default=n,zl}var w0;function Bf(){if(w0)return Rl;w0=1,Object.defineProperty(Rl,"__esModule",{value:!0});const e=Ur.__importDefault(C0()),n=new RegExp("[,()]");class s extends e.default{eq(i,d){return this.url.searchParams.append(i,`eq.${d}`),this}neq(i,d){return this.url.searchParams.append(i,`neq.${d}`),this}gt(i,d){return this.url.searchParams.append(i,`gt.${d}`),this}gte(i,d){return this.url.searchParams.append(i,`gte.${d}`),this}lt(i,d){return this.url.searchParams.append(i,`lt.${d}`),this}lte(i,d){return this.url.searchParams.append(i,`lte.${d}`),this}like(i,d){return this.url.searchParams.append(i,`like.${d}`),this}likeAllOf(i,d){return this.url.searchParams.append(i,`like(all).{${d.join(",")}}`),this}likeAnyOf(i,d){return this.url.searchParams.append(i,`like(any).{${d.join(",")}}`),this}ilike(i,d){return this.url.searchParams.append(i,`ilike.${d}`),this}ilikeAllOf(i,d){return this.url.searchParams.append(i,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(i,d){return this.url.searchParams.append(i,`ilike(any).{${d.join(",")}}`),this}is(i,d){return this.url.searchParams.append(i,`is.${d}`),this}in(i,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(i,`in.(${f})`),this}contains(i,d){return typeof d=="string"?this.url.searchParams.append(i,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(i,`cs.{${d.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(d)}`),this}containedBy(i,d){return typeof d=="string"?this.url.searchParams.append(i,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(i,`cd.{${d.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(d)}`),this}rangeGt(i,d){return this.url.searchParams.append(i,`sr.${d}`),this}rangeGte(i,d){return this.url.searchParams.append(i,`nxl.${d}`),this}rangeLt(i,d){return this.url.searchParams.append(i,`sl.${d}`),this}rangeLte(i,d){return this.url.searchParams.append(i,`nxr.${d}`),this}rangeAdjacent(i,d){return this.url.searchParams.append(i,`adj.${d}`),this}overlaps(i,d){return typeof d=="string"?this.url.searchParams.append(i,`ov.${d}`):this.url.searchParams.append(i,`ov.{${d.join(",")}}`),this}textSearch(i,d,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(i,`${m}fts${v}.${d}`),this}match(i){return Object.entries(i).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(i,d,f){return this.url.searchParams.append(i,`not.${d}.${f}`),this}or(i,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${i})`),this}filter(i,d,f){return this.url.searchParams.append(i,`${d}.${f}`),this}}return Rl.default=s,Rl}var S0;function _0(){if(S0)return Al;S0=1,Object.defineProperty(Al,"__esModule",{value:!0});const e=Ur.__importDefault(Bf());class n{constructor(l,{headers:i={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(i),this.schema=d,this.fetch=f}select(l,i){const{head:d=!1,count:f}=i??{},p=d?"HEAD":"GET";let m=!1;const v=(l??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:i,defaultToNull:d=!0}={}){var f;const p="POST";if(i&&this.headers.append("Prefer",`count=${i}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:i,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const b=l.reduce((y,j)=>y.concat(Object.keys(j)),[]);if(b.length>0){const y=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:i}={}){var d;const f="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var i;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Al.default=n,Al}var T0;function fE(){if(T0)return Ol;T0=1,Object.defineProperty(Ol,"__esModule",{value:!0});const r=Ur,e=r.__importDefault(_0()),n=r.__importDefault(Bf());class s{constructor(i,{headers:d={},schema:f,fetch:p}={}){this.url=i,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(i){const d=new URL(`${this.url}/${i}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,d={},{head:f=!1,get:p=!1,count:m}={}){var v;let b;const y=new URL(`${this.url}/rpc/${i}`);let j;f||p?(b=f?"HEAD":"GET",Object.entries(d).filter(([w,T])=>T!==void 0).map(([w,T])=>[w,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([w,T])=>{y.searchParams.append(w,T)})):(b="POST",j=d);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new n.default({method:b,url:y,headers:C,schema:this.schemaName,body:j,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Ol.default=s,Ol}var E0;function hE(){if(E0)return qt;E0=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const r=Ur,e=r.__importDefault(fE());qt.PostgrestClient=e.default;const n=r.__importDefault(_0());qt.PostgrestQueryBuilder=n.default;const s=r.__importDefault(Bf());qt.PostgrestFilterBuilder=s.default;const l=r.__importDefault(C0());qt.PostgrestTransformBuilder=l.default;const i=r.__importDefault(j0());qt.PostgrestBuilder=i.default;const d=r.__importDefault(x0());return qt.PostgrestError=d.default,qt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:i.default,PostgrestError:d.default},qt}var k0=hE();const O0=_r(k0),mE=AC({__proto__:null,default:O0},[k0]),{PostgrestClient:pE,PostgrestQueryBuilder:Iz,PostgrestFilterBuilder:qz,PostgrestTransformBuilder:Bz,PostgrestBuilder:Pz,PostgrestError:Hz}=O0||mE;class gE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof window<"u"&&typeof window.WebSocket<"u")return{type:"native",constructor:window.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,l=parseInt(s.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vE="realtime-js/2.77.0",bE="1.0.0",Pf=1e4,xE=1e3,yE=100;var Qo;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Qo||(Qo={}));var jt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(jt||(jt={}));var Ea;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ea||(Ea={}));var Hf;(function(r){r.websocket="websocket"})(Hf||(Hf={}));var ar;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ar||(ar={}));class jE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const l=n.getUint8(1),i=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=s.decode(e.slice(d,d+l));d=d+l;const p=s.decode(e.slice(d,d+i));d=d+i;const m=JSON.parse(s.decode(e.slice(d,e.byteLength)));return{ref:null,topic:f,event:p,payload:m}}}class A0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ze||(Ze={}));const R0=(r,e,n={})=>{var s;const l=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,d)=>(i[d]=NE(d,r,e,l),i),{}):{}},NE=(r,e,n,s)=>{const l=e.find(f=>f.name===r),i=l?.type,d=n[r];return i&&!s.includes(i)?z0(i,d):$f(d)},z0=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return _E(e,n)}switch(r){case Ze.bool:return CE(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return wE(e);case Ze.json:case Ze.jsonb:return SE(e);case Ze.timestamp:return TE(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return $f(e);default:return $f(e)}},$f=r=>r,CE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},wE=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},SE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},_E=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,s=r[n];if(r[0]==="{"&&s==="}"){let i;const d=r.slice(1,n);try{i=JSON.parse("["+d+"]")}catch{i=d?d.split(","):[]}return i.map(f=>z0(e,f))}return r},TE=r=>typeof r=="string"?r.replace(" ","T"):r,M0=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yf{constructor(e,n,s={},l=Pf){this.channel=e,this.event=n,this.payload=s,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(D0||(D0={}));class Zo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},l=>{const{onJoin:i,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,l,i,d),this.pendingDiffs.forEach(p=>{this.state=Zo.syncDiff(this.state,p,i,d)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},l=>{const{onJoin:i,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Zo.syncDiff(this.state,l,i,d),f())}),this.onJoin((l,i,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:i,newPresences:d})}),this.onLeave((l,i,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:i,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,l){const i=this.cloneDeep(e),d=this.transformState(n),f={},p={};return this.map(i,(m,v)=>{d[m]||(p[m]=v)}),this.map(d,(m,v)=>{const b=i[m];if(b){const y=v.map(T=>T.presence_ref),j=b.map(T=>T.presence_ref),C=v.filter(T=>j.indexOf(T.presence_ref)<0),w=b.filter(T=>y.indexOf(T.presence_ref)<0);C.length>0&&(f[m]=C),w.length>0&&(p[m]=w)}else f[m]=v}),this.syncDiff(i,{joins:f,leaves:p},s,l)}static syncDiff(e,n,s,l){const{joins:i,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),l||(l=()=>{}),this.map(i,(f,p)=>{var m;const v=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(p),v.length>0){const b=e[f].map(j=>j.presence_ref),y=v.filter(j=>b.indexOf(j.presence_ref)<0);e[f].unshift(...y)}s(f,v,p)}),this.map(d,(f,p)=>{let m=e[f];if(!m)return;const v=p.map(b=>b.presence_ref);m=m.filter(b=>v.indexOf(b.presence_ref)<0),e[f]=m,l(f,m,p),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const l=e[s];return"metas"in l?n[s]=l.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=l,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var L0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(L0||(L0={}));var es;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(es||(es={}));var Ja;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class Ff{constructor(e,n={config:{}},s){var l,i;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yf(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new A0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Zo(this),this.broadcastEndpointURL=M0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,l,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,m=(l=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(j=>j.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[es.PRESENCE]&&this.bindings[es.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,b={},y={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(Ja.CHANNEL_ERROR,j)),this._onClose(()=>e?.(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var C;if(this.socket.setAuth(),j===void 0){e?.(Ja.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,T=(C=w?.length)!==null&&C!==void 0?C:0,z=[];for(let S=0;S<T;S++){const R=w[S],{filter:{event:I,schema:F,table:E,filter:L}}=R,P=j&&j[S];if(P&&P.event===I&&P.schema===F&&P.table===E&&P.filter===L)z.push(Object.assign(Object.assign({},R),{id:P.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(Ja.SUBSCRIBED);return}}).receive("error",j=>{this.state=jt.errored,e?.(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===jt.joined&&e===es.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var l;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=s.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var s,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var d,f,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(l=>{s=new Yf(this,Ea.leave,{},e),s.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const l=new AbortController,i=setTimeout(()=>l.abort(),s),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(i),d}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Yf(this,e,n,s);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var l,i;const d=e.toLocaleLowerCase(),{close:f,error:p,leave:m,join:v}=Ea;if(s&&[f,p,m,v].indexOf(d)>=0&&s!==this._joinRef())return;let y=this._onMessage(d,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(j=>{var C,w,T;return((C=j.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(w=j.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===d}).map(j=>j.callback(y,s)):(i=this.bindings[d])===null||i===void 0||i.filter(j=>{var C,w,T,z,S,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const I=j.id,F=(C=j.filter)===null||C===void 0?void 0:C.event;return I&&((w=n.ids)===null||w===void 0?void 0:w.includes(I))&&(F==="*"||F?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(S=(z=j?.filter)===null||z===void 0?void 0:z.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return I==="*"||I===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof y=="object"&&"ids"in y){const C=y.data,{schema:w,table:T,commit_timestamp:z,type:S,errors:R}=C;y=Object.assign(Object.assign({},{schema:w,table:T,commit_timestamp:z,eventType:S,new:{},old:{},errors:R}),this._getPayloadRecords(C))}j.callback(y,s)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const l=e.toLocaleLowerCase(),i={type:l,filter:n,callback:s};return this.bindings[l]?this.bindings[l].push(i):this.bindings[l]=[i],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(l=>{var i;return!(((i=l.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ff.isEqual(l.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ea.close,{},e)}_onError(e){this._on(Ea.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=R0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=R0(e.columns,e.old_record)),n}}const Xf=()=>{},Ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EE=[1e3,2e3,5e3,1e4],kE=1e4,OE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AE{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pf,this.transport=null,this.heartbeatIntervalMs=Ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xf,this.ref=0,this.reconnectTimer=null,this.logger=Xf,this.conn=null,this.sendBuffer=[],this.serializer=new jE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...d)=>Promise.resolve().then(()=>tr).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...d)=>i(...d)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Hf.websocket}`,this.httpEndpoint=M0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=gE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bE}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return ar.Connecting;case Qo.open:return ar.Open;case Qo.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,l=this.getChannels().find(i=>i.topic===s);if(l)return l;{const i=new Ff(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:s,payload:l,ref:i}=e,d=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${s} (${i})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:l,payload:i,ref:d}=n,f=d?`(${d})`:"",p=i.status||"";this.log("receive",`${p} ${s} ${l} ${f}`.trim(),i),this.channels.filter(m=>m._isMember(s)).forEach(m=>m._trigger(l,i,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ea.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${e}${s}${l}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([OE],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const l={access_token:n,version:vE};n&&s.updateJoinPayload(l),s.joinedOnce&&s._isJoined()&&s._push(Ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new A0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,l,i,d,f,p,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Pf,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:Ll.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Xf,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>EE[b-1]||kE),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,y)=>y(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Gf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class RE extends Gf{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vf extends Gf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Kf=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},zE=()=>Ce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>tr)).Response:Response}),Jf=r=>{if(Array.isArray(r))return r.map(n=>Jf(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,s])=>{const l=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[l]=Jf(s)}),e},ME=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Wf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),DE=(r,e,n)=>Ce(void 0,void 0,void 0,function*(){const s=yield zE();r instanceof s&&!n?.noResolveJson?r.json().then(l=>{const i=r.status||500,d=l?.statusCode||i+"";e(new RE(Wf(l),i,d))}).catch(l=>{e(new Vf(Wf(l),l))}):e(new Vf(Wf(r),r))}),LE=(r,e,n,s)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"||!s?l:(ME(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(s)):l.body=s,e?.duplex&&(l.duplex=e.duplex),Object.assign(Object.assign({},l),n))};function ts(r,e,n,s,l,i){return Ce(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,LE(e,s,l,i)).then(p=>{if(!p.ok)throw p;return s?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>DE(p,f,s))})})}function as(r,e,n,s){return Ce(this,void 0,void 0,function*(){return ts(r,"GET",e,n,s)})}function ka(r,e,n,s,l){return Ce(this,void 0,void 0,function*(){return ts(r,"POST",e,s,l,n)})}function Qf(r,e,n,s,l){return Ce(this,void 0,void 0,function*(){return ts(r,"PUT",e,s,l,n)})}function UE(r,e,n,s){return Ce(this,void 0,void 0,function*(){return ts(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Zf(r,e,n,s,l){return Ce(this,void 0,void 0,function*(){return ts(r,"DELETE",e,s,l,n)})}class IE{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var U0;class qE{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[U0]="BlobDownloadBuilder",this.promise=null}asStream(){return new IE(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}U0=Symbol.toStringTag;const BE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class PE{constructor(e,n={},s,l){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=Kf(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,l){return Ce(this,void 0,void 0,function*(){try{let i;const d=Object.assign(Object.assign({},I0),l);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",d.cacheControl),p&&i.append("metadata",this.encodeMetadata(p)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",d.cacheControl),p&&i.append("metadata",this.encodeMetadata(p))):(i=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),b=yield(e=="PUT"?Qf:ka)(this.fetch,`${this.url}/object/${v}`,i,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(st(i))return{data:null,error:i};throw i}})}upload(e,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,l){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),d=this._getFinalPath(i),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:I0.upsert},l),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",m.cacheControl)):(p=s,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const b=yield Qf(this.fetch,f.toString(),p,{headers:v});return{data:{path:i,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(st(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const l=Object.assign({},this.headers);n?.upsert&&(l["x-upsert"]="true");const i=yield ka(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:l}),d=new URL(this.url+i.url),f=d.searchParams.get("token");if(!f)throw new Gf("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}update(e,n,s){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}copy(e,n,s){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}createSignedUrl(e,n,s){return Ce(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),i=yield ka(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${d}`)},{data:i,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}createSignedUrls(e,n,s){return Ce(this,void 0,void 0,function*(){try{const l=yield ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${i}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}download(e,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),d=i?`?${i}`:"",f=this._getFinalPath(e),p=()=>as(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new qE(p,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield as(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}exists(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield UE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s)&&s instanceof Vf){const l=s.originalError;if([400,404].includes(l?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),l=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&l.push(i);const f=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&l.push(p);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${m}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(e,n,s){return Ce(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},BE),n),{prefix:e||""});return{data:yield ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},s),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}listV2(e,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const q0="2.77.0",B0={"X-Client-Info":`storage-js/${q0}`};class HE{constructor(e,n={},s,l){this.shouldThrowOnError=!1;const i=new URL(e);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),n),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield as(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield as(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(e){return Ce(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(st(l))return{data:null,error:l};throw l}})}updateBucket(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class $E{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},B0),n),this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),l=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield as(this.fetch,l,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}const eh={"X-Client-Info":`storage-js/${q0}`,"Content-Type":"application/json"};class P0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ta(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class th extends P0{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class YE extends P0{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var H0;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(H0||(H0={}));const ah=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},FE=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},$0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),XE=(r,e,n)=>Ce(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const l=r.status||500,i=r;if(typeof i.json=="function")i.json().then(d=>{const f=d?.statusCode||d?.code||l+"";e(new th($0(d),l,f))}).catch(()=>{const d=l+"",f=i.statusText||`HTTP ${l} error`;e(new th(f,l,d))});else{const d=l+"",f=i.statusText||`HTTP ${l} error`;e(new th(f,l,d))}}else e(new YE($0(r),r))}),GE=(r,e,n,s)=>{const l={method:r,headers:e?.headers||{}};return s?(FE(s)?(l.headers=Object.assign({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(s)):l.body=s,Object.assign(Object.assign({},l),n)):l};function VE(r,e,n,s,l,i){return Ce(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,GE(e,s,l,i)).then(p=>{if(!p.ok)throw p;if(s?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>XE(p,f,s))})})}function aa(r,e,n,s,l){return Ce(this,void 0,void 0,function*(){return VE(r,"POST",e,s,l,n)})}class KE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ta(s))return{data:null,error:s};throw s}})}listIndexes(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ta(s))return{data:null,error:s};throw s}})}}class JE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield aa(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield aa(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield aa(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class WE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listBuckets(){return Ce(this,arguments,void 0,function*(e={}){try{return{data:yield aa(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class QE extends WE{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new ZE(this.url,this.headers,e,this.fetch)}}class ZE extends KE{constructor(e,n,s,l){super(e,n,l),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ek(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ek extends JE{constructor(e,n,s,l,i){super(e,n,i),this.vectorBucketName=s,this.indexName=l}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tk extends HE{constructor(e,n={},s,l){super(e,n,s,l)}from(e){return new PE(this.url,this.headers,e,this.fetch)}get vectors(){return new QE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $E(this.url+"/iceberg",this.headers,this.fetch)}}const ak="2.77.0";let ns="";typeof Deno<"u"?ns="deno":typeof document<"u"?ns="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ns="react-native":ns="node";const nk={headers:{"X-Client-Info":`supabase-js-${ns}/${ak}`}},rk={schema:"public"},ok={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sk={},lk=r=>{let e;return r?e=r:typeof fetch>"u"?e=g0:e=fetch,(...n)=>e(...n)},ik=()=>typeof Headers>"u"?v0:Headers,ck=(r,e,n)=>{const s=lk(n),l=ik();return async(i,d)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:r;let m=new l(d?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),s(i,Object.assign(Object.assign({},d),{headers:m}))}};function uk(r){return r.endsWith("/")?r:r+"/"}function dk(r,e){var n,s;const{db:l,auth:i,realtime:d,global:f}=r,{db:p,auth:m,realtime:v,global:b}=e,y={db:Object.assign(Object.assign({},p),l),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(s=f?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}function fk(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uk(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Y0="2.77.0",qr=30*1e3,nh=3,rh=nh*qr,hk="http://localhost:9999",mk="supabase.auth.token",pk={"X-Client-Info":`gotrue-js/${Y0}`},oh="X-Supabase-Api-Version",F0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vk=600*1e3;class rs extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function _e(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class bk extends rs{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function xk(r){return _e(r)&&r.name==="AuthApiError"}class nr extends rs{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xn extends rs{constructor(e,n,s,l){super(e,s,l),this.name=n,this.status=s}}class yn extends xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yk(r){return _e(r)&&r.name==="AuthSessionMissingError"}class Br extends xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ul extends xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Il extends xn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jk(r){return _e(r)&&r.name==="AuthImplicitGrantRedirectError"}class X0 extends xn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sh extends xn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lh(r){return _e(r)&&r.name==="AuthRetryableFetchError"}class G0 extends xn{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class ih extends xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V0=` 	
\r=`.split(""),Nk=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<V0.length;e+=1)r[V0[e].charCodeAt(0)]=-2;for(let e=0;e<ql.length;e+=1)r[ql[e].charCodeAt(0)]=e;return r})();function K0(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ql[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(ql[s]),e.queuedBits-=6}}function J0(r,e,n){const s=Nk[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function W0(r){const e=[],n=d=>{e.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},i=d=>{Sk(d,s,n)};for(let d=0;d<r.length;d+=1)J0(r.charCodeAt(d),l,i);return e.join("")}function Ck(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function wk(r,e){for(let n=0;n<r.length;n+=1){let s=r.charCodeAt(n);if(s>55295&&s<=56319){const l=(s-55296)*1024&65535;s=(r.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}Ck(s,e)}}function Sk(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Pr(r){const e=[],n={queue:0,queuedBits:0},s=l=>{e.push(l)};for(let l=0;l<r.length;l+=1)J0(r.charCodeAt(l),n,s);return new Uint8Array(e)}function _k(r){const e=[];return wk(r,n=>e.push(n)),new Uint8Array(e)}function rr(r){const e=[],n={queue:0,queuedBits:0},s=l=>{e.push(l)};return r.forEach(l=>K0(l,n,s)),K0(null,n,s),e.join("")}function Tk(r){return Math.round(Date.now()/1e3)+r}function Ek(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},Q0=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function kk(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,i)=>{e[i]=l})}catch{}return n.searchParams.forEach((s,l)=>{e[l]=s}),e}const Z0=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},Ok=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Hr=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},sr=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jn=async(r,e)=>{await r.removeItem(e)};class Bl{constructor(){this.promise=new Bl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bl.promiseConstructor=Promise;function ch(r){const e=r.split(".");if(e.length!==3)throw new ih("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!gk.test(e[s]))throw new ih("JWT not in base64url format");return{header:JSON.parse(W0(e[0])),payload:JSON.parse(W0(e[1])),signature:Pr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ak(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Rk(r,e){return new Promise((s,l)=>{(async()=>{for(let i=0;i<1/0;i++)try{const d=await r(i);if(!e(i,null,d)){s(d);return}}catch(d){if(!e(i,d)){l(d);return}}})()})}function zk(r){return("0"+r.toString(16)).substr(-2)}function Mk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let l="";for(let i=0;i<56;i++)l+=n.charAt(Math.floor(Math.random()*s));return l}return crypto.getRandomValues(e),Array.from(e,zk).join("")}async function Dk(r){const n=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(s);return Array.from(l).map(i=>String.fromCharCode(i)).join("")}async function Lk(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await Dk(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(r,e,n=!1){const s=Mk();let l=s;n&&(l+="/PASSWORD_RECOVERY"),await Hr(r,`${e}-code-verifier`,l);const i=await Lk(s);return[i,s===i?"plain":"s256"]}const Uk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ik(r){const e=r.headers.get(oh);if(!e||!e.match(Uk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function qk(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Bk(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(r){if(!Pk.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uh(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ey(r){return JSON.parse(JSON.stringify(r))}const lr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Hk=[502,503,504];async function ty(r){var e;if(!Ok(r))throw new sh(lr(r),0);if(Hk.includes(r.status))throw new sh(lr(r),r.status);let n;try{n=await r.json()}catch(i){throw new nr(lr(i),i)}let s;const l=Ik(r);if(l&&l.getTime()>=F0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new G0(lr(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,d)=>i&&typeof d=="string",!0))throw new G0(lr(n),r.status,n.weak_password.reasons);throw new bk(lr(n),r.status||500,s)}const $k=(r,e,n,s)=>{const l={method:r,headers:e?.headers||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(s),Object.assign(Object.assign({},l),n))};async function Oe(r,e,n,s){var l;const i=Object.assign({},s?.headers);i[oh]||(i[oh]=F0["2024-01-01"].name),s?.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const d=(l=s?.query)!==null&&l!==void 0?l:{};s?.redirectTo&&(d.redirect_to=s.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await Yk(r,e,n+f,{headers:i,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(p):{data:Object.assign({},p),error:null}}async function Yk(r,e,n,s,l,i){const d=$k(e,s,l,i);let f;try{f=await r(n,Object.assign({},d))}catch(p){throw console.error(p),new sh(lr(p),0)}if(f.ok||await ty(f),s?.noResolveJson)return f;try{return await f.json()}catch(p){await ty(p)}}function Oa(r){var e;let n=null;Gk(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=Tk(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:s},error:null}}function ay(r){const e=Oa(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Nn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Fk(r){return{data:r,error:null}}function Xk(r){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:l,verification_type:i}=r,d=Dr(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:s,redirect_to:l,verification_type:i},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function ny(r){return r}function Gk(r){return r.access_token&&r.refresh_token&&r.expires_in}const dh=["global","local","others"];class Vk{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Z0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=dh[0]){if(dh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nn})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Dr(e,["options"]),l=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(l.new_email=s?.newEmail,delete l.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Xk,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,l,i,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&i!==void 0?i:""},xform:ny});if(v.error)throw v.error;const b=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=w}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Yr(e);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Yr(e);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Nn})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Yr(e);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nn})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Yr(e.userId);try{const{data:n,error:s}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:s}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Yr(e.userId),Yr(e.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,l,i,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&i!==void 0?i:""},xform:ny});if(v.error)throw v.error;const b=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);m[`${T}Page`]=w}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function ry(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Fr={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kk extends oy{}async function Jk(r,e,n){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async l=>{if(l){Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await n()}finally{Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(e===0)throw Fr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Kk(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Fr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Qk(r){return parseInt(r,16)}function Zk(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function eO(r){var e;const{chainId:n,domain:s,expirationTime:l,issuedAt:i=new Date,nonce:d,notBefore:f,requestId:p,resources:m,scheme:v,uri:b,version:y}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const j=sy(r.address),C=v?`${v}://${s}`:s,w=r.statement?`${r.statement}
`:"",T=`${C} wants you to sign in with your Ethereum account:
${j}

${w}`;let z=`URI: ${b}
Version: ${y}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${i.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),f&&(z+=`
Not Before: ${f.toISOString()}`),p&&(z+=`
Request ID: ${p}`),m){let S=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);S+=`
- ${R}`}z+=S}return`${T}
${z}`}class ht extends Error{constructor({message:e,code:n,cause:s,name:l}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=l??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Pl extends ht{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function tO({error:r,options:e}){var n,s,l;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((l=i.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new ht({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return i.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(ly(d)){if(i.rp.id!==d)return new ht({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function aO({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new ht({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(ly(s)){if(n.rpId!==s)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class nO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const rO=new nO;function oO(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:s}=r,l=Dr(r,["challenge","user","excludeCredentials"]),i=Pr(e).buffer,d=Object.assign(Object.assign({},n),{id:Pr(n.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:i,user:d});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let p=0;p<s.length;p++){const m=s[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Pr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function sO(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,s=Dr(r,["challenge","allowCredentials"]),l=Pr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:l});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];i.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Pr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return i}function lO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:rr(new Uint8Array(r.response.attestationObject)),clientDataJSON:rr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,s=r.getClientExtensionResults(),l=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:rr(new Uint8Array(l.authenticatorData)),clientDataJSON:rr(new Uint8Array(l.clientDataJSON)),signature:rr(new Uint8Array(l.signature)),userHandle:l.userHandle?rr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ly(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function iy(){var r,e;return!!(na()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cO(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",e)}:{data:null,error:new Pl("Empty credential response",e)}}catch(e){return{data:null,error:tO({error:e,options:r})}}}async function uO(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",e)}:{data:null,error:new Pl("Empty credential response",e)}}catch(e){return{data:null,error:aO({error:e,options:r})}}}const dO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},fO={userVerification:"preferred",hints:["security-key"]};function Hl(...r){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),s={};for(const l of r)if(l)for(const i in l){const d=l[i];if(d!==void 0)if(Array.isArray(d))s[i]=d;else if(n(d))s[i]=d;else if(e(d)){const f=s[i];e(f)?s[i]=Hl(f,d):s[i]=Hl(d)}else s[i]=d}return s}function hO(r,e){return Hl(dO,r,e||{})}function mO(r,e){return Hl(fO,r,e||{})}class pO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:l},i){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!d)return{data:null,error:f};const p=l??rO.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${s}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=hO(d.webauthn.credential_options.publicKey,i?.create),{data:v,error:b}=await cO({publicKey:m,signal:p});return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=mO(d.webauthn.credential_options.publicKey,i?.request),{data:v,error:b}=await uO(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l}},i){if(!n)return{data:null,error:new rs("rpId is required for WebAuthn authentication")};try{if(!iy())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:l},{request:i});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:s,credential_response:p.credential_response}})}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:l},i){if(!n)return{data:null,error:new rs("rpId is required for WebAuthn registration")};try{if(!iy())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:l},{create:i});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:s,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in register",d)}}}}Wk();const gO={url:hk,storageKey:mk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cy(r,e,n){return await n()}const Xr={};class os{get jwks(){var e,n;return(n=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},gO),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Vk({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Z0(l.fetch),this.lock=l.lock||cy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:na()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Jk:this.lock=cy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new pO(this)},this.persistSession?(l.storage?this.storage=l.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ry(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=ry(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Y0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=kk(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),na()&&this.detectSessionInUrl&&s!=="none"){const{data:l,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),jk(i)){const p=(e=i.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new nr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,l;try{const i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Oa}),{data:d,error:f}=i;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,s,l;try{let i;if("email"in e){const{email:v,password:b,options:y}=e;let j=null,C=null;this.flowType==="pkce"&&([j,C]=await $r(this.storage,this.storageKey)),i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:b,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:j,code_challenge_method:C},xform:Oa})}else if("phone"in e){const{phone:v,password:b,options:y}=e;i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(s=y?.data)!==null&&s!==void 0?s:{},channel:(l=y?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Oa})}else throw new Ul("You must provide either an email or phone number and a password");const{data:d,error:f}=i;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:d,options:f}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ay})}else if("phone"in e){const{phone:i,password:d,options:f}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ay})}else throw new Ul("You must provide either an email or phone number and a password");const{data:s,error:l}=n;return l?{data:{user:null,session:null},error:l}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Br}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:l})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,l,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,l,i,d,f,p,m,v,b,y;let j,C;if("message"in e)j=e.message,C=e.signature;else{const{chain:w,wallet:T,statement:z,options:S}=e;let R;if(na())if(typeof T=="object")R=T;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")R=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const I=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href),F=await R.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=sy(F[0]);let L=(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!L){const Y=await R.request({method:"eth_chainId"});L=Qk(Y)}const P={domain:I.host,address:E,statement:z,uri:I.href,version:"1",chainId:L,nonce:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=S?.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=eO(P),C=await R.request({method:"personal_sign",params:[Zk(j),E]})}try{const{data:w,error:T}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:C},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Oa});if(T)throw T;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Br}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:T})}catch(w){if(_e(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var n,s,l,i,d,f,p,m,v,b,y,j;let C,w;if("message"in e)C=e.message,w=e.signature;else{const{chain:T,wallet:z,statement:S,options:R}=e;let I;if(na())if(typeof z=="object")I=z;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))I=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=z}const F=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const E=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let L;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")L=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)L=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)C=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),w=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(l=(s=R?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((i=R?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const E=await I.signMessage(new TextEncoder().encode(C),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:T,error:z}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:rr(w)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Oa});if(z)throw z;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new Br}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:z})}catch(T){if(_e(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await sr(this.storage,`${this.storageKey}-code-verifier`),[s,l]=(n??"").split("/");try{const{data:i,error:d}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Oa});if(await jn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Br}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:l??null}),error:d})}catch(i){if(_e(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:s,token:l,access_token:i,nonce:d}=e,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:l,access_token:i,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Oa}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Br}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,l,i,d;try{if("email"in e){const{email:f,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await $r(this.storage,this.storageKey));const{error:b}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(s=p?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:p}=e,{data:m,error:v}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Ul("You must provide either an email or phone number.")}catch(f){if(_e(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,s;try{let l,i;"options"in e&&(l=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:f}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:l,xform:Oa});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var n,s,l;try{let i=null,d=null;return this.flowType==="pkce"&&([i,d]=await $r(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:d}),headers:this.headers,xform:Fk})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new yn;const{error:l}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:l,options:i}=e,{error:d}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:l,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:s,type:l,options:i}=e,{data:d,error:f}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:l,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Ul("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const d=await sr(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=uh()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,v)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,v))})}return{data:{session:e},error:null}}const{data:l,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nn}):await this._useSession(async n=>{var s,l,i;const{data:d,error:f}=n;if(f)throw f;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&i!==void 0?i:void 0,xform:Nn})})}catch(n){if(_e(n))return yk(n)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:l,error:i}=s;if(i)throw i;if(!l.session)throw new yn;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await $r(this.storage,this.storageKey));const{data:m,error:v}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:Nn});if(v)throw v;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(_e(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yn;const n=Date.now()/1e3;let s=n,l=!0,i=null;const{payload:d}=ch(e.access_token);if(d.exp&&(s=d.exp,l=s<=n),l){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};i=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;i={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:d,error:f}=n;if(f)throw f;e=(s=d.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new yn;const{data:l,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!na())throw new Il("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Il(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new X0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Il("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new X0("No code detected.");const{data:S,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:l,access_token:i,refresh_token:d,expires_in:f,expires_at:p,token_type:m}=e;if(!i||!f||!d||!m)throw new Il("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(f);let y=v+b;p&&(y=parseInt(p));const j=y-v;j*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const C=y-b;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,y,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,y,v);const{data:w,error:T}=await this._getUser(i);if(T)throw T;const z={provider_token:s,provider_refresh_token:l,access_token:i,expires_in:b,expires_at:y,refresh_token:d,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:e.type},error:null}}catch(s){if(_e(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:l,error:i}=n;if(i)return{error:i};const d=(s=l.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(xk(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ek(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,l;try{const{data:{session:i},error:d}=n;if(d)throw d;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let s=null,l=null;this.flowType==="pkce"&&([s,l]=await $r(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:l}=await this._useSession(async i=>{var d,f,p,m,v;const{data:b,error:y}=i;if(y)throw y;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(l)throw l;return na()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(_e(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:l,data:{session:i}}=n;if(l)throw l;const{options:d,provider:f,token:p,access_token:m,nonce:v}=e,b=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Oa}),{data:y,error:j}=b;return j?{data:{user:null,session:null},error:j}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Br}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:j})}catch(l){if(_e(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,l;const{data:i,error:d}=n;if(d)throw d;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Rk(async l=>(l>0&&await Ak(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oa})),(l,i)=>{const d=200*Math.pow(2,l);return i&&lh(i)&&Date.now()+d-s<qr})}catch(s){if(this._debug(n,"error",s),_e(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),na()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const l=await sr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Hr(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:uh()}else if(l&&!l.user&&!l.user){const d=await sr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await jn(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,l)):l.user=uh()}if(this._debug(s,"session from storage",l),!this._isValidSession(l)){this._debug(s,"session is not valid"),l!==null&&await this._removeSession();return}const i=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rh;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${rh}s`),i){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),lh(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(s,"error",l),console.error(l);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Bl;const{data:i,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!i.session)throw new yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const f={data:i.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(i){if(this._debug(l,"error",i),_e(i)){const d={data:null,error:i};return lh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,n,s=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){i.push(p)}});if(await Promise.all(d),i.length>0){for(let f=0;f<i.length;f+=1)console.error(i[f]);throw i[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const i=ey(l);await Hr(this.storage,this.storageKey,i)}else{const l=ey(n);await Hr(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&na()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((s.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${qr}ms, refresh threshold is ${nh} ticks`),l<=nh&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const l=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&l.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,d]=await $r(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(s?.queryParams){const i=new URLSearchParams(s.queryParams);l.push(i.toString())}return s?.skipBrowserRedirect&&l.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:l,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,l;const{data:i,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=i?.session)===null||s===void 0?void 0:s.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&p.type==="totp"&&(!((l=p?.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:i}=n;if(i)return{data:null,error:i};const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?lO(e.webauthn.credential_response):iO(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:l,error:i}=n;if(i)return{data:null,error:i};const d=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:oO(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:sO(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const l={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n?.factors)!==null&&e!==void 0?e:[])l.all.push(i),i.status==="verified"&&l[i.factor_type].push(i);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:l},error:i}=e;if(i)return{data:null,error:i};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ch(l.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((s=(n=l.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(f=>f.kid===e);if(s)return s;const l=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+vk>l)return s;const{data:i,error:d}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=l,s=i.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:j,error:C}=await this.getSession();if(C||!j.session)return{data:null,error:C};s=j.session.access_token}const{header:l,payload:i,signature:d,raw:{header:f,payload:p}}=ch(s);n?.allowExpired||qk(i.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:j}=await this.getUser(s);if(j)throw j;return{data:{claims:i,header:l,signature:d},error:null}}const v=Bk(l.alg),b=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,d,_k(`${f}.${p}`)))throw new ih("Invalid JWT signature");return{data:{claims:i,header:l,signature:d},error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}}}os.nextInstanceID=0;const vO=os;class bO extends vO{constructor(e){super(e)}}class xO{constructor(e,n,s){var l,i,d;this.supabaseUrl=e,this.supabaseKey=n;const f=fk(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:rk,realtime:sk,auth:Object.assign(Object.assign({},ok),{storageKey:p}),global:nk},v=dk(s??{},m);this.storageKey=(l=v.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(i=v.global.headers)!==null&&i!==void 0?i:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=ck(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new pE(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new tk(this.storageUrl.href,this.headers,this.fetch,s?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new sE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:i,storageKey:d,flowType:f,lock:p,debug:m},v,b){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bO({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),v),storageKey:d,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:l,userStorage:i,flowType:f,lock:p,debug:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new AE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yO=(r,e,n)=>new xO(r,e,n);function jO(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Aa=yO("https://fcdxcuacwcwqcpyubkie.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjZHhjdWFjd2N3cWNweXVia2llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NjAyMTMsImV4cCI6MjA3NjAzNjIxM30.Xq0CIH48dbRnaPE_HhH39w-DfSN6GfWUuHuA-2AW5YA"),NO=async(r,e,n)=>{try{const s=r.name.split(".").pop(),l=`${Math.random().toString(36).substring(2,15)}.${s}`,i=n?`${n}/${l}`:l,{data:d,error:f}=await Aa.storage.from(e).upload(i,r,{cacheControl:"3600",upsert:!1}),{data:p}=Aa.storage.from(e).getPublicUrl(i);return p.publicUrl}catch(s){return console.error("Error uploading image:",s),null}};function Bt(r="Assets"){const[e,n]=D.useState(!1),[s,l]=D.useState(null);return{upload:async d=>{if(!d)return null;try{return l(null),n(!0),await NO(d,r)}catch(f){return l(f?.message??String(f)),null}finally{n(!1)}},isUploading:e,error:s}}const fh=({background:r,backgroundImage:e="",backgroundSize:n="cover",padding:s=0,borderRadius:l=0,boxShadow:i="",translateX:d=0,translateY:f=0,zIndex:p=0,margin:m=5,opacity:v=1,layout:b="flex",direction:y="column",justify:j="flex-start",align:C="flex-start",wrap:w="nowrap",gap:T=8,gridColumns:z=2,gridJustifyItems:S="stretch",gridAlignItems:R="stretch",transparentBackground:I=!1,width:F,height:E,minWidth:L=100,minHeight:P=60,children:Y})=>{const{id:Q,connectors:{connect:X,drag:H},actions:{setProp:V},selected:le}=pe(q=>({selected:q.events.selected})),{actions:{add:K,selectNode:O,delete:J},query:{createNode:te,node:ne}}=De(),re=C==="center"?"center":C==="flex-end"?"right":"left",_=q=>{q.stopPropagation(),q.preventDefault();const oe=q.clientX,ie=q.clientY,he=Number(d)||0,ae=Number(f)||0,A=de=>{const me=de.clientX-oe,ge=de.clientY-ie;V(Ne=>{Ne.translateX=he+me,Ne.translateY=ae+ge})},$=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",$)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",$)},k={margin:typeof m=="number"?`${m}px`:m||0,backgroundColor:I?"transparent":`${r}`,backgroundImage:I||!e?"none":`url(${e})`,backgroundSize:n||"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",padding:`${Math.max(5,s)}px`,borderRadius:`${l}px`,boxShadow:i?`0 4px 8px ${i}`:"none",width:typeof F=="number"?`${F}px`:F||"100%",height:typeof E=="number"?`${E}px`:E||"auto",minWidth:Number(L)||0,minHeight:Number(P)||0,boxSizing:"border-box",gap:typeof T=="number"?`${T}px`:T,transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`,opacity:Math.max(0,Math.min(1,Number(v)||0)),position:"relative",zIndex:Number(p)||0,outline:le?"1px dashed #3b82f6":void 0},M=b==="grid"?{display:"grid",gridTemplateColumns:`repeat(${z||1}, minmax(0, 1fr))`,justifyItems:S,alignItems:R}:{display:"flex",flexDirection:y,alignItems:C,justifyContent:j,flexWrap:w,textAlign:re};return a.jsxs("div",{ref:q=>X(Q==="ROOT"?q:H(q)),style:{...k,...M,width:Q==="ROOT"?"1280px":k.width,minHeight:Q==="ROOT"?"720px":k.minHeight},children:[Y,le&&Q!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:_}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation();const oe=ne(Q).get(),{type:ie,props:he,parent:ae}={type:oe.data.type,props:oe.data.props,parent:oe.data.parent},$=ne(ae).get().data.nodes||[],de=Math.max(0,$.indexOf(Q)),me={...he,translateX:(Number(he.translateX)||0)+10,translateY:(Number(he.translateY)||0)+10},ge=te(xe.createElement(ie,me));K(ge,ae,de+1),O(ge.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation(),J(Q)}})]})]})},uy=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.background||"#ffffff",onChange:l=>r(i=>i.background=l.target.value),disabled:!!e.transparentBackground}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.background||"",onChange:l=>r(i=>i.background=l.target.value),placeholder:"#hex",disabled:!!e.transparentBackground})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Imagen de Fondo (URL)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:l=>r(i=>i.backgroundImage=l.target.value),placeholder:"https://...",disabled:!!e.transparentBackground})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),l.target.value=null)},disabled:s||!!e.transparentBackground}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.backgroundSize||"cover",onChange:l=>r(i=>i.backgroundSize=l.target.value),children:[a.jsx("option",{value:"cover",children:"Cubrir (cover)"}),a.jsx("option",{value:"contain",children:"Ajustar (contain)"}),a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"100% 100%",children:"Estirar"})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"container-bg-transparent",type:"checkbox",className:"form-check-input",checked:!!e.transparentBackground,onChange:l=>r(i=>i.transparentBackground=l.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"container-bg-transparent",children:"Fondo transparente"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Bordes redondeados"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:typeof e.borderRadius=="number"?e.borderRadius:0,onChange:l=>r(i=>i.borderRadius=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderRadius??0,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Sombra"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.boxShadow||"#000000",onChange:l=>r(i=>i.boxShadow=l.target.value),style:{width:40,height:40,padding:0,border:"none",background:"transparent"}})]})]})},{label:"Disposicin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Dimensiones"}),a.jsxs("div",{className:"row g-2",children:[a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("span",{className:"input-group-text",children:"Ancho"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"100% / 320",value:e.width??"",onChange:l=>{const i=l.target.value;r(d=>d.width=i===""?null:isNaN(Number(i))?i:Number(i))}})]})}),a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("span",{className:"input-group-text",children:"Alto"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"auto / 240",value:e.height??"",onChange:l=>{const i=l.target.value;r(d=>d.height=i===""?null:isNaN(Number(i))?i:Number(i))}})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de distribucin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.layout||"flex",onChange:l=>r(i=>i.layout=l.target.value),children:[a.jsx("option",{value:"flex",children:"Flexible (Flexbox)"}),a.jsx("option",{value:"grid",children:"Cuadrcula (Grid)"})]})]}),(e.layout||"flex")==="flex"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"column",onChange:l=>r(i=>i.direction=l.target.value),children:[a.jsx("option",{value:"row",children:"Fila (horizontal)"}),a.jsx("option",{value:"column",children:"Columna (vertical)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin vertical"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.align||"flex-start",onChange:l=>r(i=>i.align=l.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin horizontal"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.justify||"flex-start",onChange:l=>r(i=>i.justify=l.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"}),a.jsx("option",{value:"space-between",children:"Espacio entre (Between)"}),a.jsx("option",{value:"space-around",children:"Espacio alrededor (Around)"}),a.jsx("option",{value:"space-evenly",children:"Espacio uniforme (Evenly)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ajuste de lnea (Wrap)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.wrap||"nowrap",onChange:l=>r(i=>i.wrap=l.target.value),children:[a.jsx("option",{value:"nowrap",children:"No ajustar"}),a.jsx("option",{value:"wrap",children:"Ajustar"}),a.jsx("option",{value:"wrap-reverse",children:"Ajustar invertido"})]})]})]}),(e.layout||"flex")==="grid"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"range",className:"form-range",min:1,max:6,step:1,value:typeof e.gridColumns=="number"?e.gridColumns:2,onChange:l=>r(i=>i.gridColumns=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gridColumns??2," columnas"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin horizontal"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.gridJustifyItems||"stretch",onChange:l=>r(i=>i.gridJustifyItems=l.target.value),children:[a.jsx("option",{value:"start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin vertical (celdas)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.gridAlignItems||"stretch",onChange:l=>r(i=>i.gridAlignItems=l.target.value),children:[a.jsx("option",{value:"start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre elementos (Gap)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:48,step:1,value:typeof e.gap=="number"?e.gap:8,onChange:l=>r(i=>i.gap=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??8,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado interno (Padding)"}),a.jsx("input",{type:"range",className:"form-range",min:5,max:100,step:1,value:typeof e.padding=="number"?Math.max(5,e.padding):5,onChange:l=>r(i=>i.padding=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[Math.max(5,e.padding??5),"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado externo (Margin)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:1,value:typeof e.margin=="number"?e.margin:5,onChange:l=>r(i=>i.margin=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.margin??5,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nivel de profundidad (Z-index)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]})]})}]})},dy={background:"#adb5bd",backgroundImage:"",backgroundSize:"cover",padding:5,borderRadius:0,boxShadow:"",translateX:0,translateY:0,zIndex:0,margin:5,opacity:1,layout:"flex",direction:"column",justify:"flex-start",align:"flex-start",wrap:"nowrap",gap:8,gridColumns:2,gridJustifyItems:"stretch",gridAlignItems:"stretch",transparentBackground:!1,width:null,height:null,minWidth:100,minHeight:60};fh.craft={displayName:"Contenedor",props:dy,related:{settings:uy}};const $l=({size:r="small",variant:e="contained",color:n="primary",buttonTextColor:s="",buttonBgColor:l="",buttonBorderColor:i="",actionType:d="route",to:f="",sectionName:p="",externalUrl:m="",externalNewTab:v=!0,translateX:b=0,translateY:y=0,zIndex:j=0,text:C="Haz clic aqu",opacity:w=1,className:T="",children:z})=>{const{id:S,connectors:{connect:R,drag:I},actions:{setProp:F},selected:E}=pe(M=>({selected:M.events.selected})),{actions:{add:L,selectNode:P,delete:Y},query:{createNode:Q,node:X}}=De(),H=ft(),V=M=>{M.stopPropagation(),M.preventDefault();const q=M.clientX,oe=M.clientY,ie=Number(b)||0,he=Number(y)||0,ae=$=>{const de=$.clientX-q,me=$.clientY-oe;F(ge=>{ge.translateX=ie+de,ge.translateY=he+me})},A=()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",A)},le=M=>{if(M.preventDefault(),d==="section"){const oe=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,ie=new URLSearchParams;oe&&ie.set("site",oe),p&&ie.set("section",p);const he=p?`/editor?${ie.toString()}`:"";if(!he)return;if(he.startsWith("#")){const ae=document.querySelector(he);ae&&ae.scrollIntoView({behavior:"smooth",block:"start"});return}H(he);return}if(d==="external"){const oe=(m||"").trim();if(!oe)return;typeof window<"u"&&window.open(oe,v?"_blank":"_self");return}const q=(f||"").trim();if(q){if(q.startsWith("#")){const oe=document.querySelector(q);oe&&oe.scrollIntoView({behavior:"smooth",block:"start"});return}H(q)}},K=(n||"primary").toLowerCase(),O=e==="outlined",J=e==="text",te=!!(s||l||i),_=[te?"btn":J?"btn btn-link":`btn ${O?"btn-outline-":"btn-"}${K}`,r==="large"?"btn-lg":r==="small"?"btn-sm":"",T].filter(Boolean).join(" "),k={transform:`translate(${Number(b)||0}px, ${Number(y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(w)||0)),position:"relative",zIndex:Number(j)||0};return te&&(J?(k.backgroundColor="transparent",s&&(k.color=s),k.border="none"):O?(k.backgroundColor="transparent",s&&(k.color=s),k.borderStyle="solid",k.borderWidth=1,i?k.borderColor=i:s&&(k.borderColor=s)):(l&&(k.backgroundColor=l),s&&(k.color=s),k.borderStyle="solid",k.borderWidth=1,i?k.borderColor=i:l&&(k.borderColor=l))),a.jsxs("button",{ref:M=>R(I(M)),type:"button",className:`${_} justify-content-center`,style:k,onClick:le,children:[C,E&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:V}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation();const q=X(S).get(),{type:oe,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=X(he).get().data.nodes||[],$=Math.max(0,A.indexOf(S)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=Q(xe.createElement(oe,de));L(me,he,$+1),P(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation(),Y(S)}})]})]})},CO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.text??"",onChange:n=>r(s=>s.text=n.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.size||"small",onChange:n=>r(s=>s.size=n.target.value),children:[a.jsx("option",{value:"small",children:"Pequeo"}),a.jsx("option",{value:"medium",children:"Mediano"}),a.jsx("option",{value:"large",children:"Grande"})]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Variante"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"contained",onChange:n=>r(s=>s.variant=n.target.value),children:[a.jsx("option",{value:"text",children:"Texto"}),a.jsx("option",{value:"outlined",children:"Con borde"}),a.jsx("option",{value:"contained",children:"Relleno"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color predefinido"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.color||"primary",onChange:n=>r(s=>s.color=n.target.value),children:[a.jsx("option",{value:"primary",children:"Principal"}),a.jsx("option",{value:"secondary",children:"Secundario"}),a.jsx("option",{value:"success",children:"xito"}),a.jsx("option",{value:"danger",children:"Peligro"}),a.jsx("option",{value:"warning",children:"Advertencia"}),a.jsx("option",{value:"info",children:"Informacin"}),a.jsx("option",{value:"light",children:"Claro"}),a.jsx("option",{value:"dark",children:"Oscuro"})]})]}),a.jsx("hr",{className:"my-1"}),a.jsx("label",{className:"form-label text-muted small",children:"Colores personalizados"}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:n=>r(s=>s.buttonTextColor=n.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBgColor||"#0d6efd",onChange:n=>r(s=>s.buttonBgColor=n.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBorderColor||"#0d6efd",onChange:n=>r(s=>s.buttonBorderColor=n.target.value)})]})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"route",onChange:n=>r(s=>s.actionType=n.target.value),children:[a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Ir a seccin"}),a.jsx("option",{value:"external",children:"Enlace externo"})]})]}),(e.actionType||"route")==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta (Ej: /contacto)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to??"",onChange:n=>r(s=>s.to=n.target.value),placeholder:"/mi-pagina"})]}),(e.actionType||"route")==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(s=>s.sectionName=n.target.value),placeholder:"Landing, Home..."})]}),(e.actionType||"route")==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl??"",onChange:n=>r(s=>s.externalUrl=n.target.value),placeholder:"https://google.com"})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"btn-ext-newtab",className:"form-check-input",type:"checkbox",checked:!!e.externalNewTab,onChange:n=>r(s=>s.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"btn-ext-newtab",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.1,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))})]})]})}]})};$l.craft={displayName:"Botn",props:{size:"small",variant:"contained",color:"primary",buttonTextColor:"",buttonBgColor:"",buttonBorderColor:"",actionType:"route",text:"Haz clic aqu",to:"",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1,className:""},related:{settings:CO}};const Ht=({text:r,fontSize:e,fontClass:n,maxWidth:s,translateX:l=0,translateY:i=0,zIndex:d=0,opacity:f=1,textColor:p="#000000",textShadowX:m=0,textShadowY:v=0,textShadowBlur:b=0,textShadowColor:y="#000000",textAlign:j="left",lineHeight:C=1.5,padding:w,paddingVertical:T=w||0,paddingHorizontal:z=w||0,borderWidth:S=0,borderColor:R="#000000",borderRadius:I=0})=>{const{id:F,connectors:{connect:E,drag:L},hasSelectedNode:P,hasDraggedNode:Y,actions:{setProp:Q}}=pe(ne=>({hasSelectedNode:ne.events.selected,hasDraggedNode:ne.events.dragged})),{actions:{add:X,selectNode:H,delete:V},query:{createNode:le,node:K}}=De(),O=ne=>{ne.stopPropagation(),ne.preventDefault();const re=ne.clientX,_=ne.clientY,k=Number(l)||0,M=Number(i)||0,q=ie=>{const he=ie.clientX-re,ae=ie.clientY-_;Q(A=>{A.translateX=k+he,A.translateY=M+ae})},oe=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",oe)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",oe)},[J,te]=D.useState(!1);return D.useEffect(()=>{!P&&te(!1)},[P]),a.jsxs("div",{ref:ne=>E(L(ne)),onClick:()=>te(!0),style:{display:"inline-block",maxWidth:s?`${s}px`:"100%",transform:`translate(${Number(l)||0}px, ${Number(i)||0}px)`,opacity:Math.max(0,Math.min(1,Number(f)||0)),position:"relative",zIndex:Number(d)||0,padding:`${Number(T)||0}px ${Number(z)||0}px`,border:`${Number(S)||0}px solid ${R||"#000000"}`,borderRadius:`${Number(I)||0}px`},children:[a.jsx("p",{className:n||void 0,style:{fontSize:e,color:p||"#000000",textAlign:j||"left",lineHeight:typeof C=="number"&&Number.isFinite(C)?C:parseFloat(C)||1.5,textShadow:`${Number(m)||0}px ${Number(v)||0}px ${Number(b)||0}px ${y||"#000000"}`,whiteSpace:"pre-wrap",overflowWrap:"anywhere",wordBreak:"break-word"},children:r}),P&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:O}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation();const re=K(F).get(),{type:_,props:k,parent:M}={type:re.data.type,props:re.data.props,parent:re.data.parent},oe=K(M).get().data.nodes||[],ie=Math.max(0,oe.indexOf(F)),he={...k,translateX:(Number(k.translateX)||0)+10,translateY:(Number(k.translateY)||0)+10},ae=le(xe.createElement(_,he));X(ae,M,ie+1),H(ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),V(F)}})]})]})},wO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Texto",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.text??"",onChange:n=>r(s=>s.text=n.target.value),placeholder:"Escribe el contenido..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipografa"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.fontClass??"",onChange:n=>r(s=>s.fontClass=n.target.value),children:[a.jsx("option",{value:"",children:"Predeterminada del tema"}),a.jsx("option",{value:"font-amazonica",children:"Amazonica"}),a.jsx("option",{value:"font-jungle-camp",children:"Jungle Camp"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho mximo (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Ej: 300 (vaco = 100%)",value:e.maxWidth||"",onChange:n=>r(s=>s.maxWidth=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de fuente"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:200,step:1,value:typeof e.fontSize=="number"?e.fontSize:20,onChange:n=>r(s=>s.fontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.fontSize??20,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin de texto"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.textAlign||"left",onChange:n=>r(s=>s.textAlign=n.target.value),children:[a.jsx("option",{value:"left",children:"Izquierda"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"right",children:"Derecha"}),a.jsx("option",{value:"justify",children:"Justificado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Interlineado"}),a.jsx("input",{type:"range",className:"form-range",min:.8,max:3,step:.1,value:Number.isFinite(e.lineHeight)?e.lineHeight:1.5,onChange:n=>r(s=>s.lineHeight=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[(Number.isFinite(e.lineHeight)?e.lineHeight:1.5).toFixed(1),"x"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textColor||"#000000",onChange:n=>r(s=>s.textColor=n.target.value)})]})]})},{label:"Estilo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Horizontal"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:Number.isFinite(e.paddingHorizontal)?e.paddingHorizontal:e.padding||0,onChange:n=>r(s=>s.paddingHorizontal=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.paddingHorizontal??e.padding??0,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Vertical"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:Number.isFinite(e.paddingVertical)?e.paddingVertical:e.padding||0,onChange:n=>r(s=>s.paddingVertical=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.paddingVertical??e.padding??0,"px"]})]}),a.jsxs("div",{className:"border-top pt-3",children:[a.jsx("label",{className:"form-label fw-bold",children:"Borde"}),a.jsxs("div",{className:"row g-2 mb-2",children:[a.jsxs("div",{className:"col-12",children:[a.jsx("label",{className:"form-label small",children:"Grosor"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:20,value:Number.isFinite(e.borderWidth)?e.borderWidth:0,onChange:n=>r(s=>s.borderWidth=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderWidth??0,"px"]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label small",children:"Color"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(s=>s.borderColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label small",children:"Radio"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:0,value:Number.isFinite(e.borderRadius)?e.borderRadius:0,onChange:n=>r(s=>s.borderRadius=Number(n.target.value))})]})]})]})]})},{label:"Efectos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Sombra X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.textShadowX)?e.textShadowX:0,onChange:n=>r(s=>s.textShadowX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Sombra Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.textShadowY)?e.textShadowY:0,onChange:n=>r(s=>s.textShadowY=Number(n.target.value))})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Desenfoque"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:0,value:Number.isFinite(e.textShadowBlur)?e.textShadowBlur:0,onChange:n=>r(s=>s.textShadowBlur=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de la sombra"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textShadowColor||"#000000",onChange:n=>r(s=>s.textShadowColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Orden de capas (Z-index)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover horizontal"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value)),placeholder:"px"})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover vertical"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value)),placeholder:"px"})]})]})]})}]})};Ht.craft={displayName:"Texto",props:{text:"Texto de ejemplo",fontSize:20,fontClass:"",maxWidth:null,translateX:0,translateY:0,zIndex:0,opacity:1,textColor:"#000000",textShadowX:0,textShadowY:0,textShadowBlur:0,textShadowColor:"#000000",textAlign:"left",lineHeight:1.5,paddingVertical:0,paddingHorizontal:0,borderWidth:0,borderColor:"#000000",borderRadius:0},rules:{canDrag:r=>r.data.props.text!=="Drag"},related:{settings:wO}};const hh=({children:r})=>{const{connectors:{connect:e}}=pe();return a.jsx("div",{ref:e,className:"text-only",children:r})};hh.craft={rules:{canMoveIn:r=>r.every(e=>e.data.type===Ht)}};const mh=({children:r})=>{const{connectors:{connect:e}}=pe();return a.jsx("div",{ref:e,children:r})};mh.craft={rules:{canMoveIn:r=>r.every(e=>e.data.type===$l)}};const fy=({background:r,padding:e=20,width:n=360,height:s=220,minWidth:l=180,minHeight:i=120,x:d=0,y:f=0,zIndex:p=0})=>{const{id:m,connectors:{connect:v,drag:b},actions:{setProp:y},selected:j}=pe(I=>({selected:I.events.selected})),{actions:{add:C,selectNode:w,delete:T},query:{createNode:z,node:S}}=De(),R=I=>{I.stopPropagation(),I.preventDefault();const F=I.clientX,E=I.clientY,L=Number(d)||0,P=Number(f)||0,Y=X=>{const H=X.clientX-F,V=X.clientY-E;y(le=>{le.x=L+H,le.y=P+V})},Q=()=>{document.removeEventListener("mousemove",Y),document.removeEventListener("mouseup",Q)};document.addEventListener("mousemove",Y),document.addEventListener("mouseup",Q)};return a.jsxs("div",{ref:I=>I&&v(b(I)),style:{position:"absolute",left:typeof d=="number"?`${d}px`:d,top:typeof f=="number"?`${f}px`:f,zIndex:Number(p)||0,width:typeof n=="number"?`${n}px`:n,height:typeof s=="number"?`${s}px`:s,minWidth:l,minHeight:i,boxSizing:"border-box",outline:j?"1px dashed #3b82f6":void 0},children:[a.jsxs(fh,{background:r,padding:e,children:[a.jsxs(be,{id:"text",is:hh,canvas:!0,children:[a.jsx(Ht,{text:"Ttulo",fontSize:20}),a.jsx(Ht,{text:"Subttulo",fontSize:15})]}),a.jsx(be,{id:"buttons",is:mh,canvas:!0,children:a.jsx($l,{size:"small",text:"Saber ms",variant:"contained",color:"primary",children:"Haz clic aqu"})})]}),j&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:R}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:I=>{I.preventDefault(),I.stopPropagation();const F=S(m).get(),{type:E,props:L,parent:P}={type:F.data.type,props:F.data.props,parent:F.data.parent},Q=S(P).get().data.nodes||[],X=Math.max(0,Q.indexOf(m)),H={...L,x:(Number(L.x)||0)+10,y:(Number(L.y)||0)+10},V=z(xe.createElement(E,H));C(V,P,X+1),w(V.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:I=>{I.preventDefault(),I.stopPropagation(),T(m)}})]})]})};fy.craft={displayName:"Tarjeta",props:{...dy,width:360,height:220,minWidth:180,minHeight:120,x:0,y:0,zIndex:0},related:{settings:uy}};const ss=({src:r="https://placehold.co/1200x500",alt:e="Imagen",width:n=100,height:s=null,fit:l="cover",translateX:i=0,translateY:d=0,zIndex:f=0,opacity:p=1,actionType:m="none",to:v="",sectionName:b="",externalUrl:y="",externalNewTab:j=!1})=>{const{id:C,connectors:{connect:w,drag:T},actions:{setProp:z},selected:S}=pe(V=>({props:V.data.props,selected:V.events.selected})),{actions:{add:R,selectNode:I,delete:F},query:{createNode:E,node:L},enabled:P}=De(V=>({enabled:V.options.enabled})),Y=ft(),Q=V=>{V.stopPropagation(),V.preventDefault();const le=V.clientX,K=V.clientY,O=Number(i)||0,J=Number(d)||0,te=re=>{const _=re.clientX-le,k=re.clientY-K;z(M=>{M.translateX=O+_,M.translateY=J+k})},ne=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)},X=V=>{if(V.preventDefault(),P)return;if(m==="section"){const K=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,O=new URLSearchParams;K&&O.set("site",K),b&&O.set("section",b);const J=b?`/editor?${O.toString()}`:"";if(!J)return;Y(J);return}if(m==="external"){const K=(y||"").trim();if(!K)return;typeof window<"u"&&window.open(K,j?"_blank":"_self");return}const le=(v||"").trim();if(le){if(le.startsWith("#")){const K=document.querySelector(le);K&&K.scrollIntoView({behavior:"smooth",block:"start"});return}Y(le)}},H=m==="route"&&(v||"").trim()||m==="section"&&(b||"").trim()||m==="external"&&(y||"").trim();return a.jsxs("div",{ref:V=>w(T(V)),style:{transform:`translate(${Number(i)||0}px, ${Number(d)||0}px)`,opacity:Math.max(0,Math.min(1,Number(p)||0)),position:"relative",zIndex:Number(f)||0,cursor:H?"pointer":"default",width:`${n}%`,height:Number.isFinite(s)?`${s}px`:"auto"},onClick:X,children:[a.jsx("img",{src:r,alt:e,style:{display:"block",width:"100%",height:"100%",objectFit:l,borderRadius:4}}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:Q}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation();const le=L(C).get(),{type:K,props:O,parent:J}={type:le.data.type,props:le.data.props,parent:le.data.parent},ne=L(J).get().data.nodes||[],re=Math.max(0,ne.indexOf(C)),_={...O,translateX:(Number(O.translateX)||0)+10,translateY:(Number(O.translateY)||0)+10},k=E(xe.createElement(K,_));R(k,J,re+1),I(k.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation(),F(C)}})]})]})};function SO(){const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Imagen",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de la imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.src??"",onChange:l=>r(i=>i.src=l.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0],d=await n(i);d&&r(f=>f.src=d)},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto alternativo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.alt??"",onChange:l=>r(i=>i.alt=l.target.value),placeholder:"Descripcin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho (%)"}),a.jsx("input",{type:"range",className:"form-range",min:10,max:100,step:1,value:typeof e.width=="number"?e.width:100,onChange:l=>r(i=>i.width=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.width??100,"%"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alto (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:0,step:1,value:Number.isFinite(e.height)?e.height:"",onChange:l=>{const i=l.target.value;r(d=>d.height=i===""?null:Number(i))},placeholder:"vaco = auto"}),a.jsx("div",{className:"small text-muted",children:"Deja vaco para mantener altura automtica"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ajuste de imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.fit||"cover",onChange:l=>r(i=>i.fit=l.target.value),children:[a.jsx("option",{value:"contain",children:"Contener (Contain)"}),a.jsx("option",{value:"cover",children:"Cubrir (Cover)"}),a.jsx("option",{value:"fill",children:"Estirar (Fill)"}),a.jsx("option",{value:"none",children:"Original (None)"}),a.jsx("option",{value:"scale-down",children:"Reducir (Scale-down)"})]})]})]})},{label:"Interaccin",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin al hacer clic"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:l=>r(i=>i.actionType=l.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:l=>r(i=>i.sectionName=l.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:l=>r(i=>i.externalUrl=l.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:l=>r(i=>i.externalNewTab=l.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.to||"",onChange:l=>r(i=>i.to=l.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nivel de profundidad (Z-index)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover horizontal"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value)),placeholder:"px"})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover vertical"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value)),placeholder:"px"})]})]})]})}]})}ss.craft={displayName:"Imagen",props:{src:"https://placehold.co/1200x500",alt:"Imagen",width:100,height:null,fit:"cover",translateX:0,translateY:0,zIndex:0,opacity:1,actionType:"none",to:"",sectionName:"",externalUrl:"",externalNewTab:!1},related:{settings:SO}};const ra=({backgroundImage:r="https://placehold.co/1200x500",backgroundSize:e="cover",canvasScale:n=1,targetWidth:s,targetHeight:l,padding:i=40,minHeight:d=200,translateX:f=0,translateY:p=0,zIndex:m=0,margin:v=0,opacity:b=1,layout:y="flex",direction:j="column",justify:C="flex-start",align:w="flex-start",wrap:T="nowrap",gap:z=8,gridColumns:S=2,gridJustifyItems:R="stretch",gridAlignItems:I="stretch",transparentBackground:F=!1,backgroundColor:E,children:L})=>{const{id:P,connectors:{connect:Y,drag:Q},actions:{setProp:X},selected:H}=pe(M=>({selected:M.events.selected})),{enabled:V,actions:{add:le,selectNode:K,delete:O},query:{createNode:J,node:te}}=De(M=>({enabled:M.options.enabled})),ne=w==="center"?"center":w==="flex-end"?"right":"left",re=(()=>{const q=Number(l),oe=Number.isFinite(q)&&q>0?q:720,ie=Number(d)||0;return Math.max(oe,ie)})(),_={width:s?`${s}px`:"100%",minHeight:`${re}px`,position:"relative",padding:`${Math.max(5,i)}px`,backgroundColor:E||"transparent",backgroundImage:F||!r?"none":`url(${r})`,backgroundSize:e||"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",gap:typeof z=="number"?`${z}px`:z,transform:`translate(${Number(f)||0}px, ${Number(p)||0}px)`,transformOrigin:"top left",margin:typeof v=="number"?`${v}px`:v||0,opacity:Math.max(0,Math.min(1,Number(b)||0)),zIndex:Number(m)||0},k=y==="grid"?{display:"grid",gridTemplateColumns:`repeat(${S||1}, minmax(0, 1fr))`,justifyItems:R,alignItems:I}:{display:"flex",flexDirection:j,alignItems:w,justifyContent:C,flexWrap:T,textAlign:ne};return a.jsxs("div",{ref:M=>{M&&Y(P==="ROOT"?M:Q(M))},style:{..._,...k,width:P==="ROOT"?"1280px":_.width,minHeight:P==="ROOT"?"720px":_.minHeight},children:[H&&P!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},ref:M=>M&&Q(M)}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation();const q=te(P).get(),{type:oe,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=te(he).get().data.nodes||[],$=Math.max(0,A.indexOf(P)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=J(xe.createElement(oe,de));le(me,he,$+1),K(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation(),O(P)}})]}),V&&P!=="ROOT"&&a.jsxs("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:[a.jsx("div",{ref:M=>M&&Q(M),style:{position:"absolute",top:0,left:0,right:0,height:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde superior)"}),a.jsx("div",{ref:M=>M&&Q(M),style:{position:"absolute",bottom:0,left:0,right:0,height:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde inferior)"}),a.jsx("div",{ref:M=>M&&Q(M),style:{position:"absolute",top:0,bottom:0,left:0,width:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde izquierdo)"}),a.jsx("div",{ref:M=>M&&Q(M),style:{position:"absolute",top:0,bottom:0,right:0,width:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde derecho)"})]}),L,H&&null]})};function _O(){const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:l=>r(i=>i.backgroundColor=l.target.value),title:"Elige un color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor||"",onChange:l=>r(i=>i.backgroundColor=l.target.value),placeholder:"#ffffff"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL imagen fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:l=>r(i=>i.backgroundImage=l.target.value),placeholder:"https://...",disabled:!!e.transparentBackground})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),l.target.value=null)},disabled:s||!!e.transparentBackground}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"bgimg-transparent",type:"checkbox",className:"form-check-input",checked:!!e.transparentBackground,onChange:l=>r(i=>i.transparentBackground=l.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"bgimg-transparent",children:"Fondo transparente"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.backgroundSize||"cover",onChange:l=>r(i=>i.backgroundSize=l.target.value),children:[a.jsx("option",{value:"cover",children:"Cubrir (cover)"}),a.jsx("option",{value:"contain",children:"Ajustar (contain)"}),a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"100% 100%",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margin (px)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:1,value:typeof e.margin=="number"?e.margin:0,onChange:l=>r(i=>i.margin=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:5,max:100,step:1,value:e.padding!=null?Math.max(5,e.padding):40,onChange:l=>r(i=>i.padding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura (min px)"}),a.jsx("input",{type:"range",className:"form-range",min:50,max:500,step:10,value:e.minHeight??200,onChange:l=>r(i=>i.minHeight=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Distribucin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.layout||"flex",onChange:l=>r(i=>i.layout=l.target.value),children:[a.jsx("option",{value:"flex",children:"Flex"}),a.jsx("option",{value:"grid",children:"Grid"})]})]}),(e.layout||"flex")==="flex"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"column",onChange:l=>r(i=>i.direction=l.target.value),children:[a.jsx("option",{value:"column",children:"Columna"}),a.jsx("option",{value:"row",children:"Fila"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.align||"flex-start",onChange:l=>r(i=>i.align=l.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado (Gap)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:4,value:e.gap??8,onChange:l=>r(i=>i.gap=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??8,"px"]})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]})]})}]})}ra.craft={displayName:"Lienzo",props:{backgroundImage:"",backgroundSize:"cover",padding:40,minHeight:200,translateX:0,translateY:0,zIndex:0,margin:0,opacity:1,layout:"flex",direction:"column",justify:"flex-start",align:"flex-start",wrap:"nowrap",gap:8,gridColumns:2,gridJustifyItems:"stretch",gridAlignItems:"stretch",transparentBackground:!1},related:{settings:_O}};const Yl=({to:r,sectionName:e,direction:n="left",size:s=56,stroke:l=8,color:i="#E6E3A1",bg:d="transparent",rounded:f=!0,title:p,ariaLabel:m,className:v="",style:b={},translateX:y=0,translateY:j=0,zIndex:C=0,opacity:w=1})=>{const{id:T,connectors:{connect:z,drag:S},actions:{setProp:R},selected:I}=pe(K=>({selected:K.events.selected})),{actions:{add:F,selectNode:E,delete:L},query:{createNode:P,node:Y}}=De(),Q=ft(),X=K=>{K.preventDefault();let O=r;if(!O&&e){const J=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,te=new URLSearchParams;J&&te.set("site",J),te.set("section",e),O=`/editor?${te.toString()}`}if(O){if(typeof O=="string"&&O.startsWith("#")){const J=document.querySelector(O);J&&J.scrollIntoView({behavior:"smooth",block:"start"});return}Q(O)}},H=K=>{K.stopPropagation(),K.preventDefault();const O=K.clientX,J=K.clientY,te=Number(y)||0,ne=Number(j)||0,re=k=>{const M=k.clientX-O,q=k.clientY-J;R(oe=>{oe.translateX=te+M,oe.translateY=ne+q})},_=()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",re),document.addEventListener("mouseup",_)},V={left:0,right:180,up:-90,down:90}[n]??0,le={background:d,border:"none",width:s+16,height:s+16,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:f?"9999px":"8px",cursor:"pointer",transform:`translate(${Number(y)||0}px, ${Number(j)||0}px)`,opacity:Math.max(0,Math.min(1,Number(w)||0)),position:"relative",zIndex:Number(C)||0,...b};return a.jsxs("button",{ref:K=>z(S(K)),type:"button",onClick:X,title:p,"aria-label":m||p||"Ir",className:`btn p-0 ${v}`,style:le,children:[a.jsx("svg",{width:s,height:s,viewBox:"0 0 56 56",role:"img","aria-hidden":"true",style:{transform:`rotate(${V}deg)`},children:a.jsx("polyline",{points:"34,12 18,28 34,44",fill:"none",stroke:i,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round"})}),I&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:H}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:K=>{K.preventDefault(),K.stopPropagation();const O=Y(T).get(),{type:J,props:te,parent:ne}={type:O.data.type,props:O.data.props,parent:O.data.parent},_=Y(ne).get().data.nodes||[],k=Math.max(0,_.indexOf(T)),M={...te,translateX:(Number(te.translateX)||0)+10,translateY:(Number(te.translateY)||0)+10},q=P(xe.createElement(J,M));F(q,ne,k+1),E(q.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:K=>{K.preventDefault(),K.stopPropagation(),L(T)}})]})]})},TO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"left",onChange:n=>r(s=>s.direction=n.target.value),children:[a.jsx("option",{value:"left",children:"Izquierda"}),a.jsx("option",{value:"right",children:"Derecha"}),a.jsx("option",{value:"up",children:"Arriba"}),a.jsx("option",{value:"down",children:"Abajo"})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:24,max:128,value:Number.isFinite(e.size)?e.size:56,onChange:n=>r(s=>s.size=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Grosor"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:2,max:16,value:Number.isFinite(e.stroke)?e.stroke:8,onChange:n=>r(s=>s.stroke=Number(n.target.value))})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.color||"#E6E3A1",onChange:n=>r(s=>s.color=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.bg||"#00000000",onChange:n=>r(s=>s.bg=n.target.value)})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"chev-rounded",checked:!!e.rounded,onChange:n=>r(s=>s.rounded=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"chev-rounded",children:"Bordes redondeados"})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ir a seccin (Nombre)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(s=>s.sectionName=n.target.value),placeholder:"Ej: Landing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"O ir a ruta interna"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to??"",onChange:n=>r(s=>s.to=n.target.value),placeholder:"/blog"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Yl.craft={displayName:"Botn Flecha",props:{to:"",sectionName:"",direction:"left",size:56,stroke:8,color:"#E6E3A1",bg:"transparent",rounded:!0,title:"",ariaLabel:"",className:"",style:{},translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:TO}};const ph={Navegacin:["house","house-fill","arrow-left","arrow-right","arrow-up","arrow-down","chevron-left","chevron-right","chevron-up","chevron-down","chevron-double-left","chevron-double-right","arrow-return-left","arrow-return-right","skip-forward","skip-backward","caret-left-fill","caret-right-fill","caret-up-fill","caret-down-fill","arrow-counterclockwise","arrow-clockwise"],Comunicacin:["telephone","telephone-fill","envelope","envelope-fill","chat","chat-fill","chat-left","chat-left-fill","chat-right","chat-right-fill","chat-dots","chat-dots-fill","megaphone","megaphone-fill","bell","bell-fill","bell-slash","bell-slash-fill"],Medios:["play","play-fill","pause","pause-fill","stop","stop-fill","music-note","music-note-beamed","volume-up","volume-up-fill","volume-down","volume-down-fill","volume-mute","volume-mute-fill","mic","mic-fill","mic-mute","mic-mute-fill"],Acciones:["search","funnel","funnel-fill","download","upload","share","share-fill","heart","heart-fill","bookmark","bookmark-fill","star","star-fill","flag","flag-fill","trash","trash-fill","pencil","pencil-fill","pencil-square","check","check-circle","x","x-circle","x-lg","plus","plus-circle","plus-lg"],"Tipos de archivos":["file-earmark","file-earmark-fill","file-earmark-text","file-earmark-text-fill","file-earmark-image","file-earmark-image-fill","file-earmark-pdf","file-earmark-pdf-fill","file-earmark-zip","file-earmark-zip-fill","file-earmark-code","file-earmark-code-fill","folder","folder-fill","folder-open","folder-open-fill"],Usuarios:["person","person-fill","person-circle","people","people-fill","person-badge","person-badge-fill","person-check","person-check-fill","person-plus","person-plus-fill","person-x","person-x-fill"],Social:["twitter","facebook","instagram","linkedin","youtube","github","google","apple","microsoft","snapchat","telegram","whatsapp","discord","twitch","reddit","pinterest","tiktok"],Interfaz:["menu-button","menu-button-wide","menu-button-wide-fill","list","list-check","list-task","grid","grid-3x3","grid-3x3-gap","layout-three-columns","layout-sidebar","layout-text-window","columns","rows","layout-split","window","window-dock","window-sidebar"],Comercio:["cart","cart-fill","cart-plus","cart-plus-fill","cart-check","cart-check-fill","cart-x","cart-x-fill","bag","bag-fill","shop","shop-window","credit-card","credit-card-fill","cash","cash-coin","currency-dollar","currency-euro","currency-pound"],Smbolos:["emoji-smile","emoji-smile-fill","emoji-heart-eyes","emoji-heart-eyes-fill","emoji-laughing","emoji-laughing-fill","emoji-wink","emoji-wink-fill","emoji-dizzy","emoji-dizzy-fill","emoji-angry","emoji-angry-fill","lightning","lightning-fill","fire","trophy","trophy-fill","award","award-fill","medal","medal-fill"],Informacin:["info","info-circle","info-circle-fill","question-circle","question-circle-fill","exclamation-circle","exclamation-circle-fill","exclamation-triangle","exclamation-triangle-fill","shield","shield-fill","shield-check","shield-exclamation","lock","lock-fill","unlock","unlock-fill","key","key-fill"],Transporte:["car-front","car-front-fill","truck","truck-front","bicycle","scooter","airplane","airplane-fill","airplane-engines","airplane-engines-fill","suitcase","suitcase-fill"],Clima:["cloud","cloud-fill","cloud-rain","cloud-rain-fill","cloud-sun","cloud-sun-fill","cloud-snow","cloud-snow-fill","cloud-lightning","cloud-lightning-fill","cloud-lightning-rain","cloud-lightning-rain-fill","sun","sun-fill","moon","moon-fill","moon-stars","moon-stars-fill","rainbow"],Tiempo:["clock","clock-fill","calendar","calendar-fill","calendar-event","calendar-event-fill","calendar-check","calendar-check-fill","calendar-week","calendar-week-fill","calendar-month","calendar-month-fill","stopwatch","stopwatch-fill","hourglass","hourglass-split","hourglass-bottom"]},hy=({onSelect:r,selectedIcon:e="",label:n="Seleccionar icono"})=>{const[s,l]=D.useState(!1),[i,d]=D.useState(""),[f,p]=D.useState("Todos"),v=Object.values(ph).flat().filter(j=>{const C=j.toLowerCase().includes(i.toLowerCase()),w=f==="Todos"||ph[f]?.includes(j);return C&&w}),b=j=>{r(j),l(!1),d("")},y=["Todos",...Object.keys(ph)];return a.jsxs("div",{style:{position:"relative"},children:[a.jsx("label",{className:"form-label",children:n}),a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 d-flex align-items-center justify-content-between",onClick:()=>l(!s),children:[a.jsx("span",{className:"d-flex align-items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:`bi bi-${e}`}),a.jsx("span",{children:e})]}):a.jsx("span",{className:"text-muted",children:"Ningn icono seleccionado"})}),a.jsx("i",{className:`bi bi-chevron-${s?"up":"down"}`})]}),s&&a.jsxs("div",{className:"bg-white border rounded shadow-sm position-absolute w-100",style:{marginTop:"4px",maxHeight:"400px",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsx("div",{className:"p-2 border-bottom",children:a.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar icono...",value:i,onChange:j=>d(j.target.value)})}),a.jsx("div",{className:"border-bottom p-2",style:{overflowX:"auto"},children:a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:y.map(j=>a.jsx("button",{type:"button",className:`btn btn-sm ${f===j?"btn-primary":"btn-outline-secondary"}`,onClick:()=>{p(j),d("")},children:j},j))})}),a.jsx("div",{style:{overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"8px",padding:"12px"},children:v.length>0?v.map(j=>a.jsxs("button",{type:"button",className:`btn btn-sm d-flex flex-column align-items-center ${e===j?"btn-primary":"btn-outline-secondary"}`,style:{height:"60px",padding:"8px"},onClick:()=>b(j),title:j,children:[a.jsx("i",{className:`bi bi-${j}`,style:{fontSize:"20px"}}),a.jsx("span",{style:{fontSize:"10px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:j.length>8?j.substring(0,8)+"...":j})]},j)):a.jsx("div",{className:"text-center text-muted p-3",style:{gridColumn:"1 / -1"},children:"No se encontraron iconos"})}),e&&a.jsx("div",{className:"p-2 border-top",children:a.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger w-100",onClick:()=>{r(""),l(!1)},children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Limpiar seleccin"]})})]})]})},Fl=({iconName:r="star",iconSize:e=20,iconColor:n="#000000",backgroundColor:s="",borderColor:l="",borderWidth:i=0,borderRadius:d=0,padding:f=10,actionType:p="none",to:m="",sectionName:v="",externalUrl:b="",externalNewTab:y=!0,translateX:j=0,translateY:C=0,zIndex:w=0,opacity:T=1})=>{const{id:z,connectors:{connect:S,drag:R},actions:{setProp:I},selected:F}=pe(K=>({selected:K.events.selected})),{actions:{add:E,selectNode:L,delete:P},query:{createNode:Y,node:Q}}=De(),X=ft(),H=K=>{K.stopPropagation(),K.preventDefault();const O=K.clientX,J=K.clientY,te=Number(j)||0,ne=Number(C)||0,re=k=>{const M=k.clientX-O,q=k.clientY-J;I(oe=>{oe.translateX=te+M,oe.translateY=ne+q})},_=()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",_)};document.addEventListener("mousemove",re),document.addEventListener("mouseup",_)},V=K=>{if(K.stopPropagation(),p==="route"&&m)X(m);else if(p==="section"&&v){const O=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,J=new URLSearchParams;O&&J.set("site",O),J.set("section",v),X(`/editor?${J.toString()}`)}else p==="external"&&b&&(y?window.open(b,"_blank"):window.location.href=b)},le={display:"inline-flex",alignItems:"center",justifyContent:"center",padding:`${f}px`,backgroundColor:s||"transparent",border:i>0?`${i}px solid ${l||"transparent"}`:"none",borderRadius:`${d}px`,cursor:p!=="none"?"pointer":"default",transform:`translate(${Number(j)||0}px, ${Number(C)||0}px)`,opacity:Math.max(0,Math.min(1,Number(T)||1)),position:"relative",zIndex:Number(w)||0};return a.jsxs("div",{ref:K=>S(R(K)),style:le,onClick:V,children:[a.jsx("i",{className:`bi bi-${r}`,style:{fontSize:`${e}px`,color:n}}),F&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:H}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:K=>{K.preventDefault(),K.stopPropagation();const O=Q(z).get(),{type:J,props:te,parent:ne}={type:O.data.type,props:O.data.props,parent:O.data.parent},_=Q(ne).get().data.nodes||[],k=Math.max(0,_.indexOf(z)),M={...te,translateX:(Number(te.translateX)||0)+10,translateY:(Number(te.translateY)||0)+10},q=Y(xe.createElement(J,M));E(q,ne,k+1),L(q.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:K=>{K.preventDefault(),K.stopPropagation(),P(z)}})]})]})},EO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx(hy,{label:"Icono",selectedIcon:e.iconName,onSelect:n=>r(s=>s.iconName=n)}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"10",max:"200",value:e.iconSize||20,onChange:n=>r(s=>s.iconSize=parseInt(n.target.value)||20)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#000000",onChange:n=>r(s=>s.iconColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"",onChange:n=>r(s=>s.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Borde (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"10",value:e.borderWidth||0,onChange:n=>r(s=>s.borderWidth=parseInt(n.target.value)||0)})]}),e.borderWidth>0&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(s=>s.borderColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.borderRadius||0,onChange:n=>r(s=>s.borderRadius=parseInt(n.target.value)||0)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.padding||10,onChange:n=>r(s=>s.padding=parseInt(n.target.value)||10)})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(s=>s.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Ninguna"}),a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Seccin"}),a.jsx("option",{value:"external",children:"URL externa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to||"",onChange:n=>r(s=>s.to=n.target.value),placeholder:"/ruta"})]}),e.actionType==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName||"",onChange:n=>r(s=>s.sectionName=n.target.value),placeholder:"nombre-seccion"})]}),e.actionType==="external"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl||"",onChange:n=>r(s=>s.externalUrl=n.target.value),placeholder:"https://..."}),a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:n=>r(s=>s.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};Fl.craft={displayName:"Botn cono",props:{iconName:"star",iconSize:20,iconColor:"#000000",backgroundColor:"",borderColor:"",borderWidth:0,borderRadius:0,padding:10,actionType:"none",to:"",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:EO}};const my=({text:r="Descargar archivo",fileUrl:e="",suggestedName:n="",variant:s="contained",color:l="primary",buttonTextColor:i="",buttonBgColor:d="",buttonBorderColor:f="",size:p="medium",iconName:m="download",translateX:v=0,translateY:b=0,zIndex:y=0,opacity:j=1})=>{const{id:C,connectors:{connect:w,drag:T},actions:{setProp:z},selected:S}=pe(te=>({selected:te.events.selected})),{actions:{add:R,selectNode:I,delete:F},query:{createNode:E,node:L}}=De(),P=te=>{te.stopPropagation(),te.preventDefault();const ne=te.clientX,re=te.clientY,_=Number(v)||0,k=Number(b)||0,M=oe=>{const ie=oe.clientX-ne,he=oe.clientY-re;z(ae=>{ae.translateX=_+ie,ae.translateY=k+he})},q=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",q)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",q)},Y=(l||"primary").toLowerCase(),Q=s==="outlined",X=s==="text",H=!!(i||d||f),K=[H?"btn":X?"btn btn-link":`btn ${Q?"btn-outline-":"btn-"}${Y}`,p==="large"?"btn-lg":p==="small"?"btn-sm":""].filter(Boolean).join(" "),O={transform:`translate(${Number(v)||0}px, ${Number(b)||0}px)`,opacity:Math.max(0,Math.min(1,Number(j)||1)),position:"relative",zIndex:Number(y)||0};H&&(X?(O.backgroundColor="transparent",i&&(O.color=i),O.border="none"):Q?(O.backgroundColor="transparent",i&&(O.color=i),O.borderStyle="solid",O.borderWidth=1,f?O.borderColor=f:i&&(O.borderColor=i)):(d&&(O.backgroundColor=d),i&&(O.color=i),O.borderStyle="solid",O.borderWidth=1,f?O.borderColor=f:d&&(O.borderColor=d)));const J=a.jsxs(a.Fragment,{children:[m&&a.jsx("i",{className:`bi bi-${m} me-1`,"aria-hidden":"true"}),a.jsx("span",{children:r})]});return a.jsxs("div",{ref:te=>w(T(te)),children:[e?a.jsx("a",{href:e,className:K,style:O,target:"_blank",rel:"noopener noreferrer",download:n||!0,children:J}):a.jsx("button",{type:"button",className:K,style:O,disabled:!0,children:J}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:P}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:te=>{te.preventDefault(),te.stopPropagation();const ne=L(C).get(),{type:re,props:_,parent:k}={type:ne.data.type,props:ne.data.props,parent:ne.data.parent},q=L(k).get().data.nodes||[],oe=Math.max(0,q.indexOf(C)),ie={..._,translateX:(Number(_.translateX)||0)+10,translateY:(Number(_.translateY)||0)+10},he=E(xe.createElement(re,ie));R(he,k,oe+1),I(he.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:te=>{te.preventDefault(),te.stopPropagation(),F(C)}})]})]})},kO=()=>{const{actions:{setProp:r},props:e}=pe(i=>({props:i.data.props})),{upload:n,isUploading:s,error:l}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx(hy,{label:"Icono",selectedIcon:e.iconName,onSelect:i=>r(d=>d.iconName=i)}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.text||"",onChange:i=>r(d=>d.text=i.target.value),placeholder:"Descargar archivo"})]}),a.jsx("hr",{}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL del archivo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.fileUrl||"",onChange:i=>r(d=>d.fileUrl=i.target.value),placeholder:"https://..."}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Sube un archivo o pega una URL."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir archivo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",onChange:async i=>{const d=i.target.files?.[0];if(!d)return;const f=await n(d);f&&r(p=>{p.fileUrl=f,p.suggestedName=d.name||""})},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."}),l&&a.jsx("div",{className:"text-danger small mt-1",children:String(l)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre sugerido"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.suggestedName||"",onChange:i=>r(d=>d.suggestedName=i.target.value),placeholder:"archivo.pdf"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Variante"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"contained",onChange:i=>r(d=>d.variant=i.target.value),children:[a.jsx("option",{value:"text",children:"Texto"}),a.jsx("option",{value:"outlined",children:"Con borde"}),a.jsx("option",{value:"contained",children:"Relleno"})]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.size||"medium",onChange:i=>r(d=>d.size=i.target.value),children:[a.jsx("option",{value:"small",children:"Pequeo"}),a.jsx("option",{value:"medium",children:"Mediano"}),a.jsx("option",{value:"large",children:"Grande"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color base"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.color||"primary",onChange:i=>r(d=>d.color=i.target.value),children:[a.jsx("option",{value:"primary",children:"Principal"}),a.jsx("option",{value:"secondary",children:"Secundario"}),a.jsx("option",{value:"success",children:"xito"}),a.jsx("option",{value:"danger",children:"Peligro"}),a.jsx("option",{value:"warning",children:"Advertencia"}),a.jsx("option",{value:"info",children:"Informacin"}),a.jsx("option",{value:"light",children:"Claro"}),a.jsx("option",{value:"dark",children:"Oscuro"})]})]}),a.jsx("hr",{className:"my-1"}),a.jsx("label",{className:"form-label small text-muted",children:"Personalizado"}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:i=>r(d=>d.buttonTextColor=i.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBgColor||"#0d6efd",onChange:i=>r(d=>d.buttonBgColor=i.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBorderColor||"#0d6efd",onChange:i=>r(d=>d.buttonBorderColor=i.target.value)})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:i=>r(d=>d.translateX=Number(i.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:i=>r(d=>d.translateY=Number(i.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:i=>r(d=>d.zIndex=Number(i.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:i=>r(d=>d.opacity=Number(i.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};my.craft={displayName:"Descarga Archivo",props:{text:"Descargar archivo",fileUrl:"",suggestedName:"",variant:"contained",color:"primary",buttonTextColor:"",buttonBgColor:"",buttonBorderColor:"",size:"medium",iconName:"download",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:kO}};const py=({text:r="",backgroundColor:e="transparent",textColor:n="#000000",hoverColor:s="#000000",iconColor:l="#000000",iconSize:i=28,fontSize:d=16,padding:f="12px",borderRadius:p=0,borderWidth:m=0,borderColor:v="transparent",showIcon:b=!0,showText:y=!1,actionType:j="route",to:C="/forum",sectionName:w="",externalUrl:T="",externalNewTab:z=!1,route:S,translateX:R=0,translateY:I=0,zIndex:F=0,opacity:E=1,...L})=>{const{id:P,connectors:{connect:Y,drag:Q},actions:{setProp:X},selected:H}=pe(q=>({selected:q.events.selected})),{actions:{add:V,selectNode:le,delete:K},query:{createNode:O,node:J},enabled:te}=De(q=>({enabled:q.options.enabled})),ne=ft();xe.useEffect(()=>{S&&X(q=>{q.to||(q.to=S),q.route=void 0})},[S,X]);const re=q=>{if(q.preventDefault(),te)return;if(j==="section"){const ie=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,he=new URLSearchParams;ie&&he.set("site",ie),w&&he.set("section",w);const ae=w?`/editor?${he.toString()}`:"";if(!ae)return;ne(ae);return}if(j==="external"){const ie=(T||"").trim();if(!ie)return;typeof window<"u"&&window.open(ie,z?"_blank":"_self");return}const oe=(C||"").trim();if(oe){if(oe.startsWith("#")){const ie=document.querySelector(oe);ie&&ie.scrollIntoView({behavior:"smooth",block:"start"});return}ne(oe)}},_=q=>{q.stopPropagation(),q.preventDefault();const oe=q.clientX,ie=q.clientY,he=Number(R)||0,ae=Number(I)||0,A=de=>{const me=de.clientX-oe,ge=de.clientY-ie;X(Ne=>{Ne.translateX=he+me,Ne.translateY=ae+ge})},$=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",$)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",$)},[k,M]=D.useState(!1);return a.jsxs("button",{...L,ref:q=>Y(Q(q)),onClick:re,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),className:"d-inline-flex align-items-center justify-content-center gap-2",style:{backgroundColor:e||"transparent",border:"none",color:n,padding:f,fontSize:`${d}px`,borderRadius:`${p}px`,fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",transform:`translate(${Number(R)||0}px, ${Number(I)||0}px) scale(${k?1.1:1})`,zIndex:Number(F)||0,opacity:Math.max(0,Math.min(1,Number(E)||1)),position:"relative",...L.style},children:[b&&a.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"14",rx:"2",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),a.jsx("path",{d:"M4 17L6 20L8 17H4Z",fill:l,stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("line",{x1:"7",y1:"8",x2:"17",y2:"8",stroke:l,strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"7",y1:"11",x2:"14",y2:"11",stroke:l,strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"7",y1:"14",x2:"11",y2:"14",stroke:l,strokeWidth:"2",strokeLinecap:"round"})]}),y&&r&&a.jsx("span",{children:r}),H&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:_}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation();const oe=J(P).get(),{type:ie,props:he,parent:ae}={type:oe.data.type,props:oe.data.props,parent:oe.data.parent},$=J(ae).get().data.nodes||[],de=Math.max(0,$.indexOf(P)),me={...he,translateX:(Number(he.translateX)||0)+10,translateY:(Number(he.translateY)||0)+10},ge=O(xe.createElement(ie,me));V(ge,ae,de+1),le(ge.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation(),K(P)}})]})]})},OO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"General",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.text||"Ir al Foro",onChange:n=>r(s=>s.text=n.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(s=>s.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:n=>r(s=>s.sectionName=n.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:n=>r(s=>s.externalUrl=n.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:n=>r(s=>s.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.to||"",onChange:n=>r(s=>s.to=n.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showIcon!==!1,onChange:n=>r(s=>s.showIcon=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar icono"})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showText||!1,onChange:n=>r(s=>s.showText=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar texto"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ff5722",onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color hover"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.hoverColor||"#e64a19",onChange:n=>r(s=>s.hoverColor=n.target.value)})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textColor||"#ffffff",onChange:n=>r(s=>s.textColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#ffffff",onChange:n=>r(s=>s.iconColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del texto (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"10",max:"32",value:e.fontSize||16,onChange:n=>r(s=>s.fontSize=parseInt(n.target.value)||16)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del icono (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"10",max:"40",value:e.iconSize||20,onChange:n=>r(s=>s.iconSize=parseInt(n.target.value)||20)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.padding||"12px 24px",onChange:n=>r(s=>s.padding=n.target.value),placeholder:"12px 24px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Bordes redondeados (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"50",value:e.borderRadius||8,onChange:n=>r(s=>s.borderRadius=parseInt(n.target.value)||8)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho del borde (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"10",value:e.borderWidth||0,onChange:n=>r(s=>s.borderWidth=parseInt(n.target.value)||0)})]}),e.borderWidth>0&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(s=>s.borderColor=n.target.value)})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};py.craft={displayName:"Botn Foro",props:{text:"",backgroundColor:"transparent",textColor:"#000000",hoverColor:"#000000",iconColor:"#000000",iconSize:28,fontSize:16,padding:"12px",borderRadius:0,borderWidth:0,borderColor:"transparent",showIcon:!0,showText:!1,actionType:"route",to:"/forum",sectionName:"",externalUrl:"",externalNewTab:!1,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:OO}};const AO=async()=>{try{const{data:r,error:e}=await Aa.from("forum_config").select("*").single();return e&&e.code!=="PGRST116"?(console.error("Error getting settings:",e),null):r||{bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}}catch(r){return console.error("Exception getting settings",r),{bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}}},RO=async()=>{try{const{data:r,error:e}=await Aa.from("forum_categories").select("*, forum_threads(count)").order("created_at",{ascending:!0});if(e)throw e;return r.map(n=>({...n,topic_count:n.forum_threads&&n.forum_threads[0]?n.forum_threads[0].count:0}))||[]}catch(r){return console.error("Error fetching categories:",r),[]}},zO=async r=>{const{data:e,error:n}=await Aa.from("forum_threads").select("*, forum_posts(count)").eq("category_id",r).order("created_at",{ascending:!1});return n?[]:e.map(s=>({...s,date:new Date(s.created_at).toLocaleDateString(),replies:s.forum_posts&&s.forum_posts[0]?s.forum_posts[0].count:0}))},MO=async r=>{const{data:e,error:n}=await Aa.from("forum_posts").select("*").eq("thread_id",r).order("created_at",{ascending:!0});return n?[]:e.map(s=>({...s,author:s.author_name||"Anonymous",date:new Date(s.created_at).toLocaleDateString()}))},DO=async(r,e,n,s)=>{const{error:l}=await Aa.from("forum_threads").insert([{category_id:r,title:e,content:n,author_name:s}]);return{ok:!l,error:l}},LO=async(r,e,n,s=null)=>{const l={thread_id:r,content:e,author_name:n};s&&(l.parent_id=s);const{error:i}=await Aa.from("forum_posts").insert([l]);return{ok:!i,error:i}},UO=({onSelectCategory:r,settings:e})=>{const[n,s]=D.useState([]),[l,i]=D.useState(!0);D.useEffect(()=>{d()},[]);const d=async()=>{i(!0);const f=await RO();s(f),i(!1)};return l?a.jsx("div",{className:"p-4 text-center",children:"Cargando categoras..."}):a.jsxs("div",{className:"forum-categories",children:[a.jsxs("h2",{className:"mb-4 text-white d-flex align-items-center",style:{fontWeight:"bold"},children:[a.jsx("span",{style:{height:"32px",width:"6px",backgroundColor:e.primary_color,marginRight:"15px"}}),"Foros"]}),a.jsx("div",{className:"d-flex flex-column gap-3",children:n.map(f=>a.jsxs("div",{className:"d-flex align-items-center p-0 overflow-hidden",style:{backgroundColor:e.card_bg_color,color:e.text_color,cursor:"pointer",transition:"transform 0.2s",borderRadius:"4px",border:"1px solid #333"},onClick:()=>r(f),onMouseEnter:p=>p.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:p=>p.currentTarget.style.backgroundColor=e.card_bg_color,children:[a.jsx("div",{style:{width:"120px",height:"80px",flexShrink:0,backgroundColor:"#333"},children:f.image_url?a.jsx("img",{src:f.image_url,alt:f.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/150?text=No+Image"}}):a.jsx("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center bg-secondary",children:a.jsx("i",{className:"bi bi-image"})})}),a.jsx("div",{className:"p-3 flex-grow-1",children:a.jsx("h5",{className:"mb-0 fw-bold text-white",children:f.name})}),a.jsxs("div",{className:"px-4 py-3 text-center",style:{minWidth:"100px",borderLeft:"1px solid #333"},children:[a.jsx("div",{className:"mb-1",style:{fontSize:"0.8rem",color:"#ccc"},children:"Temas"}),a.jsx("div",{className:"fw-bold fs-5",children:f.topic_count||0})]})]},f.id))}),n.length===0&&a.jsx("p",{className:"text-center opacity-50 py-5",children:"No hay categoras disponibles."})]})},IO=({category:r,onSelectThread:e,onBack:n,settings:s})=>{const[l,i]=D.useState([]),[d,f]=D.useState(!0),[p,m]=D.useState(!1),[v,b]=D.useState(""),[y,j]=D.useState(""),[C,w]=D.useState("Usuario");D.useEffect(()=>{T()},[r.id]);const T=async()=>{f(!0);const S=await zO(r.id);i(S),f(!1)},z=async S=>{S.preventDefault(),!(!v.trim()||!y.trim())&&(await DO(r.id,v,y,C),b(""),j(""),m(!1),T())};return d?a.jsx("div",{className:"p-4 text-center",children:"Cargando temas..."}):a.jsxs("div",{className:"forum-topics",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3 mb-4",children:[a.jsx("button",{className:"btn btn-link text-white p-0",onClick:n,children:a.jsx("i",{className:"bi bi-arrow-left fs-4"})}),a.jsxs("h2",{className:"mb-0 text-white d-flex align-items-center",style:{fontWeight:"bold"},children:[a.jsx("span",{style:{height:"32px",width:"6px",backgroundColor:s.primary_color,marginRight:"15px"}}),"Foro ",r.name]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"small text-muted mb-2 ps-4 ms-2",children:"Temas"}),a.jsx("button",{className:"btn text-white fw-bold px-4 py-2 rounded-pill",style:{backgroundColor:s.primary_color},onClick:()=>m(!p),children:"Nuevo tema"})]}),p&&a.jsx("div",{className:"card mb-4 border-0",style:{backgroundColor:s.card_bg_color,border:"1px solid #444"},children:a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title mb-3 text-white",children:"Crear Nuevo Tema"}),a.jsxs("form",{onSubmit:z,children:[a.jsx("div",{className:"mb-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Ttulo del tema",value:v,onChange:S=>b(S.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444"},required:!0})}),a.jsx("div",{className:"mb-3",children:a.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Contenido del mensaje...",value:y,onChange:S=>j(S.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444"},required:!0})}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>m(!1),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",style:{backgroundColor:s.primary_color,border:"none"},children:"Publicar"})]})]})]})}),a.jsxs("div",{className:"d-flex flex-column gap-0 border border-secondary rounded overflow-hidden",children:[l.map(S=>a.jsxs("div",{className:"p-3 d-flex align-items-center",style:{backgroundColor:s.card_bg_color,color:s.text_color,borderBottom:"1px solid #444",cursor:"pointer"},onClick:()=>e(S),children:[a.jsx("div",{className:"me-3",children:a.jsx("div",{className:"rounded-circle border border-secondary d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px"},children:a.jsx("i",{className:"bi bi-person fs-4 text-secondary"})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"mb-1 fw-normal text-white",children:S.title}),a.jsxs("div",{className:"small text-muted",children:[S.author_name||"UserName","  ",S.date]})]}),a.jsxs("div",{className:"text-center px-3",children:[a.jsx("div",{className:"mb-1",style:{fontSize:"0.8rem",color:"#ccc"},children:"Respuestas"}),a.jsx("div",{className:"fw-bold fs-5 text-white",children:S.replies||0})]})]},S.id)),l.length===0&&a.jsx("div",{className:"text-center py-5 opacity-50 bg-dark",children:"No hay temas en esta categora an via."})]})]})},qO=({thread:r,onBack:e,settings:n})=>{const[s,l]=D.useState([]),[i,d]=D.useState(!0),[f,p]=D.useState(""),[m,v]=D.useState("Usuario"),[b,y]=D.useState(!1),[j,C]=D.useState(null);D.useEffect(()=>{w()},[r.id]);const w=async()=>{d(!0);const R=await MO(r.id);l(R),d(!1)},T=async R=>{R.preventDefault(),f.trim()&&(await LO(r.id,f,m,j?.id||null),p(""),C(null),y(!1),w())},z=(R=null)=>{C(R),y(!0)},S=()=>{C(null),y(!1)};return i?a.jsx("div",{className:"p-4 text-center",children:"Cargando respuestas..."}):a.jsxs("div",{className:"forum-thread",children:[a.jsxs("div",{className:"mb-4 d-flex align-items-center gap-3",children:[a.jsx("button",{className:"btn btn-link text-white p-0",onClick:e,children:a.jsx("i",{className:"bi bi-arrow-left fs-4"})}),a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"rounded-circle border border-white d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:a.jsx("i",{className:"bi bi-person fs-2 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-0 fw-bold",children:r.author_name||"UserName"}),a.jsx("div",{className:"small text-muted",children:new Date(r.created_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"mb-5 pb-3",children:[a.jsx("h3",{className:"fw-bold mb-4",style:{color:n.text_color},children:r.title}),a.jsx("div",{className:"mb-4",style:{color:n.text_color,fontSize:"1rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:r.content}),a.jsx("button",{className:"btn text-white fw-bold px-4 py-2",style:{backgroundColor:n.primary_color,borderRadius:"4px"},onClick:()=>z(null),children:"Responder"})]}),a.jsxs("div",{className:"d-flex flex-column gap-0 mb-5 border-top border-secondary",children:[s.map((R,I)=>{const F=R.parent_id?s.find(E=>E.id===R.parent_id):null;return a.jsxs("div",{className:"d-flex flex-column p-4 border-bottom border-secondary",style:{backgroundColor:"#1e1e1e"},children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("div",{className:"rounded-circle border border-white d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:a.jsx("i",{className:"bi bi-person fs-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"fw-bold fs-5",children:R.author||"UserName"}),a.jsx("div",{className:"small text-muted",children:R.date})]})]}),a.jsxs("div",{className:"text-secondary small",children:["#",I+1]})]}),F&&a.jsxs("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"rgba(255,255,255,0.05)",borderLeft:`3px solid ${n.primary_color}`},children:[a.jsxs("div",{className:"fw-bold opacity-75 mb-1",style:{fontSize:"0.9rem"},children:["En respuesta a ",F.author||"Usuario",":"]}),a.jsxs("div",{className:"fst-italic opacity-50 small",children:['"',F.content.length>100?F.content.substring(0,100)+"...":F.content,'"']})]}),a.jsx("div",{className:"mb-3 text-white opacity-75",children:R.content}),a.jsx("div",{className:"d-flex justify-content-end",children:a.jsx("button",{className:"btn btn-sm text-white fw-bold",style:{backgroundColor:n.primary_color},onClick:()=>z(R),children:"Responder"})})]},R.id)}),s.length===0&&a.jsx("p",{className:"opacity-50 mt-4 text-center",children:"S el primero en responder."})]}),b&&a.jsx("div",{className:"modal show fade d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:a.jsxs("div",{className:"modal-content text-white",style:{backgroundColor:n.card_bg_color||"#1e1e1e",border:`1px solid ${n.primary_color}`},children:[a.jsxs("div",{className:"modal-header border-secondary",children:[a.jsx("h5",{className:"modal-title",children:j?`Respondiendo a ${j.author||"Usuario"}`:"Tu respuesta"}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:S})]}),a.jsxs("div",{className:"modal-body",children:[j&&a.jsx("div",{className:"mb-3 p-3 border-start border-4",style:{borderColor:n.primary_color,backgroundColor:"rgba(255,255,255,0.05)",borderLeft:`4px solid ${n.primary_color}`},children:a.jsxs("div",{className:"fst-italic opacity-75",children:['"',j.content.substring(0,150),j.content.length>150?"...":"",'"']})}),a.jsxs("form",{onSubmit:T,children:[a.jsx("div",{className:"mb-3",children:a.jsx("textarea",{className:"form-control",rows:"6",placeholder:"Escribe tu respuesta aqu...",value:f,onChange:R=>p(R.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444",resize:"vertical"},autoFocus:!0,required:!0})}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{type:"button",className:"btn btn-outline-light",onClick:S,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn text-white fw-bold px-4",style:{backgroundColor:n.primary_color},children:"Enviar Respuesta"})]})]})]})]})})})]})},gy=({padding:r=20,...e})=>{const{connectors:{connect:n,drag:s},selected:l}=pe(S=>({selected:S.events.selected})),[i,d]=D.useState({bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}),[f,p]=D.useState("categories"),[m,v]=D.useState(null),[b,y]=D.useState(null);D.useEffect(()=>{j()},[]);const j=async()=>{const S=await AO();S&&d(S)},C=S=>{v(S),p("topics")},w=S=>{y(S),p("thread")},T=()=>{v(null),p("categories")},z=()=>{y(null),p("topics")};return a.jsxs("div",{ref:S=>n(s(S)),className:"forum-component-wrapper","data-cy":"forum-component",style:{padding:`${r}px`,backgroundColor:i.bg_color||"#000000",color:i.text_color||"#ffffff",minHeight:"400px",width:"100%",border:l?"2px solid #2684FF":"1px dashed transparent"},children:[f==="categories"&&a.jsx(UO,{onSelectCategory:C,settings:i}),f==="topics"&&m&&a.jsx(IO,{category:m,onSelectThread:w,onBack:T,settings:i}),f==="thread"&&b&&a.jsx(qO,{thread:b,onBack:z,settings:i})]})},BO=()=>a.jsx("div",{children:a.jsx("p",{children:"Forum settings are managed via the Forum Admin Dashboard."})});gy.craft={displayName:"Foro Completo",props:{padding:20},related:{settings:BO}};const PO=r=>r>=1e6?(r/1e6).toFixed(1).replace(/\.0$/,"")+"M":r>=1e3?(r/1e3).toFixed(1).replace(/\.0$/,"")+"K":r.toString(),Xl=({sectionId:r,initialCount:e=1e3,iconSize:n=28,iconColor:s="#000000",countColor:l="#000000",backgroundColor:i="transparent",likedColor:d="#ef4444",showCount:f=!0,gap:p=10,padding:m=8,translateX:v=0,translateY:b=0,zIndex:y=0,opacity:j=1})=>{const{id:C,connectors:{connect:w,drag:T},actions:{setProp:z},selected:S}=pe(ne=>({selected:ne.events.selected})),{actions:{add:R,selectNode:I,delete:F},query:{createNode:E,node:L}}=De(),[P,Y]=D.useState(!1),[Q,X]=D.useState(e),[H,V]=D.useState(!0),[le,K]=D.useState(!1),O=r||`like-button-${C}`,J=ne=>{ne.stopPropagation(),ne.preventDefault();const re=ne.clientX,_=ne.clientY,k=Number(v)||0,M=Number(b)||0,q=ie=>{const he=ie.clientX-re,ae=ie.clientY-_;z(A=>{A.translateX=k+he,A.translateY=M+ae})},oe=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",oe)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",oe)};D.useEffect(()=>{(async()=>{V(!0);try{const{data:re,error:_}=await Aa.from("likes").select("count").eq("section_id",O).single();if(_)if(_.code==="PGRST116"){const{error:k}=await Aa.from("likes").insert([{section_id:O,count:e}]);k&&console.error("Error creating initial like record:",k),X(e)}else console.error("Error fetching likes:",_),X(e);else re&&(X(re.count||e),K(!0));K(!0)}catch(re){console.error("Error in fetchLikes:",re),X(e),K(!1)}finally{V(!1)}})()},[O,e]);const te=async ne=>{if(ne.stopPropagation(),P||H)return;Y(!0);const re=Q+1;X(re);try{const{error:_}=await Aa.from("likes").upsert({section_id:O,count:re,updated_at:new Date().toISOString()},{onConflict:"section_id",ignoreDuplicates:!1});_?(console.error("Error updating likes in Supabase:",_),Y(!1),X(Q),_.code!=="42P01"&&console.warn("No se pudo guardar en Supabase. Funcionando en modo local.")):(console.log(" Like guardado exitosamente en Supabase:",{section_id:O,count:re}),K(!0))}catch(_){console.error("Error in handleLike:",_),Y(!1),X(Q),alert("Error al guardar el like. Por favor, intenta de nuevo.")}};return a.jsxs("div",{ref:ne=>w(T(ne)),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:`${p}px`,transform:`translate(${Number(v)||0}px, ${Number(b)||0}px)`,position:"relative",zIndex:Number(y)||0,opacity:Math.max(0,Math.min(1,Number(j)||1))},children:[a.jsx("button",{onClick:te,disabled:P||H,style:{background:i||"transparent",border:"none",cursor:P||H?"default":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:`${m}px`,transition:"transform 0.2s"},onMouseEnter:ne=>{!P&&!H&&(ne.currentTarget.style.transform="scale(1.1)")},onMouseLeave:ne=>{ne.currentTarget.style.transform="scale(1)"},"aria-label":"Me Gusta",children:a.jsx("svg",{width:n,height:n,viewBox:"0 0 51 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transition:"fill 0.3s, stroke 0.3s"},children:a.jsx("path",{d:"M4.25 18.0968C4.25004 15.7321 4.96739 13.4231 6.30728 11.4746C7.64718 9.52616 9.5466 8.02997 11.7547 7.18367C13.9627 6.33737 16.3756 6.18077 18.6745 6.73454C20.9735 7.28832 23.0504 8.52642 24.6309 10.2853C24.7422 10.4044 24.8768 10.4992 25.0263 10.5641C25.1758 10.629 25.337 10.6625 25.5 10.6625C25.663 10.6625 25.8242 10.629 25.9737 10.5641C26.1232 10.4992 26.2578 10.4044 26.3691 10.2853C27.9447 8.51499 30.022 7.26648 32.3247 6.70598C34.6274 6.14548 37.0462 6.29956 39.2591 7.14773C41.472 7.99589 43.3742 9.49791 44.7124 11.4539C46.0505 13.4098 46.7613 15.7269 46.75 18.0968C46.75 22.9631 43.5625 26.5968 40.375 29.7843L28.7045 41.0745C28.3085 41.5292 27.8203 41.8945 27.2723 42.1461C26.7243 42.3977 26.1291 42.5298 25.5261 42.5336C24.9231 42.5374 24.3263 42.4129 23.7751 42.1682C23.224 41.9236 22.7312 41.5645 22.3295 41.1148L10.625 29.7843C7.4375 26.5968 4.25 22.9843 4.25 18.0968Z",stroke:P?d:s,fill:P?d:"none",strokeWidth:"4.25",strokeLinecap:"round",strokeLinejoin:"round"})})}),f&&a.jsx("span",{style:{fontWeight:500,fontSize:16,color:l,transition:"color 0.3s",fontFamily:"system-ui, -apple-system, sans-serif"},children:PO(Q)}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:J}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation();const re=L(C).get(),{type:_,props:k,parent:M}={type:re.data.type,props:re.data.props,parent:re.data.parent},oe=L(M).get().data.nodes||[],ie=Math.max(0,oe.indexOf(C)),he={...k,translateX:(Number(k.translateX)||0)+10,translateY:(Number(k.translateY)||0)+10},ae=E(xe.createElement(_,he));R(ae,M,ie+1),I(ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),F(C)}})]})]})},HO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del icono (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"10",max:"100",value:e.iconSize||28,onChange:n=>r(s=>s.iconSize=parseInt(n.target.value)||28)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#000000",onChange:n=>r(s=>s.iconColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color cuando est activo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.likedColor||"#ef4444",onChange:n=>r(s=>s.likedColor=n.target.value)})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del contador"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.countColor||"#000000",onChange:n=>r(s=>s.countColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#000000",onChange:n=>r(s=>s.backgroundColor=n.target.value||"transparent")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre icono y contador (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.gap||10,onChange:n=>r(s=>s.gap=parseInt(n.target.value)||10)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del botn (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.padding||8,onChange:n=>r(s=>s.padding=parseInt(n.target.value)||8)})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCount!==!1,onChange:n=>r(s=>s.showCount=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar contador"})]})]})},{label:"Configuracin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contador inicial"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",value:e.initialCount||1e3,onChange:n=>r(s=>s.initialCount=parseInt(n.target.value)||1e3)}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Valor inicial del contador (se usa si no hay sectionId o si no existe en BD)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"ID de Seccin (Opcional)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sectionId||"",onChange:n=>r(s=>s.sectionId=n.target.value),placeholder:"Ej: seccion-1, blog-post-123"}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Si se proporciona, los likes se guardarn en Supabase. Si no, funcionar solo localmente."})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};Xl.craft={displayName:"Me Gusta",props:{sectionId:"",initialCount:1e3,iconSize:28,iconColor:"#000000",countColor:"#000000",backgroundColor:"transparent",likedColor:"#ef4444",showCount:!0,gap:10,padding:8,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:HO}};const ma=({logoText:r="Akaru",logoImageUrl:e="",showLogo:n=!0,showLogoText:s=!0,logoSize:l=32,logoTextSize:i=22,logoTextColor:d="#ffffff",navItems:f=JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro"},{label:"Tribus",actionType:"section",sectionName:"tribus"},{label:"Fauna",actionType:"section",sectionName:"fauna"},{label:"Flora",actionType:"section",sectionName:"flora"},{label:"Usos",actionType:"section",sectionName:"usos"},{label:"Agua",actionType:"section",sectionName:"agua"},{label:"Cultura",actionType:"section",sectionName:"cultura"},{label:"Geografa",actionType:"section",sectionName:"geografia"}]),backgroundColor:p="#1a1a1a",itemColor:m="#ffffff",itemHoverColor:v="#ff6b35",activeItemColor:b="#ff6b35",itemFontSize:y=14,itemSpacing:j=24,paddingX:C=32,paddingY:w=16,layout:T="horizontal",logoPosition:z="left",itemsPosition:S="center",showSeparator:R=!0,separatorColor:I="#666666",translateX:F=0,translateY:E=0,zIndex:L=100,opacity:P=1,width:Y="100%",height:Q="auto",isSticky:X=!1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe(de=>({selected:de.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_}}=De(),k=ft(),M=de=>{de.stopPropagation(),de.preventDefault();const me=de.clientX,ge=de.clientY,Ne=Number(F)||0,ve=Number(E)||0,Te=Ae=>{const Me=Ae.clientX-me,Nt=Ae.clientY-ge;K(oa=>{oa.translateX=Ne+Me,oa.translateY=ve+Nt})},ye=()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",ye)};document.addEventListener("mousemove",Te),document.addEventListener("mouseup",ye)};let q=[];try{q=typeof f=="string"?JSON.parse(f):f}catch{q=[]}const oe=(de,me)=>{if(me.preventDefault(),de.actionType==="section"){const Ne=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,ve=new URLSearchParams;Ne&&ve.set("site",Ne),de.sectionName&&ve.set("section",de.sectionName);const Te=de.sectionName?`/editor?${ve.toString()}`:"";if(!Te)return;k(Te);return}if(de.actionType==="external"){const Ne=(de.externalUrl||"").trim();if(!Ne)return;typeof window<"u"&&window.open(Ne,de.newTab?"_blank":"_self");return}const ge=(de.route||"").trim();if(ge){if(ge.startsWith("#")){const Ne=document.querySelector(ge);Ne&&Ne.scrollIntoView({behavior:"smooth",block:"start"});return}k(ge)}},ie={display:"flex",flexDirection:T==="vertical"?"column":"row",alignItems:"center",justifyContent:"space-between",backgroundColor:p,padding:`${w}px ${C}px`,width:typeof Y=="number"?`${Y}px`:Y,height:typeof Q=="number"?`${Q}px`:Q,transform:`translate(${Number(F)||0}px, ${Number(E)||0}px)`,opacity:Math.max(0,Math.min(1,Number(P)||1)),position:X?"sticky":"relative",top:X?0:"auto",zIndex:Number(L)||100,boxSizing:"border-box",outline:O?"2px dashed #3b82f6":void 0},he={display:"flex",alignItems:"center",gap:"10px",order:z==="right"?2:0},ae={display:"flex",flexDirection:T==="vertical"?"column":"row",alignItems:"center",gap:`${j}px`,justifyContent:S==="center"?"center":S==="right"?"flex-end":"flex-start",flex:1},A=de=>({color:m,fontSize:`${y}px`,textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:R&&!de?`${j}px`:"0"}),$={color:I,fontSize:`${y}px`,userSelect:"none"};return a.jsxs("nav",{ref:de=>V(le(de)),style:ie,children:[(n||s)&&a.jsxs("div",{style:he,children:[n&&(e?a.jsx("img",{src:e,alt:r,style:{height:`${l}px`,width:"auto",objectFit:"contain"}}):a.jsxs("svg",{width:l,height:l,viewBox:"0 0 24 24",fill:"none",style:{flexShrink:0},children:[a.jsx("path",{d:"M12 2L2 20h20L12 2z",stroke:d,strokeWidth:"2",fill:"none"}),a.jsx("path",{d:"M12 8L7 16h10L12 8z",stroke:d,strokeWidth:"1.5",fill:"none"})]})),s&&r&&a.jsx("span",{style:{color:d,fontSize:`${i}px`,fontWeight:"bold",letterSpacing:"1px"},children:r})]}),a.jsx("div",{style:ae,children:q.map((de,me)=>a.jsxs(xe.Fragment,{children:[R&&me>0&&a.jsx("span",{style:$,children:"|"}),a.jsx("a",{href:"#",style:A(me===0),onClick:ge=>oe(de,ge),onMouseEnter:ge=>{ge.currentTarget.style.color=v},onMouseLeave:ge=>{ge.currentTarget.style.color=m},children:de.label})]},me))}),O&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:M}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:de=>{de.preventDefault(),de.stopPropagation();const me=_(H).get(),{type:ge,props:Ne,parent:ve}={type:me.data.type,props:me.data.props,parent:me.data.parent},ye=_(ve).get().data.nodes||[],Ae=Math.max(0,ye.indexOf(H)),Me={...Ne,translateX:(Number(Ne.translateX)||0)+10,translateY:(Number(Ne.translateY)||0)+10},Nt=re(xe.createElement(ge,Me));J(Nt,ve,Ae+1),te(Nt.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:de=>{de.preventDefault(),de.stopPropagation(),ne(H)}})]})]})},$O=()=>{const{actions:{setProp:r},props:e}=pe(v=>({props:v.data.props})),{upload:n,isUploading:s}=Bt("Assets");let l=[];try{l=typeof e.navItems=="string"?JSON.parse(e.navItems):e.navItems||[]}catch{l=[]}const i=v=>{r(b=>b.navItems=JSON.stringify(v))},d=()=>{const v=[...l,{label:"Nuevo",actionType:"section",sectionName:"",route:"",externalUrl:"",newTab:!0}];i(v)},f=v=>{const b=l.filter((y,j)=>j!==v);i(b)},p=(v,b,y)=>{const j=[...l];j[v]={...j[v],[b]:y},i(j)},m=(v,b)=>{const y=[...l],j=v+b;j<0||j>=y.length||([y[v],y[j]]=[y[j],y[v]],i(y))};return a.jsx(Be,{tabs:[{label:"Logo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLogo!==!1,onChange:v=>r(b=>b.showLogo=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar imagen"})]}),e.showLogo!==!1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Imagen"}),a.jsx("div",{className:"d-flex gap-2",children:a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async v=>{const b=v.target.files?.[0];if(!b)return;const y=await n(b);y&&r(j=>j.logoImageUrl=y)},disabled:s})}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."}),e.logoImageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:e.logoImageUrl,alt:"Logo preview",style:{height:"30px",objectFit:"contain"}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.logoSize||32,onChange:v=>r(b=>b.logoSize=Number(v.target.value))})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLogoText!==!1,onChange:v=>r(b=>b.showLogoText=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar texto"})]}),e.showLogoText!==!1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Logo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.logoText||"",onChange:v=>r(b=>b.logoText=v.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao texto (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.logoTextSize||22,onChange:v=>r(b=>b.logoTextSize=Number(v.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.logoTextColor||"#ffffff",onChange:v=>r(b=>b.logoTextColor=v.target.value)})]})]})]})},{label:"Men",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx("label",{className:"form-label mb-0",children:"Elementos del men"}),a.jsxs("div",{className:"border rounded p-2 bg-light",children:[a.jsx("div",{className:"d-grid gap-2",children:l.map((v,b)=>a.jsxs("div",{className:"card p-2",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsxs("div",{className:"btn-group btn-group-sm",children:[a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>m(b,-1),disabled:b===0,children:""}),a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>m(b,1),disabled:b===l.length-1,children:""})]}),a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>f(b),children:a.jsx("i",{className:"bi bi-trash"})})]}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Etiqueta",value:v.label,onChange:y=>p(b,"label",y.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:v.actionType||"none",onChange:y=>p(b,"actionType",y.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),v.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"Nombre seccin (ej: foro)",value:v.sectionName||"",onChange:y=>p(b,"sectionName",y.target.value)}),v.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-1",children:[a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"URL (https://...)",value:v.externalUrl||"",onChange:y=>p(b,"externalUrl",y.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:v.newTab!==!1,onChange:y=>p(b,"newTab",y.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Nueva pestaa"})]})]}),v.actionType==="route"&&a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"Ruta (ej: /login)",value:v.route||"",onChange:y=>p(b,"route",y.target.value)})]},b))}),a.jsxs("button",{className:"btn btn-sm btn-primary w-100 mt-2",onClick:d,children:[a.jsx("i",{className:"bi bi-plus-circle me-1"})," Agregar Item"]})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:v=>r(b=>b.backgroundColor=v.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Items"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.itemColor,onChange:v=>r(b=>b.itemColor=v.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Hover"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.itemHoverColor,onChange:v=>r(b=>b.itemHoverColor=v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Fuente"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.itemFontSize,onChange:v=>r(b=>b.itemFontSize=Number(v.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado Items"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.itemSpacing,onChange:v=>r(b=>b.itemSpacing=Number(v.target.value))})]}),a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.isSticky,onChange:v=>r(b=>b.isSticky=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Pegajoso (Sticky)"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Y / X"}),a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("input",{className:"form-control",type:"number",value:e.paddingY,onChange:v=>r(b=>b.paddingY=Number(v.target.value)),placeholder:"Y"}),a.jsx("input",{className:"form-control",type:"number",value:e.paddingX,onChange:v=>r(b=>b.paddingX=Number(v.target.value)),placeholder:"X"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Separador"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{className:"form-check-input m-0",type:"checkbox",checked:e.showSeparator!==!1,onChange:v=>r(b=>b.showSeparator=v.target.checked)}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.separatorColor,onChange:v=>r(b=>b.separatorColor=v.target.value),disabled:!e.showSeparator})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.zIndex,onChange:v=>r(b=>b.zIndex=Number(v.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Ancho"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.width??"100%",onChange:v=>{const b=v.target.value;r(y=>y.width=b===""?"100%":isNaN(Number(b))?b:Number(b))}})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Alto"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.height??"auto",onChange:v=>{const b=v.target.value;r(y=>y.height=b===""?"auto":isNaN(Number(b))?b:Number(b))}})]})]})]})}]})},YO={logoText:"Akaru",logoImageUrl:"/src/assets/logo animus blanco 1.svg",showLogo:!0,showLogoText:!0,logoSize:32,logoTextSize:22,logoTextColor:"#ffffff",navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro"},{label:"Tribus",actionType:"section",sectionName:"tribus"},{label:"Fauna",actionType:"section",sectionName:"fauna"},{label:"Flora",actionType:"section",sectionName:"flora"},{label:"Usos",actionType:"section",sectionName:"usos"},{label:"Agua",actionType:"section",sectionName:"agua"},{label:"Cultura",actionType:"section",sectionName:"cultura"},{label:"Geografa",actionType:"section",sectionName:"geografia"}]),backgroundColor:"#1a1a1a",itemColor:"#ffffff",itemHoverColor:"#ff6b35",activeItemColor:"#ff6b35",itemFontSize:14,itemSpacing:24,paddingX:32,paddingY:16,layout:"horizontal",logoPosition:"left",itemsPosition:"center",showSeparator:!0,separatorColor:"#666666",translateX:0,translateY:0,zIndex:100,opacity:1,width:"100%",height:"auto",isSticky:!1};ma.craft={props:YO,displayName:"Navbar",related:{settings:$O}};const Ra=({backgroundImage:r="",overlayColor:e="rgba(0, 0, 0, 0.3)",height:n=500,minHeight:s=400,padding:l=0,translateX:i=0,translateY:d=0,zIndex:f=0,opacity:p=1,children:m})=>{const{id:v,connectors:{connect:b,drag:y},actions:{setProp:j},selected:C}=pe(E=>({selected:E.events.selected})),{actions:{add:w,selectNode:T,delete:z},query:{createNode:S,node:R}}=De(),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(i)||0,Q=Number(d)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={position:"relative",width:"100%",height:`${n}px`,minHeight:`${s}px`,backgroundImage:r?`url(${r})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#1a1a1a",padding:`${l}px`,transform:`translate(${Number(i)||0}px, ${Number(d)||0}px)`,opacity:Math.max(0,Math.min(1,Number(p)||1)),zIndex:Number(f)||0,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",outline:C?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:E=>b(y(E)),style:F,children:[e&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:e,zIndex:1}}),a.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:m}),C&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();const L=R(v).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=R(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(v)),le={...Y,translateX:(Number(Y.translateX)||0)+10,translateY:(Number(Y.translateY)||0)+10},K=S(xe.createElement(P,le));w(K,Q,V+1),T(K.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),z(v)}})]})]})},FO=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Imagen",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de imagen de fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:l=>r(i=>i.backgroundImage=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:"Pega aqu el link o URL de la imagen que quieres usar como fondo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"O subir imagen desde tu computadora"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),l.target.value=null)},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"La imagen se subir a Supabase y se guardar automticamente"})]}),e.backgroundImage&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:800,step:10,value:e.height??500,onChange:l=>r(i=>i.height=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.height??500,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura mnima (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:600,step:10,value:e.minHeight??400,onChange:l=>r(i=>i.minHeight=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.minHeight??400,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de overlay"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.overlayColor?.replace(/rgba?\(([^)]+)\)/,(l,i)=>{const[d,f,p,m]=i.split(",").map(v=>v.trim());return m?"#"+[d,f,p].map(b=>{const y=parseInt(b).toString(16);return y.length===1?"0"+y:y}).join(""):l})||"#000000",onChange:l=>{const i=l.target.value,d=parseInt(i.slice(1,3),16),f=parseInt(i.slice(3,5),16),p=parseInt(i.slice(5,7),16),m=e.overlayColor?.includes("rgba")&&e.overlayColor.match(/[\d.]+$/)?.[0]||"0.3";r(v=>v.overlayColor=`rgba(${d}, ${f}, ${p}, ${m})`)}}),a.jsx("input",{type:"text",className:"form-control form-control-sm mt-2",value:e.overlayColor??"rgba(0, 0, 0, 0.3)",onChange:l=>r(i=>i.overlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.3)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:5,value:e.padding??0,onChange:l=>r(i=>i.padding=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??0,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ra.craft={displayName:"Hero Section",props:{backgroundImage:"",overlayColor:"rgba(0, 0, 0, 0.3)",height:500,minHeight:400,padding:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:FO}};const gh=({title:r="Noticias Recientes",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:s="#ff6b35",backgroundColor:l="#1a1a1a",padding:i=60,gap:d=24,newsItems:f="[]",translateX:p=0,translateY:m=0,zIndex:v=0,opacity:b=1})=>{const{id:y,connectors:{connect:j,drag:C},actions:{setProp:w},selected:T}=pe(V=>({selected:V.events.selected})),{actions:{add:z,selectNode:S,delete:R},query:{createNode:I,node:F}}=De(),E=V=>{V.stopPropagation(),V.preventDefault();const le=V.clientX,K=V.clientY,O=Number(p)||0,J=Number(m)||0,te=re=>{const _=re.clientX-le,k=re.clientY-K;w(M=>{M.translateX=O+_,M.translateY=J+k})},ne=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)},L=D.useMemo(()=>JSON.stringify([{id:1,image:"",category:"Ambiente",title:"Por qu la Amazonia no produce realmente el 20% del oxigeno del mundo",size:"large"},{id:2,image:"",category:"Oceano",title:"Descubre las maravillas del oceano",size:"small"},{id:3,image:"",category:"Animales",title:"Se estn domesticando los zorros?",size:"small"}]),[]),P=f&&f!=="[]"?f:L,Y=D.useMemo(()=>{try{return typeof P=="string"?JSON.parse(P):P}catch{return[]}},[P]),Q=Y.find(V=>V.size==="large")||Y[0],X=Y.filter(V=>V.size==="small"||V.id!==Q?.id).slice(0,2),H={backgroundColor:l,padding:`${i}px`,transform:`translate(${Number(p)||0}px, ${Number(m)||0}px)`,opacity:Math.max(0,Math.min(1,Number(b)||1)),zIndex:Number(v)||0,position:"relative",outline:T?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:V=>j(C(V)),style:H,children:[a.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:s}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:`${d}px`,width:"100%"},children:[Q&&a.jsxs("div",{style:{position:"relative",minHeight:"400px",borderRadius:"8px",overflow:"hidden",cursor:"pointer"},children:[Q.image&&a.jsx("img",{src:Q.image,alt:Q.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),a.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",padding:"32px",color:"#ffffff"},children:[a.jsx("span",{style:{color:s,fontSize:"14px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:Q.category}),a.jsx("h3",{style:{color:"#ffffff",fontSize:"24px",fontWeight:"bold",marginTop:"8px",marginBottom:0},children:Q.title})]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:`${d}px`},children:X.map((V,le)=>a.jsxs("div",{style:{position:"relative",minHeight:"190px",borderRadius:"8px",overflow:"hidden",cursor:"pointer"},children:[V.image&&a.jsx("img",{src:V.image,alt:V.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),a.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",padding:"20px",color:"#ffffff"},children:[a.jsx("span",{style:{color:s,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:V.category}),a.jsx("h4",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"bold",marginTop:"6px",marginBottom:0},children:V.title})]})]},V.id||le))})]}),T&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:E}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation();const le=F(y).get(),{type:K,props:O,parent:J}={type:le.data.type,props:le.data.props,parent:le.data.parent},ne=F(J).get().data.nodes||[],re=Math.max(0,ne.indexOf(y)),_={...O,translateX:(Number(O.translateX)||0)+10,translateY:(Number(O.translateY)||0)+10},k=I(xe.createElement(K,_));z(k,J,re+1),S(k.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation(),R(y)}})]})]})},XO=()=>{const{actions:{setProp:r},props:e}=pe(i=>({props:i.data.props}));let n=[];try{n=typeof e.newsItems=="string"?JSON.parse(e.newsItems):e.newsItems||[]}catch{n=[]}const s=i=>{r(d=>d.newsItems=JSON.stringify(i))},l=(i,d,f)=>{const p=[...n];p[i]={...p[i],[d]:f},s(p)};return a.jsx(Be,{tabs:[{label:"Ttulo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Noticias Recientes",onChange:i=>r(d=>d.title=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:i=>r(d=>d.titleColor=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:i=>r(d=>d.titleFontSize=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:i=>r(d=>d.accentColor=i.target.value)})]})]})},{label:"Noticias",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx("label",{className:"form-label mb-0",children:"Elementos de noticias"}),a.jsx("div",{className:"border rounded p-2 bg-light",style:{maxHeight:"400px",overflowY:"auto"},children:n.map((i,d)=>a.jsxs("div",{className:"card p-2 mb-2",children:[a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL de imagen",value:i.image||"",onChange:f=>l(d,"image",f.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Categora",value:i.category||"",onChange:f=>l(d,"category",f.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("textarea",{className:"form-control form-control-sm",placeholder:"Ttulo",rows:2,value:i.title||"",onChange:f=>l(d,"title",f.target.value)})}),a.jsx("div",{children:a.jsxs("select",{className:"form-select form-select-sm",value:i.size||"small",onChange:f=>l(d,"size",f.target.value),children:[a.jsx("option",{value:"small",children:"Pequea"}),a.jsx("option",{value:"large",children:"Grande"})]})})]},i.id||d))})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:i=>r(d=>d.backgroundColor=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:i=>r(d=>d.padding=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre cards (px)"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:48,step:4,value:e.gap??24,onChange:i=>r(d=>d.gap=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??24,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:i=>r(d=>d.translateX=Number(i.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:i=>r(d=>d.translateY=Number(i.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:i=>r(d=>d.zIndex=Number(i.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:i=>r(d=>d.opacity=Number(i.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};gh.craft={displayName:"Seccin de Noticias",props:{title:"Noticias Recientes",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",padding:60,gap:24,newsItems:JSON.stringify([{id:1,image:"",category:"Ambiente",title:"Por qu la Amazonia no produce realmente el 20% del oxigeno del mundo",size:"large"},{id:2,image:"",category:"Oceano",title:"Descubre las maravillas del oceano",size:"small"},{id:3,image:"",category:"Animales",title:"Se estn domesticando los zorros?",size:"small"}]),translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:XO}};const vh=({title:r="Conoce sobre",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:s="#ff6b35",backgroundColor:l="#1a1a1a",padding:i=60,gap:d=16,columns:f=4,categories:p="[]",translateX:m=0,translateY:v=0,zIndex:b=0,opacity:y=1})=>{const{id:j,connectors:{connect:C,drag:w},actions:{setProp:T},selected:z}=pe(H=>({selected:H.events.selected})),{actions:{add:S,selectNode:R,delete:I},query:{createNode:F,node:E}}=De(),L=H=>{H.stopPropagation(),H.preventDefault();const V=H.clientX,le=H.clientY,K=Number(m)||0,O=Number(v)||0,J=ne=>{const re=ne.clientX-V,_=ne.clientY-le;T(k=>{k.translateX=K+re,k.translateY=O+_})},te=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",te)},P=D.useMemo(()=>JSON.stringify([{id:1,name:"Tribus indigenas",image:""},{id:2,name:"Fauna",image:""},{id:3,name:"Flora",image:""},{id:4,name:"Usos sostenibles",image:""},{id:5,name:"Agua",image:""},{id:6,name:"Cultura",image:""},{id:7,name:"Geografia",image:""}]),[]),Y=p&&p!=="[]"?p:P,Q=D.useMemo(()=>{try{return typeof Y=="string"?JSON.parse(Y):Y}catch{return[]}},[Y]),X={backgroundColor:l,padding:`${i}px`,transform:`translate(${Number(m)||0}px, ${Number(v)||0}px)`,opacity:Math.max(0,Math.min(1,Number(y)||1)),zIndex:Number(b)||0,position:"relative",outline:z?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:H=>C(w(H)),style:X,children:[a.jsx("div",{style:{marginBottom:"40px",textAlign:"center"},children:a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0,display:"inline-block",borderBottom:`3px solid ${s}`,paddingBottom:"8px"},children:r})}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${f}, 1fr)`,gap:`${d}px`,width:"100%"},children:Q.map((H,V)=>a.jsxs("div",{style:{position:"relative",aspectRatio:"1",minHeight:"200px",borderRadius:"8px",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease"},onMouseEnter:le=>{le.currentTarget.style.transform="scale(1.05)"},onMouseLeave:le=>{le.currentTarget.style.transform="scale(1)"},children:[H.image&&a.jsx("img",{src:H.image,alt:H.name,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),!H.image&&a.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#2a2a2a",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"14px"},children:"Sin imagen"}),a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)",padding:"20px",color:"#ffffff"},children:a.jsx("h3",{style:{color:"#ffffff",fontSize:"18px",fontWeight:"bold",margin:0,borderBottom:`2px solid ${s}`,paddingBottom:"4px",display:"inline-block"},children:H.name})})]},H.id||V))}),z&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:L}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation();const V=E(j).get(),{type:le,props:K,parent:O}={type:V.data.type,props:V.data.props,parent:V.data.parent},te=E(O).get().data.nodes||[],ne=Math.max(0,te.indexOf(j)),re={...K,translateX:(Number(K.translateX)||0)+10,translateY:(Number(K.translateY)||0)+10},_=F(xe.createElement(le,re));S(_,O,ne+1),R(_.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation(),I(j)}})]})]})},GO=()=>{const{actions:{setProp:r},props:e}=pe(m=>({props:m.data.props})),{upload:n,isUploading:s}=Bt("Assets");let l=[];try{l=typeof e.categories=="string"?JSON.parse(e.categories):e.categories||[]}catch{l=[]}const i=m=>{r(v=>v.categories=JSON.stringify(m))},d=(m,v,b)=>{const y=[...l];y[m]={...y[m],[v]:b},i(y)},f=()=>{const m=[...l,{id:Date.now(),name:"Nueva categora",image:""}];i(m)},p=m=>{const v=l.filter((b,y)=>y!==m);i(v)};return a.jsx(Be,{tabs:[{label:"Ttulo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Conoce sobre",onChange:m=>r(v=>v.title=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:m=>r(v=>v.titleColor=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:m=>r(v=>v.titleFontSize=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:m=>r(v=>v.accentColor=m.target.value)})]})]})},{label:"Categoras",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx("label",{className:"form-label mb-0",children:"Categoras"}),a.jsxs("button",{className:"btn btn-sm btn-primary",onClick:f,children:[a.jsx("i",{className:"bi bi-plus"})," Agregar"]})]}),a.jsx("div",{className:"border rounded p-2 bg-light",style:{maxHeight:"400px",overflowY:"auto"},children:l.map((m,v)=>a.jsxs("div",{className:"card p-2 mb-2",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsxs("span",{className:"small text-muted",children:["#",v+1]}),a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>p(v),children:a.jsx("i",{className:"bi bi-trash"})})]}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre de categora",value:m.name||"",onChange:b=>d(v,"name",b.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL de imagen",value:m.image||"",onChange:b=>d(v,"image",b.target.value)})}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async b=>{const y=b.target.files?.[0];if(!y)return;const j=await n(y);j&&(d(v,"image",j),b.target.value=null)},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."})]})]},m.id||v))})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:m=>r(v=>v.backgroundColor=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"range",className:"form-range",min:2,max:6,step:1,value:e.columns??4,onChange:m=>r(v=>v.columns=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.columns??4," columnas"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:m=>r(v=>v.padding=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre cards (px)"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:48,step:4,value:e.gap??16,onChange:m=>r(v=>v.gap=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??16,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:m=>r(v=>v.translateX=Number(m.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:m=>r(v=>v.translateY=Number(m.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:m=>r(v=>v.zIndex=Number(m.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:m=>r(v=>v.opacity=Number(m.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};vh.craft={displayName:"Grid de Categoras",props:{title:"Conoce sobre",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",padding:60,gap:16,columns:4,categories:JSON.stringify([{id:1,name:"Tribus indigenas",image:""},{id:2,name:"Fauna",image:""},{id:3,name:"Flora",image:""},{id:4,name:"Usos sostenibles",image:""},{id:5,name:"Agua",image:""},{id:6,name:"Cultura",image:""},{id:7,name:"Geografia",image:""}]),translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:GO}};const bh=({title:r="Fotografa Destacada",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:s="#ff6b35",backgroundColor:l="#1a1a1a",image:i="",caption:d="La Densidad Infinita: 24 horas en el Parque Nacional Man",captionColor:f="#ffffff",captionFontSize:p=18,padding:m=60,imageHeight:v=500,translateX:b=0,translateY:y=0,zIndex:j=0,opacity:C=1})=>{const{id:w,connectors:{connect:T,drag:z},actions:{setProp:S},selected:R}=pe(X=>({selected:X.events.selected})),{actions:{add:I,selectNode:F,delete:E},query:{createNode:L,node:P}}=De(),Y=X=>{X.stopPropagation(),X.preventDefault();const H=X.clientX,V=X.clientY,le=Number(b)||0,K=Number(y)||0,O=te=>{const ne=te.clientX-H,re=te.clientY-V;S(_=>{_.translateX=le+ne,_.translateY=K+re})},J=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",J)},Q={backgroundColor:l,padding:`${m}px`,transform:`translate(${Number(b)||0}px, ${Number(y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(C)||1)),zIndex:Number(j)||0,position:"relative",outline:R?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:X=>T(z(X)),style:Q,children:[a.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:s}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),a.jsx("div",{style:{position:"relative",width:"100%",height:`${v}px`,borderRadius:"8px",overflow:"hidden",marginBottom:"20px"},children:i?a.jsx("img",{src:i,alt:d,style:{width:"100%",height:"100%",objectFit:"cover"}}):a.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#2a2a2a",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"16px"},children:"Sin imagen"})}),d&&a.jsx("p",{style:{color:f,fontSize:`${p}px`,margin:0,textAlign:"center"},children:d}),R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:Y}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:X=>{X.preventDefault(),X.stopPropagation();const H=P(w).get(),{type:V,props:le,parent:K}={type:H.data.type,props:H.data.props,parent:H.data.parent},J=P(K).get().data.nodes||[],te=Math.max(0,J.indexOf(w)),ne={...le,translateX:(Number(le.translateX)||0)+10,translateY:(Number(le.translateY)||0)+10},re=L(xe.createElement(V,ne));I(re,K,te+1),F(re.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:X=>{X.preventDefault(),X.stopPropagation(),E(w)}})]})]})},VO=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Fotografa Destacada",onChange:l=>r(i=>i.title=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.image??"",onChange:l=>r(i=>i.image=l.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.image=d),l.target.value=null)},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin/Caption"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.caption??"",onChange:l=>r(i=>i.caption=l.target.value),placeholder:"Descripcin de la fotografa..."})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:l=>r(i=>i.backgroundColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:l=>r(i=>i.titleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:l=>r(i=>i.titleFontSize=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:l=>r(i=>i.accentColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de imagen (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:800,step:20,value:e.imageHeight??500,onChange:l=>r(i=>i.imageHeight=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.imageHeight??500,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de caption"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.captionColor??"#ffffff",onChange:l=>r(i=>i.captionColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de caption (px)"}),a.jsx("input",{type:"range",className:"form-range",min:12,max:32,step:1,value:e.captionFontSize??18,onChange:l=>r(i=>i.captionFontSize=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.captionFontSize??18,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:l=>r(i=>i.padding=Number(l.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};bh.craft={displayName:"Fotografa Destacada",props:{title:"Fotografa Destacada",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",image:"",caption:"La Densidad Infinita: 24 horas en el Parque Nacional Man",captionColor:"#ffffff",captionFontSize:18,padding:60,imageHeight:500,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:VO}};const xh=({title:r="Visita el foro",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:s="#ff6b35",backgroundColor:l="#1a1a1a",description:i="Un espacio diseado para conectar, aprender y compartir experiencias. Te estamos esperando!",descriptionColor:d="#ffffff",descriptionFontSize:f=18,buttonText:p="Entrar ahora",buttonColor:m="#ff6b35",buttonTextColor:v="#ffffff",buttonHoverColor:b="#e55a2b",padding:y=60,actionType:j="route",route:C="/forum",sectionName:w="",externalUrl:T="",externalNewTab:z=!0,translateX:S=0,translateY:R=0,zIndex:I=0,opacity:F=1})=>{const{id:E,connectors:{connect:L,drag:P},actions:{setProp:Y},selected:Q}=pe(re=>({selected:re.events.selected})),{actions:{add:X,selectNode:H,delete:V},query:{createNode:le,node:K}}=De(),O=ft(),J=re=>{re.stopPropagation(),re.preventDefault();const _=re.clientX,k=re.clientY,M=Number(S)||0,q=Number(R)||0,oe=he=>{const ae=he.clientX-_,A=he.clientY-k;Y($=>{$.translateX=M+ae,$.translateY=q+A})},ie=()=>{document.removeEventListener("mousemove",oe),document.removeEventListener("mouseup",ie)};document.addEventListener("mousemove",oe),document.addEventListener("mouseup",ie)},te=re=>{if(re.preventDefault(),j==="section"){const k=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,M=new URLSearchParams;k&&M.set("site",k),w&&M.set("section",w);const q=w?`/editor?${M.toString()}`:"";if(!q)return;O(q);return}if(j==="external"){const k=(T||"").trim();if(!k)return;typeof window<"u"&&window.open(k,z?"_blank":"_self");return}const _=(C||"").trim();_&&O(_)},ne={backgroundColor:l,padding:`${y}px`,transform:`translate(${Number(S)||0}px, ${Number(R)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(I)||0,position:"relative",outline:Q?"2px dashed #3b82f6":void 0,textAlign:"center"};return a.jsxs("div",{ref:re=>L(P(re)),style:ne,children:[a.jsxs("div",{style:{marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:s}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),i&&a.jsx("p",{style:{color:d,fontSize:`${f}px`,marginBottom:"32px",maxWidth:"600px",marginLeft:"auto",marginRight:"auto",lineHeight:1.6},children:i}),a.jsx("button",{onClick:te,style:{backgroundColor:m,color:v,border:"none",padding:"16px 48px",fontSize:"18px",fontWeight:"bold",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor=b},onMouseLeave:re=>{re.currentTarget.style.backgroundColor=m},children:p}),Q&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:J}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:re=>{re.preventDefault(),re.stopPropagation();const _=K(E).get(),{type:k,props:M,parent:q}={type:_.data.type,props:_.data.props,parent:_.data.parent},ie=K(q).get().data.nodes||[],he=Math.max(0,ie.indexOf(E)),ae={...M,translateX:(Number(M.translateX)||0)+10,translateY:(Number(M.translateY)||0)+10},A=le(xe.createElement(k,ae));X(A,q,he+1),H(A.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:re=>{re.preventDefault(),re.stopPropagation(),V(E)}})]})]})},KO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Visita el foro",onChange:n=>r(s=>s.title=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.description??"",onChange:n=>r(s=>s.description=n.target.value),placeholder:"Descripcin del CTA..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.buttonText??"Entrar ahora",onChange:n=>r(s=>s.buttonText=n.target.value)})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"route",onChange:n=>r(s=>s.actionType=n.target.value),children:[a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Ir a seccin"}),a.jsx("option",{value:"external",children:"Enlace externo"})]})]}),(e.actionType||"route")==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta (Ej: /forum)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.route??"/forum",onChange:n=>r(s=>s.route=n.target.value),placeholder:"/forum"})]}),(e.actionType||"route")==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(s=>s.sectionName=n.target.value),placeholder:"foro"})]}),(e.actionType||"route")==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl??"",onChange:n=>r(s=>s.externalUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"forum-cta-ext-newtab",className:"form-check-input",type:"checkbox",checked:!!e.externalNewTab,onChange:n=>r(s=>s.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"forum-cta-ext-newtab",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:n=>r(s=>s.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:n=>r(s=>s.titleFontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:n=>r(s=>s.accentColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de descripcin"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.descriptionColor??"#ffffff",onChange:n=>r(s=>s.descriptionColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de descripcin (px)"}),a.jsx("input",{type:"range",className:"form-range",min:12,max:32,step:1,value:e.descriptionFontSize??18,onChange:n=>r(s=>s.descriptionFontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.descriptionFontSize??18,"px"]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor??"#ff6b35",onChange:n=>r(s=>s.buttonColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color texto botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor??"#ffffff",onChange:n=>r(s=>s.buttonTextColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color hover botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonHoverColor??"#e55a2b",onChange:n=>r(s=>s.buttonHoverColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:n=>r(s=>s.padding=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};xh.craft={displayName:"CTA Foro",props:{title:"Visita el foro",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",description:"Un espacio diseado para conectar, aprender y compartir experiencias. Te estamos esperando!",descriptionColor:"#ffffff",descriptionFontSize:18,buttonText:"Entrar ahora",buttonColor:"#ff6b35",buttonTextColor:"#ffffff",buttonHoverColor:"#e55a2b",padding:60,actionType:"route",route:"/forum",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:KO}};const vy=({showNavbar:r=!0,showHero:e=!0,showNews:n=!0,showCategories:s=!0,showFeaturedPhoto:l=!0,showForumCTA:i=!0,translateX:d=0,translateY:f=0,zIndex:p=0,opacity:m=1})=>{const{id:v,connectors:{connect:b,drag:y},actions:{setProp:j},selected:C}=pe(E=>({selected:E.events.selected})),{actions:{add:w,selectNode:T,delete:z},query:{createNode:S,node:R}}=De(),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(d)||0,Q=Number(f)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={position:"relative",width:"100%",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`,opacity:Math.max(0,Math.min(1,Number(m)||1)),zIndex:Number(p)||0,outline:C?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:E=>b(y(E)),style:F,children:[r&&a.jsx(ma,{}),e&&a.jsx(Ra,{}),n&&a.jsx(gh,{}),s&&a.jsx(vh,{}),l&&a.jsx(bh,{}),i&&a.jsx(xh,{}),C&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();const L=R(v).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=R(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(v)),le={...Y,translateX:(Number(Y.translateX)||0)+10,translateY:(Number(Y.translateY)||0)+10},K=S(xe.createElement(P,le));w(K,Q,V+1),T(K.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),z(v)}})]})]})},JO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar!==!1,onChange:n=>r(s=>s.showNavbar=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero!==!1,onChange:n=>r(s=>s.showHero=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNews!==!1,onChange:n=>r(s=>s.showNews=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Seccin de Noticias"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCategories!==!1,onChange:n=>r(s=>s.showCategories=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Categoras"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showFeaturedPhoto!==!1,onChange:n=>r(s=>s.showFeaturedPhoto=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Fotografa Destacada"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showForumCTA!==!1,onChange:n=>r(s=>s.showForumCTA=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar CTA Foro"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};vy.craft={displayName:"Homepage Completa",props:{showNavbar:!0,showHero:!0,showNews:!0,showCategories:!0,showFeaturedPhoto:!0,showForumCTA:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:JO}};const yh=({imageUrl:r="https://placehold.co/1280x720",title:e="Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",titleColor:n="#ffffff",titleFontSize:s=48,content:l="El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",contentColor:i="#ffffff",contentFontSize:d=18,lineHeight:f=1.6,backgroundColor:p="#1a1a1a",padding:m=60,accentColor:v="#ff6b35",imageHeight:b=500,imagePosition:y="center",showLikeButton:j=!0,likeCount:C=1e3,showCommentButton:w=!0,commentCount:T=0,commentButtonLink:z="/forum",showBackButton:S=!0,showSeparator:R=!0,separatorColor:I="#ff6b35",separatorHeight:F=2,translateX:E=0,translateY:L=0,zIndex:P=0,opacity:Y=1})=>{const{id:Q,connectors:{connect:X,drag:H},actions:{setProp:V},selected:le}=pe(A=>({selected:A.events.selected})),{actions:{add:K,selectNode:O,delete:J},query:{createNode:te,node:ne},enabled:re}=De(A=>({enabled:A.options.enabled})),_=ft(),[k,M]=D.useState(!1),[q,oe]=D.useState(C),ie=A=>$=>{$.preventDefault(),$.stopPropagation(),A()},he=A=>{A.stopPropagation()},ae=A=>{A.stopPropagation(),A.preventDefault();const $=A.clientX,de=A.clientY,me=Number(E)||0,ge=Number(L)||0,Ne=Te=>{const ye=Te.clientX-$,Ae=Te.clientY-de;V(Me=>{Me.translateX=me+ye,Me.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};return a.jsxs("div",{ref:A=>X(H(A)),style:{position:"relative",width:"100%",backgroundColor:p,padding:`${m}px`,transform:`translate(${Number(E)||0}px, ${Number(L)||0}px)`,opacity:Math.max(0,Math.min(1,Number(Y)||1)),zIndex:Number(P)||0,outline:le?"2px dashed #3b82f6":void 0},children:[a.jsxs("div",{style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"30px",alignItems:"center",zIndex:1e3,pointerEvents:"auto"},onClick:A=>A.stopPropagation(),onMouseDown:A=>A.stopPropagation(),children:[S&&a.jsx("button",{onClick:ie(()=>{_("/")}),onMouseDown:he,style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s",opacity:1,pointerEvents:"auto",zIndex:1e3},onMouseEnter:A=>{re||(A.currentTarget.style.opacity="0.8")},onMouseLeave:A=>{re||(A.currentTarget.style.opacity="1")},title:"Volver al Homepage",children:a.jsx("i",{className:"bi bi-arrow-left"})}),j&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[a.jsx("button",{onClick:ie(()=>{M(!k),oe(A=>k?A-1:A+1)}),onMouseDown:he,style:{background:"transparent",border:"none",color:k?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s, transform 0.2s",opacity:1,pointerEvents:"auto",zIndex:1e3},onMouseEnter:A=>{A.currentTarget.style.transform="scale(1.1)"},onMouseLeave:A=>{A.currentTarget.style.transform="scale(1)"},title:"Me gusta",children:a.jsx("i",{className:`bi ${k?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:q>=1e3?`${(q/1e3).toFixed(1)}k`:q})]}),w&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[a.jsx("button",{onClick:ie(()=>{z&&z.startsWith("http")?window.open(z,"_blank"):_(z||"/forum")}),onMouseDown:he,style:{background:"transparent",border:"none",color:"#ffffff",cursor:re?"default":"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s",opacity:re?.7:1,pointerEvents:re?"none":"auto"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.8"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Ir al Foro",children:a.jsx("i",{className:"bi bi-chat-dots"})}),T>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:T})]})]}),a.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",position:"relative"},children:[a.jsx("div",{style:{width:"100%",height:`${b}px`,marginBottom:"40px",position:"relative",overflow:"hidden",borderRadius:"8px"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:y}})}),a.jsx("h1",{style:{color:n,fontSize:`${s}px`,fontWeight:"bold",marginBottom:"20px",lineHeight:1.2,fontFamily:"sans-serif"},children:e}),R&&a.jsx("div",{style:{width:"100%",height:`${F}px`,backgroundColor:I,marginBottom:"30px"}}),a.jsx("div",{style:{color:i,fontSize:`${d}px`,lineHeight:f,fontFamily:"sans-serif",whiteSpace:"pre-wrap"},children:l})]}),le&&Q!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation();const $=ne(Q).get(),{type:de,props:me,parent:ge}={type:$.data.type,props:$.data.props,parent:$.data.parent},ve=ne(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(Q)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=te(xe.createElement(de,ye));K(Ae,ge,Te+1),O(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation(),J(Q)}})]})]})},WO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.imageUrl||"",onChange:n=>r(s=>s.imageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.title||"",onChange:n=>r(s=>s.title=n.target.value),placeholder:"Ttulo del artculo..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contenido del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.content||"",onChange:n=>r(s=>s.content=n.target.value),placeholder:"Contenido del artculo..."})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.likeCount||0,onChange:n=>r(s=>s.likeCount=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.commentCount||0,onChange:n=>r(s=>s.commentCount=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.commentButtonLink||"/forum",onChange:n=>r(s=>s.commentButtonLink=n.target.value),placeholder:"/forum o https://..."}),a.jsx("small",{className:"text-muted",children:"Ruta interna (ej: /forum) o URL externa (ej: https://...)"})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#1a1a1a",onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#ffffff",onChange:n=>r(s=>s.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||48,onChange:n=>r(s=>s.titleFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Contenido"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentColor||"#ffffff",onChange:n=>r(s=>s.contentColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Contenido"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentFontSize||18,onChange:n=>r(s=>s.contentFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de la Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||500,onChange:n=>r(s=>s.imageHeight=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding||60,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Separador"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.separatorColor||"#ff6b35",onChange:n=>r(s=>s.separatorColor=n.target.value)})]})]})},{label:"Botones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showBackButton,onChange:n=>r(s=>s.showBackButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Volver"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLikeButton,onChange:n=>r(s=>s.showLikeButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Like"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCommentButton,onChange:n=>r(s=>s.showCommentButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Comentarios"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSeparator,onChange:n=>r(s=>s.showSeparator=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Separador"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};yh.craft={displayName:"Artculo de Noticias",props:{imageUrl:"https://placehold.co/1280x720",title:"Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",titleColor:"#ffffff",titleFontSize:48,content:"El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",contentColor:"#ffffff",contentFontSize:18,lineHeight:1.6,backgroundColor:"#1a1a1a",padding:60,accentColor:"#ff6b35",imageHeight:500,imagePosition:"center",showLikeButton:!0,likeCount:1e3,showCommentButton:!0,commentCount:0,commentButtonLink:"/forum",showBackButton:!0,showSeparator:!0,separatorColor:"#ff6b35",separatorHeight:2,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:WO}};const by=({showNavbar:r=!0,showArticle:e=!0,navbarLogoText:n="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:l="#ffffff",navbarItemHoverColor:i="#ff6b35",activeSection:d="Noticias",articleImageUrl:f="https://placehold.co/1280x720",articleTitle:p="Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",articleContent:m="El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",articleLikeCount:v=1e3,articleCommentCount:b=0,articleCommentButtonLink:y="/forum",translateX:j=0,translateY:C=0,zIndex:w=0,opacity:T=1})=>{const{id:z,connectors:{connect:S,drag:R},actions:{setProp:I},selected:F}=pe(H=>({selected:H.events.selected})),{actions:{add:E,selectNode:L,delete:P},query:{createNode:Y,node:Q}}=De(),X=H=>{H.stopPropagation(),H.preventDefault();const V=H.clientX,le=H.clientY,K=Number(j)||0,O=Number(C)||0,J=ne=>{const re=ne.clientX-V,_=ne.clientY-le;I(k=>{k.translateX=K+re,k.translateY=O+_})},te=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",te)};return a.jsxs("div",{ref:H=>S(R(H)),style:{position:"relative",width:"100%",transform:`translate(${Number(j)||0}px, ${Number(C)||0}px)`,opacity:Math.max(0,Math.min(1,Number(T)||1)),zIndex:Number(w)||0,outline:F?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"news-navbar",logoText:n,backgroundColor:s,itemColor:l,itemHoverColor:i,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),r&&d&&a.jsx("div",{style:{paddingLeft:"60px",paddingTop:"20px",paddingBottom:"15px",backgroundColor:"#000000",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:a.jsx("button",{style:{background:"transparent",border:"none",color:"#ffffff",fontSize:"18px",fontFamily:"sans-serif",fontWeight:"600",borderBottom:"3px solid #ff6b35",paddingBottom:"8px",paddingLeft:"0",paddingRight:"0",cursor:"default",textTransform:"uppercase",letterSpacing:"1px"},children:d})}),e&&a.jsx(be,{is:yh,id:"news-article",imageUrl:f,title:p,content:m,likeCount:v,commentCount:b,commentButtonLink:y,backgroundColor:"#000000",padding:60,titleFontSize:48,contentFontSize:18,imageHeight:500})]}),F&&z!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:X}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation();const V=Q(z).get(),{type:le,props:K,parent:O}={type:V.data.type,props:V.data.props,parent:V.data.parent},te=Q(O).get().data.nodes||[],ne=Math.max(0,te.indexOf(z)),re={...K,translateX:(Number(K.translateX)||0)+10,translateY:(Number(K.translateY)||0)+10},_=Y(xe.createElement(le,re));E(_,O,ne+1),L(_.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation(),P(z)}})]})]})},QO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:n=>r(s=>s.showNavbar=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showArticle,onChange:n=>r(s=>s.showArticle=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Artculo"})]})]})},{label:"Navbar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Logo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.navbarLogoText||"Akaru",onChange:n=>r(s=>s.navbarLogoText=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Seccin Activa"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.activeSection||"Noticias",onChange:n=>r(s=>s.activeSection=n.target.value)})]})]})},{label:"Artculo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.articleImageUrl||"",onChange:n=>r(s=>s.articleImageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:2,value:e.articleTitle||"",onChange:n=>r(s=>s.articleTitle=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contenido"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:5,value:e.articleContent||"",onChange:n=>r(s=>s.articleContent=n.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.articleLikeCount||0,onChange:n=>r(s=>s.articleLikeCount=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.articleCommentCount||0,onChange:n=>r(s=>s.articleCommentCount=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.articleCommentButtonLink||"/forum",onChange:n=>r(s=>s.articleCommentButtonLink=n.target.value),placeholder:"/forum o https://..."}),a.jsx("small",{className:"text-muted",children:"Ruta interna (ej: /forum) o URL externa (ej: https://...)"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};by.craft={displayName:"Pgina de Noticias Completa",props:{showNavbar:!0,showArticle:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeSection:"Noticias",articleImageUrl:"https://placehold.co/1280x720",articleTitle:"Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",articleContent:"El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",articleLikeCount:1e3,articleCommentCount:0,articleCommentButtonLink:"/forum",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:QO}};const xy=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:s=1,gridTemplateColumns:l="repeat(6, 1fr)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:T},query:{createNode:z,node:S},enabled:R}=De(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(d)||0,Q=Number(f)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={display:"grid",justifyContent:"center",gridTemplateColumns:l,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(s)||1)),width:"fit-content",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:F,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const L=S(m).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=S(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(m)),le={...Y,translateX:(Number(Y.translateX)||0)+20,translateY:(Number(Y.translateY)||0)+20},K=z(xe.createElement(P,le));C(K,Q,V+1),w(K.id)}catch(L){console.error("Error al duplicar:",L)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),T(m)}})]})]})},ZO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(s=>s.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(s=>s.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(s=>s.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr 1fr 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr 1fr 1fr 1fr"})," para 5 columnas iguales, o ",a.jsx("code",{children:"repeat(5, 200px)"}),"."]})]})})}]})};xy.craft={displayName:"Grid 5 (3+2)",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(6, 1fr)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:ZO}};const $t=({imageUrl:r="https://placehold.co/400x300",title:e="Ttulo del Card",buttonText:n="LEER",actionType:s="route",to:l="",sectionName:i="",externalUrl:d="",externalNewTab:f=!0,linkUrl:p,linkNewTab:m,variant:v="default",borderRadius:b=8,imageHeight:y=200,height:j=300,padding:C=24,backgroundColor:w="transparent",titleColor:T="#000000",titleFontSize:z=18,buttonColor:S="#000000",buttonTextColor:R="#ffffff",buttonHoverColor:I="#ff6b35",overlayColor:F="rgba(0,0,0,0.4)",columnSpan:E=1,translateX:L=0,translateY:P=0,zIndex:Y=0,opacity:Q=1})=>{const X=xe.useRef(!1),{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe(ae=>({selected:ae.events.selected}));xe.useEffect(()=>{X.current||p!==void 0&&s==="none"&&(X.current=!0,p.startsWith("http")?K(ae=>{ae.actionType="external",ae.externalUrl=p,ae.externalNewTab=m!==void 0?m:!1,delete ae.linkUrl,delete ae.linkNewTab}):p.startsWith("#")?K(ae=>{ae.actionType="route",ae.to=p,delete ae.linkUrl,delete ae.linkNewTab}):p&&p!=="#"&&K(ae=>{ae.actionType="route",ae.to=p,delete ae.linkUrl,delete ae.linkNewTab}))},[]);const{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_},enabled:k}=De(ae=>({enabled:ae.options.enabled})),M=ft(),q=ae=>{ae.stopPropagation(),ae.preventDefault();const A=ae.clientX,$=ae.clientY,de=Number(L)||0,me=Number(P)||0,ge=ve=>{const Te=ve.clientX-A,ye=ve.clientY-$;K(Ae=>{Ae.translateX=de+Te,Ae.translateY=me+ye})},Ne=()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",Ne)};document.addEventListener("mousemove",ge),document.addEventListener("mouseup",Ne)},oe=ae=>{if(ae.preventDefault(),ae.stopPropagation(),s==="section"){const $=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,de=new URLSearchParams;$&&de.set("site",$),i&&de.set("section",i);const me=i?`/editor?${de.toString()}`:"";if(!me)return;if(me.startsWith("#")){const ge=document.querySelector(me);ge&&ge.scrollIntoView({behavior:"smooth",block:"start"});return}M(me);return}if(s==="external"){const $=(d||"").trim();if(!$)return;typeof window<"u"&&window.open($,f?"_blank":"_self");return}const A=(l||"").trim();if(A){if(A.startsWith("#")){const $=document.querySelector(A);$&&$.scrollIntoView({behavior:"smooth",block:"start"});return}M(A)}},ie={position:"relative",width:"100%",borderRadius:`${b}px`,overflow:"hidden",transform:`translate(${Number(L)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(Q)||1)),zIndex:Number(Y)||0,outline:O?"2px dashed #3b82f6":void 0,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",display:"flex",flexDirection:"column",gridColumn:`span ${E}`},he=ae=>a.jsxs(a.Fragment,{children:[a.jsx("h3",{style:{color:ae?"#ffffff":T,fontSize:`${z}px`,fontWeight:"700",marginBottom:"20px",marginTop:0,lineHeight:"1.2",textShadow:ae?"0 2px 4px rgba(0,0,0,0.5)":"none"},children:e}),a.jsxs("button",{onClick:oe,style:{background:"transparent",color:ae?"#ffffff":S,border:"none",padding:"0",cursor:k?"default":"pointer",fontSize:"12px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",transition:"opacity 0.2s",textTransform:"uppercase",letterSpacing:"1px"},children:[a.jsx("i",{className:"bi bi-justify-left",style:{fontSize:"18px"}}),a.jsx("span",{children:n})]})]});return v==="overlay"?a.jsxs("div",{ref:ae=>V(le(ae)),style:{...ie,height:`${j}px`,backgroundColor:"transparent"},children:[a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.1) 100%)"}})]}),a.jsx("div",{style:{position:"relative",zIndex:2,padding:`${C}px`,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:he(!0)})]}):v==="horizontal"?a.jsxs("div",{ref:ae=>V(le(ae)),style:{...ie,flexDirection:"row",backgroundColor:w,height:"auto",minHeight:"150px",overflow:"hidden"},children:[a.jsx("div",{style:{width:"40%",position:"relative",minHeight:"100%",flexShrink:0},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute"}})}),a.jsx("div",{style:{flex:1,padding:`${C}px`,display:"flex",flexDirection:"column",justifyContent:"center",gap:"12px"},children:he(!1)}),O&&k&&a.jsx("div",{style:{position:"absolute",top:"-15px",right:"-10px",zIndex:100,backgroundColor:"transparent",borderRadius:"50%",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",cursor:"pointer"},onClick:ae=>{ae.stopPropagation()}})]}):a.jsxs("div",{ref:ae=>V(le(ae)),style:{...ie,backgroundColor:w},children:[a.jsx("div",{style:{height:`${y}px`,width:"100%",position:"relative"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsx("div",{style:{padding:`${C}px`,flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"16px"},children:a.jsx("div",{children:he(!1)})}),O&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"transparent",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:q}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ae=>{ae.preventDefault(),ae.stopPropagation();const A=_(H).get(),{type:$,props:de,parent:me}={type:A.data.type,props:A.data.props,parent:A.data.parent},Ne=_(me).get().data.nodes||[],ve=Math.max(0,Ne.indexOf(H)),Te={...de,translateX:(Number(de.translateX)||0)+10,translateY:(Number(de.translateY)||0)+10},ye=re(xe.createElement($,Te));J(ye,me,ve+1),te(ye.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),ne(H)}})]})]})},eA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),n=s=>{const l=s.target.files?.[0];if(l){if(!l.type.startsWith("image/")){alert("Por favor selecciona un archivo de imagen vlido.");return}if(l.size>5*1024*1024){alert("La imagen es muy grande. Mximo 5MB.");return}const i=new FileReader;i.onload=d=>{r(f=>f.imageUrl=d.target.result)},i.readAsDataURL(l)}};return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas (Grid)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:12,value:e.columnSpan||1,onChange:s=>r(l=>l.columnSpan=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Variante (Estilo)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"default",onChange:s=>r(l=>l.variant=s.target.value),children:[a.jsx("option",{value:"default",children:"Estndar (Imagen Arriba)"}),a.jsx("option",{value:"overlay",children:"Overlay (Texto sobre Imagen)"}),a.jsx("option",{value:"horizontal",children:"Horizontal (Lista)"})]})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"transparent"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-image me-1"})," Imagen"]}),e.imageUrl&&a.jsx("div",{className:"mb-2 text-center",children:a.jsx("img",{src:e.imageUrl,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100px",objectFit:"cover",borderRadius:"4px",border:"1px solid #dee2e6"}})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"form-label small text-muted mb-1",children:"Subir desde computadora:"}),a.jsx("input",{type:"file",className:"form-control form-control-sm",accept:"image/*",onChange:n})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label small text-muted mb-1",children:"O ingresar URL:"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"https://ejemplo.com/imagen.jpg",value:e.imageUrl||"",onChange:s=>r(l=>l.imageUrl=s.target.value)})]}),e.imageUrl&&e.imageUrl!=="https://placehold.co/400x300"&&a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 mt-2",onClick:()=>r(s=>s.imageUrl="https://placehold.co/400x300"),children:[a.jsx("i",{className:"bi bi-x-circle me-1"})," Restablecer imagen"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:2,value:e.title||"",onChange:s=>r(l=>l.title=s.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"transparent"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:s=>r(l=>l.actionType=s.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:s=>r(l=>l.sectionName=s.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:s=>r(l=>l.externalUrl=s.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.newTab!==!1,onChange:s=>r(l=>l.newTab=s.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.route||"",onChange:s=>r(l=>l.route=s.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[e.variant==="overlay"?a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura Total"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.height||300,onChange:s=>r(l=>l.height=Number(s.target.value))})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||200,onChange:s=>r(l=>l.imageHeight=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo Card"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:s=>r(l=>l.backgroundColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#000000",onChange:s=>r(l=>l.titleColor=s.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Fuente Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||18,onChange:s=>r(l=>l.titleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor||"#000000",onChange:s=>r(l=>l.buttonColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio Borde"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.borderRadius||8,onChange:s=>r(l=>l.borderRadius=Number(s.target.value))})]})]})}]})};$t.craft={displayName:"Feature Card",props:{imageUrl:"https://placehold.co/400x300",title:"Ttulo del Card",buttonText:"LEER",actionType:"none",sectionName:"",externalUrl:"",route:"",newTab:!1,variant:"default",borderRadius:8,imageHeight:200,height:300,padding:24,backgroundColor:"transparent",titleColor:"#000000",titleFontSize:18,buttonColor:"#000000",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:eA}};const yy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Tribus",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Tribus Indigenas",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"",title:"Ubicacion Geografica",link:"#"},{id:2,image:"",title:"Organizacion social",link:"#"},{id:3,image:"",title:"Idiomas y Comunicacion",link:"#"},{id:4,image:"",title:"Musica y Danza",link:"#"},{id:5,image:"",title:"Gastronomia",link:"#"},{id:6,image:"",title:"Economa y Sustentabilidad",link:"#"},{id:7,image:"",title:"Vestimenta y Pintura Corporal",link:"#"},{id:8,image:"",title:"Vivienda y Arquitectura",link:"#"}]),cardsColumns:w=3,cardsGap:T=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:F=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:L=0,translateX:P=0,translateY:Y=0,zIndex:Q=0,opacity:X=1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe($=>({selected:$.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_}}=De($=>({enabled:$.options.enabled})),k=ft(),[M,q]=D.useState(!1),[oe,ie]=D.useState(F),he=$=>{$.stopPropagation(),$.preventDefault();const de=$.clientX,me=$.clientY,ge=Number(P)||0,Ne=Number(Y)||0,ve=ye=>{const Ae=ye.clientX-de,Me=ye.clientY-me;K(Nt=>{Nt.translateX=ge+Ae,Nt.translateY=Ne+Me})},Te=()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Te)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Te)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}const A=ae.slice(0,5);return a.jsxs("div",{ref:$=>V(le($)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(Y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(Q)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"tribes-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!0},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!0}])}),e&&a.jsx(be,{is:Ra,id:"tribes-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),k(I)},onMouseDown:$=>{$.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>{$.currentTarget.style.opacity="0.7"},onMouseLeave:$=>{$.currentTarget.style.opacity="1"},title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),q(!M),ie(de=>M?de-1:de+1)},onMouseDown:$=>{$.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>{$.currentTarget.style.opacity="0.7"},onMouseLeave:$=>{$.currentTarget.style.opacity="1"},title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:oe>=1e3?`${(oe/1e3).toFixed(1)}k`:oe})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),E.startsWith("http")?window.open(E,"_blank"):k(E)},onMouseDown:$=>{$.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>{$.currentTarget.style.opacity="0.7"},onMouseLeave:$=>{$.currentTarget.style.opacity="1"},title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),L>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:L})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsxs(be,{is:xy,id:"tribes-grid5",gap:T,padding:0,backgroundColor:"transparent",gridTemplateColumns:"repeat(6, 1fr)",canvas:!0,children:[A.slice(0,3).map(($,de)=>a.jsx(be,{is:$t,id:`tribes-card-${$.id||de}`,variant:"overlay",columnSpan:2,title:$.title||"",imageUrl:$.image||"",linkUrl:$.link||"#",height:200,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"},$.id||de)),A.slice(3,5).map(($,de)=>a.jsx(be,{is:$t,id:`tribes-card-${$.id||de+3}`,variant:"horizontal",columnSpan:3,title:$.title||"",imageUrl:$.image||"",linkUrl:$.link||"#",backgroundColor:"#000000",titleColor:"#ffffff",buttonColor:"#ffffff"},$.id||de+3))]})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.preventDefault(),$.stopPropagation();const de=_(H).get(),{type:me,props:ge,parent:Ne}={type:de.data.type,props:de.data.props,parent:de.data.parent},Te=_(Ne).get().data.nodes||[],ye=Math.max(0,Te.indexOf(H)),Ae={...ge,translateX:(Number(ge.translateX)||0)+10,translateY:(Number(ge.translateY)||0)+10},Me=re(xe.createElement(me,Ae));J(Me,Ne,ye+1),te(Me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.preventDefault(),$.stopPropagation(),ne(H)}})]})]})},tA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Tribus Indigenas"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Tribus Indigenas",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:l=>r(i=>i.cardsColumns=Number(l.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};yy.craft={displayName:"Pgina de Tribus Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Tribus",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Tribus Indigenas",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"",title:"Ubicacion Geografica",link:"#"},{id:2,image:"",title:"Organizacion social",link:"#"},{id:3,image:"",title:"Idiomas y Comunicacion",link:"#"},{id:4,image:"",title:"Musica y Danza",link:"#"},{id:5,image:"",title:"Gastronomia",link:"#"},{id:6,image:"",title:"Economa y Sustentabilidad",link:"#"},{id:7,image:"",title:"Vestimenta y Pintura Corporal",link:"#"},{id:8,image:"",title:"Vivienda y Arquitectura",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:tA}};const jh=({imageUrl:r="https://placehold.co/400x300",title:e="Ttulo del Card",titleColor:n="#000000",titleFontSize:s=18,buttonText:l="LEER",buttonColor:i="#000000",buttonTextColor:d="#ffffff",buttonHoverColor:f="#ff6b35",actionType:p="none",route:m="",sectionName:v="",externalUrl:b="",newTab:y=!1,linkUrl:j,linkNewTab:C,backgroundColor:w="#ffffff",borderRadius:T=8,padding:z=0,imageHeight:S=200,translateX:R=0,translateY:I=0,zIndex:F=0,opacity:E=1})=>{const{id:L,connectors:{connect:P,drag:Y},actions:{setProp:Q},selected:X}=pe(k=>({selected:k.events.selected})),{actions:{add:H,selectNode:V,delete:le},query:{createNode:K,node:O},enabled:J}=De(k=>({enabled:k.options.enabled})),te=ft();xe.useEffect(()=>{j&&(j.startsWith("http")?Q(k=>{k.actionType="external",k.externalUrl=j,k.newTab=!!C,k.linkUrl=void 0,k.linkNewTab=void 0}):Q(k=>{k.actionType="route",k.route=j,k.linkUrl=void 0}))},[j,C,Q]);const ne=k=>{k.stopPropagation(),k.preventDefault();const M=k.clientX,q=k.clientY,oe=Number(R)||0,ie=Number(I)||0,he=A=>{const $=A.clientX-M,de=A.clientY-q;Q(me=>{me.translateX=oe+$,me.translateY=ie+de})},ae=()=>{document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",ae)};document.addEventListener("mousemove",he),document.addEventListener("mouseup",ae)},re=k=>{k.stopPropagation()},_=k=>{if(k.preventDefault(),k.stopPropagation(),!J){if(p==="section"){const M=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,q=new URLSearchParams;M&&q.set("site",M),v&&q.set("section",v);const oe=v?`/editor?${q.toString()}`:"";if(!oe)return;te(oe);return}if(p==="external"){const M=(b||"").trim();if(!M)return;window.open(M,y?"_blank":"_self");return}if(p==="route"){const M=(m||"").trim();if(!M)return;if(M.startsWith("#")){const q=document.querySelector(M);q&&q.scrollIntoView({behavior:"smooth",block:"start"});return}te(M)}}};return a.jsxs("div",{ref:k=>P(Y(k)),style:{position:"relative",width:"100%",backgroundColor:w,borderRadius:`${T}px`,overflow:"hidden",transform:`translate(${Number(R)||0}px, ${Number(I)||0}px)`,opacity:Math.max(0,Math.min(1,Number(E)||1)),zIndex:Number(F)||0,outline:X?"2px dashed #3b82f6":void 0,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[a.jsx("div",{style:{width:"100%",height:`${S}px`,overflow:"hidden",position:"relative"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("div",{style:{padding:`${z||24}px`},children:[a.jsx("h3",{style:{color:n,fontSize:`${s}px`,fontWeight:"600",marginBottom:"20px",marginTop:0,fontFamily:"sans-serif",lineHeight:"1.3"},children:e}),a.jsxs("button",{onClick:_,onMouseDown:re,style:{background:"transparent",color:d,border:"none",padding:"0",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"10px",transition:"opacity 0.2s",fontFamily:"sans-serif"},onMouseEnter:k=>{k.currentTarget.style.opacity="0.7"},onMouseLeave:k=>{k.currentTarget.style.opacity="1"},children:[a.jsx("i",{className:"bi bi-list",style:{fontSize:"20px",fontWeight:"bold",lineHeight:"1"}}),a.jsx("span",{style:{letterSpacing:"0.5px"},children:l})]})]}),X&&L!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ne}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:k=>{k.preventDefault(),k.stopPropagation();const M=O(L).get(),{type:q,props:oe,parent:ie}={type:M.data.type,props:M.data.props,parent:M.data.parent},ae=O(ie).get().data.nodes||[],A=Math.max(0,ae.indexOf(L)),$={...oe,translateX:(Number(oe.translateX)||0)+10,translateY:(Number(oe.translateY)||0)+10},de=K(xe.createElement(q,$));H(de,ie,A+1),V(de.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:k=>{k.preventDefault(),k.stopPropagation(),le(L)}})]})]})},aA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.imageUrl||"",onChange:n=>r(s=>s.imageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.title||"",onChange:n=>r(s=>s.title=n.target.value),placeholder:"Ttulo del card..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.buttonText||"LEER",onChange:n=>r(s=>s.buttonText=n.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(s=>s.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:n=>r(s=>s.sectionName=n.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:n=>r(s=>s.externalUrl=n.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.newTab!==!1,onChange:n=>r(s=>s.newTab=n.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.route||"",onChange:n=>r(s=>s.route=n.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#000000",onChange:n=>r(s=>s.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||18,onChange:n=>r(s=>s.titleFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor||"#000000",onChange:n=>r(s=>s.buttonColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:n=>r(s=>s.buttonTextColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Hover del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonHoverColor||"#ff6b35",onChange:n=>r(s=>s.buttonHoverColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de la Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||200,onChange:n=>r(s=>s.imageHeight=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding||20,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Border Radius"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.borderRadius||8,onChange:n=>r(s=>s.borderRadius=Number(n.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(s=>s.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};jh.craft={displayName:"Card Tribus",props:{imageUrl:"https://placehold.co/400x300",title:"Ttulo del Card",titleColor:"#000000",titleFontSize:18,buttonText:"LEER",buttonColor:"#000000",buttonTextColor:"#ffffff",buttonHoverColor:"#ff6b35",actionType:"none",sectionName:"",externalUrl:"",route:"",newTab:!1,backgroundColor:"#ffffff",borderRadius:8,padding:20,imageHeight:200,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:aA}};const jy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:w=3,cardsGap:T=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:F=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:L=0,translateX:P=0,translateY:Y=0,zIndex:Q=0,opacity:X=1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe(A=>({selected:A.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_}}=De(A=>({enabled:A.options.enabled})),k=ft(),[M,q]=D.useState(!1),[oe,ie]=D.useState(F),he=A=>{A.stopPropagation(),A.preventDefault();const $=A.clientX,de=A.clientY,me=Number(P)||0,ge=Number(Y)||0,Ne=Te=>{const ye=Te.clientX-$,Ae=Te.clientY-de;K(Me=>{Me.translateX=me+ye,Me.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}return a.jsxs("div",{ref:A=>V(le(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(Y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(Q)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"flora-container",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"flora-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!0},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!0}])}),e&&a.jsx(be,{is:Ra,id:"flora-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),k(I)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),q(!M),ie($=>M?$-1:$+1)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:oe>=1e3?`${(oe/1e3).toFixed(1)}k`:oe})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),E.startsWith("http")?window.open(E,"_blank"):k(E)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),L>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:L})]})]}),a.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gap:`${T}px`,width:"100%"},children:ae.map((A,$)=>a.jsx(be,{is:jh,id:`flora-card-${A.id||$}`,imageUrl:A.image||"",title:A.title||"",linkUrl:A.link||"#",backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000",buttonTextColor:"#000000"},A.id||$))})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation();const $=_(H).get(),{type:de,props:me,parent:ge}={type:$.data.type,props:$.data.props,parent:$.data.parent},ve=_(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(H)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=re(xe.createElement(de,ye));J(Ae,ge,Te+1),te(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation(),ne(H)}})]})]})},nA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Flora"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:l=>r(i=>i.cardsColumns=Number(l.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};jy.craft={displayName:"Pgina de Flora Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:nA}};const Ny=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:w=30,cardsBackgroundColor:T="#000000",cardsPadding:z=80,showSidebar:S=!0,sidebarBackLink:R="/",sidebarLikeCount:I=1e3,sidebarCommentLink:F="/forum",sidebarCommentCount:E=0,translateX:L=0,translateY:P=0,zIndex:Y=0,opacity:Q=1})=>{const{id:X,connectors:{connect:H,drag:V},actions:{setProp:le},selected:K}=pe(M=>({selected:M.events.selected})),{actions:{add:O,selectNode:J,delete:te},query:{createNode:ne,node:re}}=De(M=>({enabled:M.options.enabled}));ft();const _=M=>{M.stopPropagation(),M.preventDefault()};let k=[];try{k=typeof C=="string"?JSON.parse(C):C}catch{k=[]}return a.jsxs("div",{ref:M=>H(V(M)),style:{position:"relative",width:"100%",transform:`translate(${Number(L)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(Q)||1)),zIndex:Number(Y)||0,outline:K?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"flora-v1-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"flora-v1-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"flora-v1-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:T,padding:`${z}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[S&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx(be,{is:Yl,id:"flora-v1-back-btn",icon:"bi bi-arrow-left",color:"#ffffff",width:"auto",height:"auto",padding:12,link:R}),a.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:a.jsx(be,{is:Xl,id:"flora-v1-like-btn",icon:"bi bi-heart",activeIcon:"bi bi-heart-fill",color:"#ffffff",activeColor:"#ff0000",initialCount:I,width:"auto",height:"auto",padding:12})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx(be,{is:Fl,id:"flora-v1-comment-btn",icon:"bi bi-chat-dots",color:"#ffffff",width:"auto",height:"auto",padding:12,link:F}),a.jsx(be,{is:Ht,id:"flora-v1-comment-count",text:E.toString(),color:"#ffffff",fontSize:16,fontWeight:"500",tagName:"span"})]})]}),a.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:`${w}px`,width:"100%"},children:[k[0]&&a.jsx(be,{is:$t,id:`flora-v1-card-${k[0].id||0}`,imageUrl:k[0].image||"",title:k[0].title||"",linkUrl:k[0].link||"#",variant:"overlay",columnSpan:1,height:600,titleFontSize:24,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"}),k[1]&&a.jsx(be,{is:$t,id:`flora-v1-card-${k[1].id||1}`,imageUrl:k[1].image||"",title:k[1].title||"",linkUrl:k[1].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),k[2]&&a.jsx(be,{is:$t,id:`flora-v1-card-${k[2].id||2}`,imageUrl:k[2].image||"",title:k[2].title||"",linkUrl:k[2].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]})]})})]}),K&&X!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:_}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation();const q=re(X).get(),{type:oe,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=re(he).get().data.nodes||[],$=Math.max(0,A.indexOf(X)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=ne(xe.createElement(oe,de));O(me,he,$+1),J(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation(),te(X)}})]})]})},rA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.cards||"[]",onChange:l=>r(i=>i.cards=l.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, subtitle?, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ny.craft={displayName:"Pgina de Flora V1 (Card Grande + 2 Pequeas)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:rA}};const Gl=({cards:r="[]",columns:e=3,gap:n=15,padding:s=20,maxWidth:l="1000px",backgroundColor:i="transparent",opacity:d=1,translateX:f=0,translateY:p=0})=>{const m=D.useMemo(()=>JSON.stringify([{id:1,image:"https://placehold.co/800x600",title:"Carta Principal Destacada",buttonText:"LEER",actionType:"section",sectionName:"inicio"},{id:2,image:"https://placehold.co/400x300",title:"Carta Secundaria 1",buttonText:"LEER",actionType:"section",sectionName:"fauna"},{id:3,image:"https://placehold.co/400x300",title:"Carta Secundaria 2",buttonText:"LEER",actionType:"section",sectionName:"flora"},{id:4,image:"https://placehold.co/400x300",title:"Carta Secundaria 3",buttonText:"LEER",actionType:"section",sectionName:"cultura"},{id:5,image:"https://placehold.co/400x300",title:"Carta Secundaria 4",buttonText:"LEER",actionType:"section",sectionName:"geografia"}]),[]),v=r&&r!=="[]"?r:m,{connectors:{connect:b,drag:y},selected:j,actions:{setProp:C},id:w}=pe(P=>({selected:P.events.selected})),{actions:{add:T,selectNode:z,delete:S},query:{createNode:R,node:I},enabled:F}=De(P=>({enabled:P.options.enabled})),E=P=>{P.stopPropagation(),P.preventDefault();const Y=P.clientX,Q=P.clientY,X=Number(f)||0,H=Number(p)||0,V=K=>{const O=K.clientX-Y,J=K.clientY-Q;C(te=>{te.translateX=X+O,te.translateY=H+J})},le=()=>{document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",le)};document.addEventListener("mousemove",V),document.addEventListener("mouseup",le)},L=D.useMemo(()=>{try{return JSON.parse(v)}catch(P){return console.warn("FeatureGrid: Error parsing cards JSON",P),[]}},[v]);return a.jsxs("div",{ref:P=>b(y(P)),style:{position:"relative",display:"grid",gridTemplateColumns:`repeat(${Number(e)||3}, 1fr)`,gap:`${Number(n)||15}px`,padding:`${Number(s)||0}px`,gridTemplateColumns:`repeat(${e}, 1fr)`,gap:`${n}px`,padding:`${Number(s)||20}px`,width:"100%",maxWidth:l,margin:"0 auto",transform:`translate(${Number(f)||0}px, ${Number(p)||0}px)`,outline:j?"2px dashed #3b82f6":void 0},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:i,opacity:Math.max(0,Math.min(1,Number(d)||1)),zIndex:0,pointerEvents:"none"}}),L.map((P,Y)=>a.jsx(be,{is:$t,id:`grid-card-${P.id||Y}`,imageUrl:P.image||"",title:P.title||"",buttonText:P.buttonText||"LEER",actionType:P.actionType||"none",sectionName:P.sectionName||"",externalUrl:P.externalUrl||"",route:P.route||"",newTab:P.newTab||!1,variant:Y===0?"overlay":"default",columnSpan:Y===0?2:1,height:Y===0?280:200,imageHeight:140,titleColor:Y===0?"#ffffff":"#000000",buttonColor:Y===0?"#ffffff":"#000000",style:{position:"relative",zIndex:1}},P.id||Y)),j&&F&&a.jsxs("div",{style:{position:"absolute",top:"5px",right:"5px",display:"flex",gap:"8px",backgroundColor:"transparent",padding:"8px",borderRadius:"6px",zIndex:1e3,color:"#000000"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.25rem"},onMouseDown:E}),a.jsx("i",{className:"bi bi-files",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:P=>{P.preventDefault(),P.stopPropagation();const Y=I(w).get(),{type:Q,props:X,parent:H}={type:Y.data.type,props:Y.data.props,parent:Y.data.parent},le=I(H).get().data.nodes||[],K=Math.max(0,le.indexOf(w)),O={...X,translateX:(Number(X.translateX)||0)+20,translateY:(Number(X.translateY)||0)+20},J=R(xe.createElement(Q,O));T(J,H,K+1),z(J.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:P=>{P.preventDefault(),P.stopPropagation(),S(w)}})]})]})},oA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Configuracin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.columns,onChange:n=>r(s=>s.columns=Number(n.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(s=>s.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(s=>s.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Datos (JSON)",content:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cartas (JSON)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:10,value:e.cards,onChange:n=>r(s=>s.cards=n.target.value),style:{fontFamily:"monospace",fontSize:"11px"}}),a.jsx("div",{className:"form-text small",children:"Edita el JSON para agregar o quitar cartas. La primera carta siempre ser la destacada."})]})}]})};Gl.craft={displayName:"Grid Destacado",props:{cards:JSON.stringify([{id:1,image:"https://placehold.co/800x600",title:"Carta Principal Destacada",buttonText:"LEER",actionType:"section",sectionName:"inicio"},{id:2,image:"https://placehold.co/400x300",title:"Carta Secundaria 1",buttonText:"LEER",actionType:"section",sectionName:"fauna"},{id:3,image:"https://placehold.co/400x300",title:"Carta Secundaria 2",buttonText:"LEER",actionType:"section",sectionName:"flora"},{id:4,image:"https://placehold.co/400x300",title:"Carta Secundaria 3",buttonText:"LEER",actionType:"section",sectionName:"cultura"},{id:5,image:"https://placehold.co/400x300",title:"Carta Secundaria 4",buttonText:"LEER",actionType:"section",sectionName:"geografia"}]),columns:3,gap:15,padding:20,maxWidth:"1000px",backgroundColor:"transparent",opacity:1,translateX:0,translateY:0},related:{settings:oA}};const Cy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:w=3,cardsGap:T=30,cardsBackgroundColor:z="#000000",cardsPadding:S=80,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:F=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:L=0,translateX:P=0,translateY:Y=0,zIndex:Q=0,opacity:X=1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe(M=>({selected:M.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_}}=De(M=>({enabled:M.options.enabled}));ft();const k=M=>{M.stopPropagation(),M.preventDefault();const q=M.clientX,oe=M.clientY,ie=Number(P)||0,he=Number(Y)||0,ae=$=>{const de=$.clientX-q,me=$.clientY-oe;K(ge=>{ge.translateX=ie+de,ge.translateY=he+me})},A=()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",A)};return a.jsxs("div",{ref:M=>V(le(M)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(Y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(Q)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"flora-v2-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"flora-v2-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"flora-v2-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(be,{is:Yl,id:"flora-v2-back-btn",direction:"left",to:I,color:"#ffffff",bg:"transparent",size:28,padding:10})}),a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(be,{is:Xl,id:"flora-v2-like-btn",sectionId:"flora-v2-page"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx(be,{is:Fl,id:"flora-v2-comment-btn",iconName:"chat-dots",iconSize:28,iconColor:"#ffffff",to:E,actionType:"route"}),L>0&&a.jsx(be,{is:Ht,id:"flora-v2-comment-count",text:String(L),fontSize:16,textColor:"#ffffff",fontWeight:"500"})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsx(be,{is:Gl,id:"flora-v2-feature-grid",cards:C,columns:w,gap:T,padding:0,backgroundColor:"transparent"})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:k}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation();const q=_(H).get(),{type:oe,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=_(he).get().data.nodes||[],$=Math.max(0,A.indexOf(H)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=re(xe.createElement(oe,de));J(me,he,$+1),te(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation(),ne(H)}})]})]})},sA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:12,value:e.cards||"[]",onChange:l=>r(i=>i.cards=l.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas del Grid (para cards despus de la primera fila)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:6,value:e.cardsColumns||3,onChange:l=>r(i=>i.cardsColumns=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Cy.craft={displayName:"Pgina de Flora V2 (Grid Variado)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:sA}};const wy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Fauna",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Fauna",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"https://placehold.co/400x300",title:"Cundo los gatos se volvieron domsticos?",link:"#"},{id:2,image:"https://placehold.co/400x300",title:"Delfines adultos orinan en el aire",link:"#"},{id:3,image:"https://placehold.co/400x300",title:"Extraa oruga con tentculos en erupcin",link:"#"},{id:4,image:"https://placehold.co/400x300",title:"Se descubren nuevas especies cada dos das",link:"#"},{id:5,image:"https://placehold.co/400x300",title:"rana nombrada en honor a monstruo mtico",link:"#"},{id:6,image:"https://placehold.co/400x300",title:"Perezosos, manates y otros animales salvajes rescatados del turismo en la Amazonia",link:"#"},{id:7,image:"https://placehold.co/400x300",title:"Misterioso animal del Amazonas visto con vida por primera vez en 80 aos",link:"#"},{id:8,image:"https://placehold.co/400x300",title:"incendio en el amazonas para los animales salvajes",link:"#"}]),cardsColumns:w=3,cardsGap:T=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:F=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:L=0,translateX:P=0,translateY:Y=0,zIndex:Q=0,opacity:X=1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe(A=>({selected:A.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_},enabled:k}=De(A=>({enabled:A.options.enabled})),M=ft(),[q,oe]=D.useState(!1),[ie,he]=D.useState(F),ae=A=>{A.stopPropagation(),A.preventDefault();const $=A.clientX,de=A.clientY,me=Number(P)||0,ge=Number(Y)||0,Ne=Te=>{const ye=Te.clientX-$,Ae=Te.clientY-de;K(Me=>{Me.translateX=me+ye,Me.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};return a.jsxs("div",{ref:A=>V(le(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(Y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(Q)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"fauna-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"fauna-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!0},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"fauna-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{k||(I.startsWith("/")?M(I):window.location.href=I)},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{k||(oe(!q),he($=>q?$-1:$+1))},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:q?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${q?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:ie>=1e3?`${(ie/1e3).toFixed(1)}k`:ie})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{k||(E.startsWith("/")?M(E):window.location.href=E)},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),L>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:L})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsx(be,{is:Gl,id:"fauna-feature-grid",cards:C,columns:w,gap:T,padding:0,backgroundColor:"transparent"})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation();const{data:{type:$,props:de}}=_;J(re(be,{is:$,...de}),"parentId")}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation(),ne(H)}})]})]})},lA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Fauna"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Fauna",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:l=>r(i=>i.cardsColumns=Number(l.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};wy.craft={displayName:"Pgina de Fauna Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Fauna",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Fauna",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"https://placehold.co/400x300",title:"Cundo los gatos se volvieron domsticos?",link:"#"},{id:2,image:"https://placehold.co/400x300",title:"Delfines adultos orinan en el aire",link:"#"},{id:3,image:"https://placehold.co/400x300",title:"Extraa oruga con tentculos en erupcin",link:"#"},{id:4,image:"https://placehold.co/400x300",title:"Se descubren nuevas especies cada dos das",link:"#"},{id:5,image:"https://placehold.co/400x300",title:"rana nombrada en honor a monstruo mtico",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:lA}};const Sy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:w=30,cardsBackgroundColor:T="#000000",cardsPadding:z=80,showSidebar:S=!0,sidebarBackLink:R="/",sidebarLikeCount:I=1e3,sidebarCommentLink:F="/forum",sidebarCommentCount:E=0,translateX:L=0,translateY:P=0,zIndex:Y=0,opacity:Q=1})=>{const{id:X,connectors:{connect:H,drag:V},actions:{setProp:le},selected:K}=pe(A=>({selected:A.events.selected})),{actions:{add:O,selectNode:J,delete:te},query:{createNode:ne,node:re},enabled:_}=De(A=>({enabled:A.options.enabled})),k=ft(),[M,q]=D.useState(!1),[oe,ie]=D.useState(I),he=A=>{A.stopPropagation(),A.preventDefault();const $=A.clientX,de=A.clientY,me=Number(L)||0,ge=Number(P)||0,Ne=Te=>{const ye=Te.clientX-$,Ae=Te.clientY-de;le(Me=>{Me.translateX=me+ye,Me.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}return a.jsxs("div",{ref:A=>H(V(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(L)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(Q)||1)),zIndex:Number(Y)||0,outline:K?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"flora-v1-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"flora-v1-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"flora-v1-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:T,padding:`${z}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[S&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{_||(R.startsWith("/")?k(R):window.location.href=R)},onMouseDown:A=>{_&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{_||(q(!M),ie($=>M?$-1:$+1))},onMouseDown:A=>{_&&A.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:oe>=1e3?`${(oe/1e3).toFixed(1)}k`:oe})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{_||(F.startsWith("/")?k(F):window.location.href=F)},onMouseDown:A=>{_&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),E>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:E})]})]}),a.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:`${w}px`,width:"100%"},children:[ae[0]&&a.jsx(be,{is:$t,id:`flora-v1-card-${ae[0].id||0}`,imageUrl:ae[0].image||"",title:ae[0].title||"",linkUrl:ae[0].link||"#",variant:"overlay",columnSpan:1,height:600,titleFontSize:24,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"}),ae[1]&&a.jsx(be,{is:$t,id:`flora-v1-card-${ae[1].id||1}`,imageUrl:ae[1].image||"",title:ae[1].title||"",linkUrl:ae[1].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),ae[2]&&a.jsx(be,{is:$t,id:`flora-v1-card-${ae[2].id||2}`,imageUrl:ae[2].image||"",title:ae[2].title||"",linkUrl:ae[2].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]})]})})]}),K&&X!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation();const $=re(X).get(),{type:de,props:me,parent:ge}={type:$.data.type,props:$.data.props,parent:$.data.parent},ve=re(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(X)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=ne(xe.createElement(de,ye));O(Ae,ge,Te+1),J(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation(),te(X)}})]})]})},iA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.cards||"[]",onChange:l=>r(i=>i.cards=l.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, subtitle?, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Sy.craft={displayName:"Pgina de Flora V1 (Card Grande + 2 Pequeas)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:iA}};const _y=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:w=3,cardsGap:T=30,cardsBackgroundColor:z="#000000",cardsPadding:S=80,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:F=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:L=0,translateX:P=0,translateY:Y=0,zIndex:Q=0,opacity:X=1})=>{const{id:H,connectors:{connect:V,drag:le},actions:{setProp:K},selected:O}=pe($=>({selected:$.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:_},enabled:k}=De($=>({enabled:$.options.enabled})),M=ft(),[q,oe]=D.useState(!1),[ie,he]=D.useState(F),ae=$=>{$.stopPropagation(),$.preventDefault();const de=$.clientX,me=$.clientY,ge=Number(P)||0,Ne=Number(Y)||0,ve=ye=>{const Ae=ye.clientX-de,Me=ye.clientY-me;K(Nt=>{Nt.translateX=ge+Ae,Nt.translateY=Ne+Me})},Te=()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Te)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Te)};let A=[];try{A=typeof C=="string"?JSON.parse(C):C}catch{A=[]}return a.jsxs("div",{ref:$=>V(le($)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(Y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(Q)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"flora-v2-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"flora-v2-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"flora-v2-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:$=>{k||(I.startsWith("/")?M(I):window.location.href=I)},onMouseDown:$=>{k&&$.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>$.currentTarget.style.opacity="0.8",onMouseLeave:$=>$.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:$=>{k||(oe(!q),he(de=>q?de-1:de+1))},onMouseDown:$=>{k&&$.stopPropagation()},style:{background:"transparent",border:"none",color:q?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>$.currentTarget.style.opacity="0.8",onMouseLeave:$=>$.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${q?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:ie>=1e3?`${(ie/1e3).toFixed(1)}k`:ie})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:$=>{k||(E.startsWith("/")?M(E):window.location.href=E)},onMouseDown:$=>{k&&$.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:$=>$.currentTarget.style.opacity="0.8",onMouseLeave:$=>$.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),L>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:L})]})]}),a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:`${T}px`,width:"100%"},children:[A[0]&&a.jsx("div",{style:{width:"100%"},children:a.jsx(be,{is:$t,id:`flora-v2-card-${A[0].id||0}`,imageUrl:A[0].image||"",title:A[0].title||"",linkUrl:A[0].link||"#",variant:"overlay",columnSpan:1,height:400,titleFontSize:28,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"})}),A[1]&&A[2]&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:`${T}px`},children:[a.jsx(be,{is:$t,id:`flora-v2-card-${A[1].id||1}`,imageUrl:A[1].image||"",title:A[1].title||"",linkUrl:A[1].link||"#",variant:"default",columnSpan:1,imageHeight:250,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),a.jsx(be,{is:$t,id:`flora-v2-card-${A[2].id||2}`,imageUrl:A[2].image||"",title:A[2].title||"",linkUrl:A[2].link||"#",variant:"default",columnSpan:1,imageHeight:250,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]}),A.length>3&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gap:`${T}px`},children:A.slice(3).map(($,de)=>a.jsx(be,{is:$t,id:`flora-v2-card-${$.id||de+3}`,imageUrl:$.image||"",title:$.title||"",linkUrl:$.link||"#",variant:"default",columnSpan:1,imageHeight:200,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"},$.id||de+3))})]})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.stopPropagation();const de=_(H).get(),{type:me,props:ge,parent:Ne}={type:de.data.type,props:de.data.props,parent:de.data.parent},Te=_(Ne).get().data.nodes||[],ye=Math.max(0,Te.indexOf(H)),Ae={...ge,translateX:(Number(ge.translateX)||0)+10,translateY:(Number(ge.translateY)||0)+10},Me=re(xe.createElement(me,Ae));J(Me,Ne,ye+1),te(Me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.stopPropagation(),ne(H)}})]})]})},cA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:l=>r(i=>i.showCards=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:l=>r(i=>i.heroTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:12,value:e.cards||"[]",onChange:l=>r(i=>i.cards=l.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas del Grid (para cards despus de la primera fila)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:6,value:e.cardsColumns||3,onChange:l=>r(i=>i.cardsColumns=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:l=>r(i=>i.cardsGap=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:l=>r(i=>i.cardsPadding=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:l=>r(i=>i.cardsBackgroundColor=l.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:l=>r(i=>i.showSidebar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:l=>r(i=>i.sidebarBackLink=l.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:l=>r(i=>i.sidebarLikeCount=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:l=>r(i=>i.sidebarCommentLink=l.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:l=>r(i=>i.sidebarCommentCount=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};_y.craft={displayName:"Pgina de Flora V2 (Grid Variado)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:cA}};const Ty=({showNavbar:r=!0,showHero:e=!0,showContent:n=!0,navbarLogoText:s="Akaru",navbarBackgroundColor:l="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Agua",heroImageUrl:p="https://placehold.co/1280x720",heroMainTitle:m="AGUA",heroSubtitle1:v="LA VENA VITAL",heroSubtitle2:b="DE LA AMAZONA",heroDescription:y="Explora el sistema circulatorio de la Tierra",heroTitleColor:j="#ffffff",heroDescriptionColor:C="#ff6b35",heroTitleFontSize:w=72,heroSubtitleFontSize:T=36,heroDescriptionFontSize:z=18,heroOverlayColor:S="rgba(0, 0, 0, 0.3)",heroHeight:R=600,sectionDividerText:I="El Corazn Climtico",sectionDividerColor:F="#ffffff",sectionDividerFontSize:E=32,contentBlock1ImageUrl:L="https://placehold.co/600x400",contentBlock1Title1:P="El seor de los ros",contentBlock1Text1:Y="El Amazonas no es solo un ro, es un sistema de ms de 1.100 afluentes que se extienden por ms de 6.400 kilmetros. Su desembocadura forma el estuario ms grande del mundo, vertiendo al ocano Atlntico aproximadamente 209.000 metros cbicos de agua por segundo.",contentBlock1Title2:Q="Ros Voladores: La Magia Atmosfrica",contentBlock1Text2:X='La evapotranspiracin de la selva amaznica genera "ros voladores": masas de vapor de agua que viajan por la atmsfera y alimentan las lluvias en regiones distantes. Este fenmeno es crucial para el clima de Sudamrica y ms all.',contentBlock1TitleColor:H="#ff6b35",contentBlock1TextColor:V="#ffffff",contentBlock1TitleFontSize:le=24,contentBlock1TextFontSize:K=16,contentBlock1BackgroundColor:O="#000000",contentBlock1Padding:J=80,contentBlock2ImageUrl:te="https://placehold.co/1280x500",contentBlock2Text:ne="UN UNIVERSO SUMERGIDO",contentBlock2TextColor:re="#ffffff",contentBlock2TextFontSize:_=64,contentBlock2OverlayColor:k="rgba(0, 0, 0, 0.4)",contentBlock2Height:M=500,contentBlock3Title:q="Un Equilibrio Frgil",contentBlock3Text:oe="La deforestacin y la contaminacin por mercurio amenazan los ros amaznicos. Proteger estos ecosistemas acuticos es esencial para mantener el equilibrio climtico global y preservar la biodiversidad nica que albergan.",contentBlock3TitleColor:ie="#ff6b35",contentBlock3TextColor:he="#ffffff",contentBlock3TitleFontSize:ae=32,contentBlock3TextFontSize:A=18,contentBlock3BackgroundColor:$="#000000",contentBlock3Padding:de=80,translateX:me=0,translateY:ge=0,zIndex:Ne=0,opacity:ve=1})=>{const{id:Te,connectors:{connect:ye,drag:Ae},actions:{setProp:Me},selected:Nt}=pe(Tt=>({selected:Tt.events.selected})),{actions:{add:oa,selectNode:pa,delete:_t},query:{createNode:mt,node:Wa}}=De(),Gr=Tt=>{Tt.stopPropagation(),Tt.preventDefault();const Rt=Tt.clientX,Cn=Tt.clientY,za=Number(me)||0,wn=Number(ge)||0,Sn=et=>{const ga=et.clientX-Rt,Et=et.clientY-Cn;Me(Jl=>{Jl.translateX=za+ga,Jl.translateY=wn+Et})},Ct=()=>{document.removeEventListener("mousemove",Sn),document.removeEventListener("mouseup",Ct)};document.addEventListener("mousemove",Sn),document.addEventListener("mouseup",Ct)};return a.jsxs("div",{ref:Tt=>ye(Ae(Tt)),style:{position:"relative",width:"100%",transform:`translate(${Number(me)||0}px, ${Number(ge)||0}px)`,opacity:Math.max(0,Math.min(1,Number(ve)||1)),zIndex:Number(Ne)||0,outline:Nt?"2px dashed #3b82f6":void 0},children:[a.jsxs(be,{id:"agua-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(be,{is:ma,id:"agua-navbar",logoText:s,backgroundColor:l,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!0},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(be,{is:Ra,id:"agua-hero",backgroundImage:p,overlayColor:S,height:R,minHeight:R,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 60px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"10px"},children:[a.jsx("div",{style:{width:"6px",height:`${w*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:j,fontSize:`${w}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:m})]}),a.jsx("h2",{style:{color:j,fontSize:`${T}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:v}),a.jsx("h2",{style:{color:j,fontSize:`${T}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:b}),a.jsx("p",{style:{color:C,fontSize:`${z}px`,fontWeight:"normal",margin:"20px 0 0 0",fontFamily:"sans-serif"},children:y})]})}),n&&a.jsxs("div",{children:[I&&a.jsx("div",{style:{backgroundColor:"#000000",padding:"60px 80px",textAlign:"center"},children:a.jsx(be,{id:"agua-section-divider",is:Ht,text:I,fontSize:E,textColor:F,textAlign:"center"})}),a.jsx("div",{style:{backgroundColor:O,padding:`${J}px`},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",maxWidth:"1400px",margin:"0 auto",alignItems:"center"},children:[a.jsx("div",{style:{width:"100%",height:"500px",position:"relative",overflow:"hidden",borderRadius:"8px"},children:a.jsx(be,{id:"agua-content-block-1-image",is:ss,src:L,alt:"Ro Amazonas",width:100,height:500,fit:"cover"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"40px"},children:[a.jsxs("div",{children:[a.jsx(be,{id:"agua-content-block-1-title-1",is:Ht,text:P,fontSize:le,textColor:H,textAlign:"left"}),a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(be,{id:"agua-content-block-1-text-1",is:Ht,text:Y,fontSize:K,textColor:V,textAlign:"left",lineHeight:1.6})})]}),a.jsx("div",{style:{width:"100%",height:"2px",backgroundColor:"#ff6b35",margin:"20px 0"}}),a.jsxs("div",{children:[a.jsx(be,{id:"agua-content-block-1-title-2",is:Ht,text:Q,fontSize:le,textColor:H,textAlign:"left"}),a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(be,{id:"agua-content-block-1-text-2",is:Ht,text:X,fontSize:K,textColor:V,textAlign:"left",lineHeight:1.6})})]})]})]})}),a.jsxs("div",{style:{position:"relative",width:"100%",height:`${M}px`,overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:a.jsx(be,{id:"agua-content-block-2-image",is:ss,src:te,alt:"Universo sumergido",width:100,height:M,fit:"cover"})}),a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:k,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(be,{id:"agua-content-block-2-text",is:Ht,text:ne,fontSize:_,textColor:re,textAlign:"center",textShadowX:0,textShadowY:2,textShadowBlur:8,textShadowColor:"rgba(0,0,0,0.5)"})})]}),a.jsx("div",{style:{backgroundColor:$,padding:`${de}px`},children:a.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[a.jsx(be,{id:"agua-content-block-3-title",is:Ht,text:q,fontSize:ae,textColor:ie,textAlign:"left"}),a.jsx("div",{style:{marginTop:"30px"},children:a.jsx(be,{id:"agua-content-block-3-text",is:Ht,text:oe,fontSize:A,textColor:he,textAlign:"left",lineHeight:1.8})})]})})]})]}),Nt&&Te!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:Gr}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Tt=>{Tt.stopPropagation();const Rt=Wa(Te).get(),{type:Cn,props:za,parent:wn}={type:Rt.data.type,props:Rt.data.props,parent:Rt.data.parent},Ct=Wa(wn).get().data.nodes||[],et=Math.max(0,Ct.indexOf(Te)),ga={...za,translateX:(Number(za.translateX)||0)+10,translateY:(Number(za.translateY)||0)+10},Et=mt(xe.createElement(Cn,ga));oa(Et,wn,et+1),pa(Et.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Tt=>{Tt.stopPropagation(),_t(Te)}})]})]})},uA=()=>{const{actions:{setProp:r},props:e}=pe(l=>({props:l.data.props})),{upload:n,isUploading:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:l=>r(i=>i.showNavbar=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:l=>r(i=>i.showHero=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showContent,onChange:l=>r(i=>i.showContent=l.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Contenido"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:l=>r(i=>i.heroImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo Principal"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroMainTitle||"AGUA",onChange:l=>r(i=>i.heroMainTitle=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subttulo 1"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroSubtitle1||"LA VENA VITAL",onChange:l=>r(i=>i.heroSubtitle1=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subttulo 2"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroSubtitle2||"DE LA AMAZONA",onChange:l=>r(i=>i.heroSubtitle2=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroDescription||"Explora el sistema circulatorio de la Tierra",onChange:l=>r(i=>i.heroDescription=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Ttulo Principal"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||72,onChange:l=>r(i=>i.heroTitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Subttulos"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroSubtitleFontSize||36,onChange:l=>r(i=>i.heroSubtitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Descripcin"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroDescriptionFontSize||18,onChange:l=>r(i=>i.heroDescriptionFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:l=>r(i=>i.heroTitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de la Descripcin"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroDescriptionColor||"#ff6b35",onChange:l=>r(i=>i.heroDescriptionColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.3)",onChange:l=>r(i=>i.heroOverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.3)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||600,onChange:l=>r(i=>i.heroHeight=Number(l.target.value))})]})]})},{label:"Divisor de Seccin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sectionDividerText||"El Corazn Climtico",onChange:l=>r(i=>i.sectionDividerText=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.sectionDividerColor||"#ffffff",onChange:l=>r(i=>i.sectionDividerColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Fuente"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sectionDividerFontSize||32,onChange:l=>r(i=>i.sectionDividerFontSize=Number(l.target.value))})]})]})},{label:"Bloque 1 (2 Columnas)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen (Columna Izquierda)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1ImageUrl||"",onChange:l=>r(i=>i.contentBlock1ImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.contentBlock1ImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo 1"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1Title1||"El seor de los ros",onChange:l=>r(i=>i.contentBlock1Title1=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto 1"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:e.contentBlock1Text1||"",onChange:l=>r(i=>i.contentBlock1Text1=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo 2"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1Title2||"Ros Voladores: La Magia Atmosfrica",onChange:l=>r(i=>i.contentBlock1Title2=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto 2"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:e.contentBlock1Text2||"",onChange:l=>r(i=>i.contentBlock1Text2=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Ttulos"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1TitleColor||"#ff6b35",onChange:l=>r(i=>i.contentBlock1TitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1TextColor||"#ffffff",onChange:l=>r(i=>i.contentBlock1TextColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Ttulos"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1TitleFontSize||24,onChange:l=>r(i=>i.contentBlock1TitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1TextFontSize||16,onChange:l=>r(i=>i.contentBlock1TextFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1BackgroundColor||"#000000",onChange:l=>r(i=>i.contentBlock1BackgroundColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1Padding||80,onChange:l=>r(i=>i.contentBlock1Padding=Number(l.target.value))})]})]})},{label:"Bloque 2 (Imagen Full Width)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2ImageUrl||"",onChange:l=>r(i=>i.contentBlock2ImageUrl=l.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async l=>{const i=l.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.contentBlock2ImageUrl=d),l.target.value="")},disabled:s}),s&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2Text||"UN UNIVERSO SUMERGIDO",onChange:l=>r(i=>i.contentBlock2Text=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock2TextColor||"#ffffff",onChange:l=>r(i=>i.contentBlock2TextColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock2TextFontSize||64,onChange:l=>r(i=>i.contentBlock2TextFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2OverlayColor||"rgba(0, 0, 0, 0.4)",onChange:l=>r(i=>i.contentBlock2OverlayColor=l.target.value),placeholder:"rgba(0, 0, 0, 0.4)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock2Height||500,onChange:l=>r(i=>i.contentBlock2Height=Number(l.target.value))})]})]})},{label:"Bloque 3 (Texto)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock3Title||"Un Equilibrio Frgil",onChange:l=>r(i=>i.contentBlock3Title=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:5,value:e.contentBlock3Text||"",onChange:l=>r(i=>i.contentBlock3Text=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3TitleColor||"#ff6b35",onChange:l=>r(i=>i.contentBlock3TitleColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3TextColor||"#ffffff",onChange:l=>r(i=>i.contentBlock3TextColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3TitleFontSize||32,onChange:l=>r(i=>i.contentBlock3TitleFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3TextFontSize||18,onChange:l=>r(i=>i.contentBlock3TextFontSize=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3BackgroundColor||"#000000",onChange:l=>r(i=>i.contentBlock3BackgroundColor=l.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3Padding||80,onChange:l=>r(i=>i.contentBlock3Padding=Number(l.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:l=>r(i=>i.translateX=Number(l.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:l=>r(i=>i.translateY=Number(l.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:l=>r(i=>i.zIndex=Number(l.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:l=>r(i=>i.opacity=Number(l.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ty.craft={displayName:"Pgina de Agua Completa",props:{showNavbar:!0,showHero:!0,showContent:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Agua",heroImageUrl:"https://placehold.co/1280x720",heroMainTitle:"AGUA",heroSubtitle1:"LA VENA VITAL",heroSubtitle2:"DE LA AMAZONA",heroDescription:"Explora el sistema circulatorio de la Tierra",heroTitleColor:"#ffffff",heroDescriptionColor:"#ff6b35",heroTitleFontSize:72,heroSubtitleFontSize:36,heroDescriptionFontSize:18,heroOverlayColor:"rgba(0, 0, 0, 0.3)",heroHeight:600,sectionDividerText:"El Corazn Climtico",sectionDividerColor:"#ffffff",sectionDividerFontSize:32,contentBlock1ImageUrl:"https://placehold.co/600x400",contentBlock1Title1:"El seor de los ros",contentBlock1Text1:"El Amazonas no es solo un ro, es un sistema de ms de 1.100 afluentes que se extienden por ms de 6.400 kilmetros. Su desembocadura forma el estuario ms grande del mundo, vertiendo al ocano Atlntico aproximadamente 209.000 metros cbicos de agua por segundo.",contentBlock1Title2:"Ros Voladores: La Magia Atmosfrica",contentBlock1Text2:'La evapotranspiracin de la selva amaznica genera "ros voladores": masas de vapor de agua que viajan por la atmsfera y alimentan las lluvias en regiones distantes. Este fenmeno es crucial para el clima de Sudamrica y ms all.',contentBlock1TitleColor:"#ff6b35",contentBlock1TextColor:"#ffffff",contentBlock1TitleFontSize:24,contentBlock1TextFontSize:16,contentBlock1BackgroundColor:"#000000",contentBlock1Padding:80,contentBlock2ImageUrl:"https://placehold.co/1280x500",contentBlock2Text:"UN UNIVERSO SUMERGIDO",contentBlock2TextColor:"#ffffff",contentBlock2TextFontSize:64,contentBlock2OverlayColor:"rgba(0, 0, 0, 0.4)",contentBlock2Height:500,contentBlock3Title:"Un Equilibrio Frgil",contentBlock3Text:"La deforestacin y la contaminacin por mercurio amenazan los ros amaznicos. Proteger estos ecosistemas acuticos es esencial para mantener el equilibrio climtico global y preservar la biodiversidad nica que albergan.",contentBlock3TitleColor:"#ff6b35",contentBlock3TextColor:"#ffffff",contentBlock3TitleFontSize:32,contentBlock3TextFontSize:18,contentBlock3BackgroundColor:"#000000",contentBlock3Padding:80,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:uA}};const Ey=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:s=1,gridTemplateColumns:l="repeat(2,150px)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:T},query:{createNode:z,node:S},enabled:R}=De(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(d)||0,Q=Number(f)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={display:"grid",justifyContent:"center",gridTemplateColumns:l,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(s)||1)),width:"100%",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:F,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const L=S(m).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=S(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(m)),le={...Y,translateX:(Number(Y.translateX)||0)+20,translateY:(Number(Y.translateY)||0)+20},K=z(xe.createElement(P,le));C(K,Q,V+1),w(K.id)}catch(L){console.error("Error al duplicar:",L)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),T(m)}})]})]})},dA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(s=>s.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(s=>s.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(s=>s.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr"})," para 2 columnas iguales."]})]})})}]})};Ey.craft={displayName:"Grid 2",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(2, 300px)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:dA}};const ky=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:s=1,gridTemplateColumns:l="repeat(3, 300px)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:T},query:{createNode:z,node:S},enabled:R}=De(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(d)||0,Q=Number(f)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={display:"grid",justifyContent:"center",gridTemplateColumns:l,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(s)||1)),width:"fit-content",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:F,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const L=S(m).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=S(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(m)),le={...Y,translateX:(Number(Y.translateX)||0)+20,translateY:(Number(Y.translateY)||0)+20},K=z(xe.createElement(P,le));C(K,Q,V+1),w(K.id)}catch(L){console.error("Error al duplicar:",L)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),T(m)}})]})]})},fA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(s=>s.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(s=>s.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(s=>s.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr 1fr"})," para 3 columnas iguales, o ",a.jsx("code",{children:"repeat(3, 300px)"}),"."]})]})})}]})};ky.craft={displayName:"Grid 3",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(3, 300px)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:fA}};const Oy=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:s=1,gridTemplateColumns:l="1fr",maxWidth:i="800px",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:T},query:{createNode:z,node:S},enabled:R}=De(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const L=E.clientX,P=E.clientY,Y=Number(d)||0,Q=Number(f)||0,X=V=>{const le=V.clientX-L,K=V.clientY-P;j(O=>{O.translateX=Y+le,O.translateY=Q+K})},H=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",H)},F={display:"grid",justifyContent:"center",gridTemplateColumns:l,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(s)||1)),width:"100%",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:F,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const L=S(m).get(),{type:P,props:Y,parent:Q}={type:L.data.type,props:L.data.props,parent:L.data.parent},H=S(Q).get().data.nodes||[],V=Math.max(0,H.indexOf(m)),le={...Y,translateX:(Number(Y.translateX)||0)+20,translateY:(Number(Y.translateY)||0)+20},K=z(xe.createElement(P,le));C(K,Q,V+1),w(K.id)}catch(L){console.error("Error al duplicar:",L)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),T(m)}})]})]})},hA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(s=>s.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(s=>s.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(s=>s.maxWidth=n.target.value),placeholder:"ej: 800px, 100%, 60vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(s=>s.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr"})," para una lista vertical."]})]})})}]})};Oy.craft={displayName:"Grid Lista (Col)",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"1fr",maxWidth:"800px",translateX:0,translateY:0},related:{settings:hA}};const Ay=({width:r=200,height:e=50,backgroundColor:n="#ff6b35",borderRadius:s=0,rotation:l=0,marginX:i=0,marginY:d=0,opacity:f=1,translateX:p=0,translateY:m=0})=>{const{connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(C=>({selected:C.events.selected}));return a.jsx("div",{ref:C=>v(b(C)),style:{width:`${r}px`,height:`${e}px`,backgroundColor:n,borderRadius:`${s}px`,transform:`translate(${p}px, ${m}px) rotate(${l}deg)`,margin:`${d}px ${i}px`,opacity:f,display:"inline-block",position:"relative",boxSizing:"border-box",border:y?"2px dashed #3b82f6":"none"}})},mA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Estilo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Ancho (Width)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.width,onChange:n=>r(s=>s.width=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Alto (Height)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.height,onChange:n=>r(s=>s.height=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:n=>r(s=>s.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio del Borde"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:Math.min(e.width,e.height)/2,value:e.borderRadius,onChange:n=>r(s=>s.borderRadius=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderRadius,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Rotacin"}),a.jsxs("select",{className:"form-select",value:e.rotation,onChange:n=>r(s=>s.rotation=Number(n.target.value)),children:[a.jsx("option",{value:0,children:"0 (Horizontal)"}),a.jsx("option",{value:90,children:"90 (Vertical)"}),a.jsx("option",{value:180,children:"180"}),a.jsx("option",{value:270,children:"270"})]})]})]})},{label:"Espaciado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margen Horizontal (X)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:200,value:e.marginX,onChange:n=>r(s=>s.marginX=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.marginX,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margen Vertical (Y)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:200,value:e.marginY,onChange:n=>r(s=>s.marginY=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.marginY,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.1,value:e.opacity,onChange:n=>r(s=>s.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:e.opacity})]})]})},{label:"Avanzado",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.translateX,onChange:n=>r(s=>s.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.translateY,onChange:n=>r(s=>s.translateY=Number(n.target.value))})]})]})})}]})};Ay.craft={displayName:"Rectangulo/Linea",props:{width:200,height:10,backgroundColor:"#ff6b35",borderRadius:0,rotation:0,marginX:0,marginY:0,opacity:1,translateX:0,translateY:0},related:{settings:mA}};const Ry={Card:fy,Button:$l,Text:Ht,Image:ss,Container:fh,CardTop:hh,CardBottom:mh,BackgroundImageContainer:ra,ChevronButton:Yl,IconButton:Fl,FileDownload:my,ForumButton:py,Forum:gy,LikeButton:Xl,Navbar:ma,HeroSection:Ra,NewsSection:gh,CategoryGrid:vh,FeaturedPhoto:bh,ForumCTA:xh,HomepageSection:vy,NewsArticle:yh,NewsPageTemplate:by,TribesPageTemplate:yy,FloraPageTemplate:jy,FloraPageTemplateV1:Ny,FloraPageTemplateV2:Cy,FaunaPageTemplate:wy,FaunaPageTemplateV1:Sy,FaunaPageTemplateV2:_y,AguaPageTemplate:Ty,TribesCard:jh,FeatureCard:$t,FeatureGrid:Gl,Grid2:Ey,Grid3:ky,GridCol:Oy,Rectangle:Ay},pA=new Set(Object.keys(Ry)),gA=new Set(["div","span","p","h1","h2","h3","h4","h5","h6","img","a","button","ul","li","ol","section","article","nav","header","footer","main","aside","blockquote","pre","code"]),Vl=1280,Kl=720,Nh="#ffffff";function vA(r,e=new Set){if(!r||typeof r!="object")return e;const n=s=>{if(!s)return;const l=typeof s;if(l==="string"){const i=s.trim(),d=i.match(/url\((['"]?)([^)"']+)\1\)/i);if(d&&d[2]){const f=d[2];/^https?:\/\//i.test(f)&&e.add(f);return}/^https?:\/\//i.test(i)&&/(\.(png|jpe?g|gif|webp|svg))(\?|#|$)/i.test(i)&&e.add(i);return}if(Array.isArray(s)){s.forEach(n);return}if(l==="object")for(const i in s)n(s[i])};return n(r),e}function bA(r){try{const e=new Set;for(const n of Object.keys(r||{})){const s=r[n];let l=s;if(typeof s=="string")try{l=JSON.parse(s)}catch{l=null}l&&vA(l,e)}e.forEach(n=>{try{const s=new ss;s.decoding="async",s.src=n}catch{}}),console.log("[Export Viewer] Prefetched images:",e.size)}catch(e){console.warn("Prefetch images failed",e)}}function zy(r){try{let e=JSON.parse(typeof r=="string"?r:JSON.stringify(r));if(!e||typeof e!="object")return console.warn("[normalize] Estado invlido, usando fallback vaco"),JSON.stringify({ROOT:{data:{type:{resolvedName:"BackgroundImageContainer"},props:{padding:0}},nodes:[],linkedNodes:{},isCanvas:!0,displayName:"ROOT"}});if(e.nodes&&typeof e.nodes=="object"&&!Array.isArray(e.nodes)){console.log("[normalize] Aplanando estructura de nodos anidada...");const l=e.nodes;delete e.nodes,Object.keys(l).forEach(i=>{e[i]=l[i]})}const n=new Set,s=(l,i)=>{if(!l||typeof l!="object")return!1;l.type||(l.data&&l.data.type?typeof l.data.type=="string"?l.type={resolvedName:l.data.type}:typeof l.data.type=="object"&&(l.type={...l.data.type}):l.type={resolvedName:"div"}),typeof l.type=="string"&&(l.type={resolvedName:l.type}),l.type.resolvedName||(l.type.resolvedName=l.displayName||"div");const d=l.type.resolvedName;return!pA.has(d)&&!gA.has(d.toLowerCase())&&(console.warn(`[normalize] Componente '${d}' no reconocido en nodo ${i}. Reemplazando por 'Container'.`),l.type={resolvedName:"Container"},l.data=l.data||{},l.data.type={resolvedName:"Container"},l.displayName="Container (Fallback)"),l.data||(l.data={}),l.data.type=l.type,l.props||(l.props={}),l.data.props||(l.data.props=l.props),l.custom||(l.custom={}),typeof l.hidden!="boolean"&&(l.hidden=!!l.hidden),l.nodes?Array.isArray(l.nodes)||(typeof l.nodes=="object"?l.nodes=Object.keys(l.nodes):l.nodes=[]):l.nodes=[],l.linkedNodes||(l.linkedNodes={}),i==="ROOT"&&(l.isCanvas=!0),!0};return Object.keys(e).forEach(l=>{s(e[l],l)&&n.add(l)}),e.ROOT||(console.warn("[normalize] ROOT faltante, creando default"),e.ROOT={data:{type:{resolvedName:"BackgroundImageContainer"},props:{padding:0}},nodes:[],linkedNodes:{},isCanvas:!0,displayName:"ROOT",hidden:!1,custom:{}},n.add("ROOT")),Object.keys(e).forEach(l=>{if(!n.has(l))return;const i=e[l];if(i.nodes&&i.nodes.length>0&&(i.nodes=i.nodes.filter(d=>n.has(d))),i.linkedNodes){const d={};Object.keys(i.linkedNodes).forEach(f=>{n.has(f)&&(d[f]=i.linkedNodes[f])}),i.linkedNodes=d}}),JSON.stringify(e)}catch(e){return console.error("[normalize] Error fatal:",e),JSON.stringify({ROOT:{data:{type:{resolvedName:"BackgroundImageContainer"},props:{}},nodes:[],linkedNodes:{},isCanvas:!0,displayName:"ROOT"}})}}function xA(){const{actions:r}=De();return D.useEffect(()=>{const e=setTimeout(()=>{try{const n=window.__CRAFT_PAGE_STATE__;if(!n){console.log("[Loader] No hay estado inicial global (__CRAFT_PAGE_STATE__)");return}console.log("[Loader] Procesando estado...");const s=zy(n);console.log("[Loader] Deserializando..."),r.deserialize(s),console.log("[Loader] xito.");const l=document.createElement("div");l.innerText="Carga Exitosa",l.style.cssText="position:fixed;bottom:0;right:0;background:rgba(0,128,0,0.8);color:white;padding:4px 8px;z-index:9999;font-size:10px;pointer-events:none;border-radius:4px 0 0 0;",document.body.appendChild(l),setTimeout(()=>l.remove(),3e3)}catch(n){console.error("[Loader] Error:",n);const s=document.createElement("div");s.innerHTML=`<h3 style="margin:0 0 10px 0">Error de Visualizacin</h3><pre style="white-space:pre-wrap;font-size:12px">${n.message}</pre>`,s.style.cssText="position:fixed;top:20px;left:20px;right:20px;background:white;color:#d32f2f;padding:20px;z-index:9999;border:1px solid #d32f2f;box-shadow:0 4px 6px rgba(0,0,0,0.1);border-radius:8px;max-height:80vh;overflow:auto;";const l=document.createElement("button");l.innerText="Cerrar",l.style.cssText="margin-top:10px;padding:5px 10px;cursor:pointer;",l.onclick=()=>s.remove(),s.appendChild(l),document.body.appendChild(s)}},100);return()=>clearTimeout(e)},[r]),null}class yA extends xe.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error rendering Viewer:",e,n)}render(){return this.state.hasError?a.jsxs("div",{style:{padding:16,color:"#b00020",fontFamily:"system-ui"},children:[a.jsx("h3",{children:"Ocurri un error al renderizar la pgina exportada"}),a.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(this.state.error)})]}):this.props.children}}function My({mode:r}){const{actions:e}=De(),{slug:n}=rT(),[s]=JT(),l=Ba(),[i,d]=D.useState(0);return D.useEffect(()=>{try{const f=typeof window<"u"&&window.__CRAFT_ROUTES__||null;if(!f)return;let p=null;if(r==="bySlug")p=n||"";else if(r==="byName"){const b=s.get("section")||"",j=(window.__CRAFT_SECTIONS__||[]).find(C=>(C.name||"").toLowerCase()===b.toLowerCase());p=j?j.slug:""}if(!p)return;const m=f[p];if(!m)return;const v=zy(m);e.deserialize(v)}catch(f){console.error("No se pudo deserializar la ruta actual",f)}},[e,r,n,s]),D.useEffect(()=>{d(f=>f+1)},[l.pathname,l.search]),a.jsx("div",{className:"route-wrapper fadeIn",style:{width:"100%",maxWidth:"none",margin:0,minHeight:"100vh",background:Nh},children:a.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"16px 0"},children:a.jsx("div",{style:{width:Vl,minHeight:Kl,position:"relative",overflow:"visible"},children:a.jsx(lx,{children:a.jsx(be,{is:ra,padding:10,targetWidth:Vl,targetHeight:Kl,canvas:!0})})})})},i)}function jA(){const[r,e]=D.useState(!1);D.useEffect(()=>{e(!0)},[]);const n=typeof window<"u"&&!!window.__CRAFT_ROUTES__,s=typeof window<"u"&&window.__CRAFT_START_ROUTE__||"/";return D.useEffect(()=>{n&&typeof window<"u"&&window.__CRAFT_ROUTES__&&bA(window.__CRAFT_ROUTES__)},[n]),a.jsx(yA,{children:a.jsxs(j_,{enabled:!1,resolver:Ry,children:[!n&&a.jsx(xA,{}),n?a.jsxs(yT,{children:[a.jsx(Jo,{path:"/",element:a.jsx(bT,{to:s,replace:!0})}),a.jsx(Jo,{path:"/editor",element:a.jsx(My,{mode:"byName"})}),a.jsx(Jo,{path:":slug",element:a.jsx(My,{mode:"bySlug"})}),a.jsx(Jo,{path:"*",element:a.jsx("div",{style:{padding:16},children:"No encontrada"})})]}):a.jsxs("div",{className:"route-wrapper fadeIn",style:{width:"100%",maxWidth:"none",margin:0,minHeight:"100vh",background:Nh},children:[!r&&a.jsx("div",{style:{padding:16},children:"Cargando"}),a.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"16px 0"},children:a.jsx("div",{style:{width:Vl,minHeight:Kl,position:"relative",overflow:"visible"},children:a.jsx(lx,{children:a.jsx(be,{is:ra,padding:10,targetWidth:Vl,targetHeight:Kl,canvas:!0})})})})]})]})})}(()=>{try{const r=document.getElementById("root");if(!r){document.body.innerHTML='<h1 style="color:red; padding: 20px;">ERROR CRTICO: No se encontr el elemento #root en el HTML.</h1>',console.error("No se encontr #root para montar ViewerApp");return}window.__CRAFT_PAGE_STATE__||console.warn("Advertencia: window.__CRAFT_PAGE_STATE__ es null o undefined al montar.");try{document.body.style.margin="0",document.body.style.backgroundColor=Nh}catch{}BC.createRoot(r).render(a.jsx(FT,{children:a.jsx(jA,{})})),console.log("[Export Viewer] Aplicacin montada correctamente en #root")}catch(r){document.body.innerHTML=`<div style="color:red; padding:20px; background:white;">
      <h1>ERROR AL MONTAR APLICACIN</h1>
      <pre>${r.message}
${r.stack}</pre>
    </div>`,console.error("Excepcin en mount():",r)}})()})();
