(function(){"use strict";function OC(r,e){for(var n=0;n<e.length;n++){const o=e[n];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(o,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}function _r(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Lp(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var n=function o(){var s=!1;try{s=this instanceof o}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(o){var s=Object.getOwnPropertyDescriptor(r,o);Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:function(){return r[o]}})}),n}var hc={exports:{}},Rl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function AC(){if(Up)return Rl;Up=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,s,i){var d=null;if(i!==void 0&&(d=""+i),s.key!==void 0&&(d=""+s.key),"key"in s){i={};for(var f in s)f!=="key"&&(i[f]=s[f])}else i=s;return s=i.ref,{$$typeof:r,type:o,key:d,ref:s!==void 0?s:null,props:i}}return Rl.Fragment=e,Rl.jsx=n,Rl.jsxs=n,Rl}var Ip;function RC(){return Ip||(Ip=1,hc.exports=AC()),hc.exports}var a=RC(),mc={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function zC(){if(qp)return ke;qp=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),y=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function z(T,k,M){this.props=T,this.context=k,this.refs=_,this.updater=M||C}z.prototype.isReactComponent={},z.prototype.setState=function(T,k){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,k,"setState")},z.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function S(){}S.prototype=z.prototype;function R(T,k,M){this.props=T,this.context=k,this.refs=_,this.updater=M||C}var I=R.prototype=new S;I.constructor=R,w(I,z.prototype),I.isPureReactComponent=!0;var $=Array.isArray;function E(){}var D={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function X(T,k,M){var q=M.ref;return{$$typeof:r,type:T,key:k,ref:q!==void 0?q:null,props:M}}function W(T,k){return X(T.type,k,T.props)}function F(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function H(T){var k={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(M){return k[M]})}var G=/\/+/g;function se(T,k){return typeof T=="object"&&T!==null&&T.key!=null?H(""+T.key):k.toString(36)}function V(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(E,E):(T.status="pending",T.then(function(k){T.status==="pending"&&(T.status="fulfilled",T.value=k)},function(k){T.status==="pending"&&(T.status="rejected",T.reason=k)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,k,M,q,le){var ie=typeof T;(ie==="undefined"||ie==="boolean")&&(T=null);var he=!1;if(T===null)he=!0;else switch(ie){case"bigint":case"string":case"number":he=!0;break;case"object":switch(T.$$typeof){case r:case e:he=!0;break;case v:return he=T._init,O(he(T._payload),k,M,q,le)}}if(he)return le=le(T),he=q===""?"."+se(T,0):q,$(le)?(M="",he!=null&&(M=he.replace(G,"$&/")+"/"),O(le,k,M,"",function(Y){return Y})):le!=null&&(F(le)&&(le=W(le,M+(le.key==null||T&&T.key===le.key?"":(""+le.key).replace(G,"$&/")+"/")+he)),k.push(le)),1;he=0;var ae=q===""?".":q+":";if($(T))for(var A=0;A<T.length;A++)q=T[A],ie=ae+se(q,A),he+=O(q,k,M,ie,le);else if(A=j(T),typeof A=="function")for(T=A.call(T),A=0;!(q=T.next()).done;)q=q.value,ie=ae+se(q,A++),he+=O(q,k,M,ie,le);else if(ie==="object"){if(typeof T.then=="function")return O(V(T),k,M,q,le);throw k=String(T),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return he}function J(T,k,M){if(T==null)return T;var q=[],le=0;return O(T,q,"","",function(ie){return k.call(M,ie,le++)}),q}function te(T){if(T._status===-1){var k=T._result;k=k(),k.then(function(M){(T._status===0||T._status===-1)&&(T._status=1,T._result=M)},function(M){(T._status===0||T._status===-1)&&(T._status=2,T._result=M)}),T._status===-1&&(T._status=0,T._result=k)}if(T._status===1)return T._result.default;throw T._result}var ne=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},re={map:J,forEach:function(T,k,M){J(T,function(){k.apply(this,arguments)},M)},count:function(T){var k=0;return J(T,function(){k++}),k},toArray:function(T){return J(T,function(k){return k})||[]},only:function(T){if(!F(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return ke.Activity=b,ke.Children=re,ke.Component=z,ke.Fragment=n,ke.Profiler=s,ke.PureComponent=R,ke.StrictMode=o,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ke.__COMPILER_RUNTIME={__proto__:null,c:function(T){return D.H.useMemoCache(T)}},ke.cache=function(T){return function(){return T.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(T,k,M){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var q=w({},T.props),le=T.key;if(k!=null)for(ie in k.key!==void 0&&(le=""+k.key),k)!P.call(k,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&k.ref===void 0||(q[ie]=k[ie]);var ie=arguments.length-2;if(ie===1)q.children=M;else if(1<ie){for(var he=Array(ie),ae=0;ae<ie;ae++)he[ae]=arguments[ae+2];q.children=he}return X(T.type,le,q)},ke.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:i,_context:T},T},ke.createElement=function(T,k,M){var q,le={},ie=null;if(k!=null)for(q in k.key!==void 0&&(ie=""+k.key),k)P.call(k,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(le[q]=k[q]);var he=arguments.length-2;if(he===1)le.children=M;else if(1<he){for(var ae=Array(he),A=0;A<he;A++)ae[A]=arguments[A+2];le.children=ae}if(T&&T.defaultProps)for(q in he=T.defaultProps,he)le[q]===void 0&&(le[q]=he[q]);return X(T,ie,le)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(T){return{$$typeof:f,render:T}},ke.isValidElement=F,ke.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:te}},ke.memo=function(T,k){return{$$typeof:m,type:T,compare:k===void 0?null:k}},ke.startTransition=function(T){var k=D.T,M={};D.T=M;try{var q=T(),le=D.S;le!==null&&le(M,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(E,ne)}catch(ie){ne(ie)}finally{k!==null&&M.types!==null&&(k.types=M.types),D.T=k}},ke.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ke.use=function(T){return D.H.use(T)},ke.useActionState=function(T,k,M){return D.H.useActionState(T,k,M)},ke.useCallback=function(T,k){return D.H.useCallback(T,k)},ke.useContext=function(T){return D.H.useContext(T)},ke.useDebugValue=function(){},ke.useDeferredValue=function(T,k){return D.H.useDeferredValue(T,k)},ke.useEffect=function(T,k){return D.H.useEffect(T,k)},ke.useEffectEvent=function(T){return D.H.useEffectEvent(T)},ke.useId=function(){return D.H.useId()},ke.useImperativeHandle=function(T,k,M){return D.H.useImperativeHandle(T,k,M)},ke.useInsertionEffect=function(T,k){return D.H.useInsertionEffect(T,k)},ke.useLayoutEffect=function(T,k){return D.H.useLayoutEffect(T,k)},ke.useMemo=function(T,k){return D.H.useMemo(T,k)},ke.useOptimistic=function(T,k){return D.H.useOptimistic(T,k)},ke.useReducer=function(T,k,M){return D.H.useReducer(T,k,M)},ke.useRef=function(T){return D.H.useRef(T)},ke.useState=function(T){return D.H.useState(T)},ke.useSyncExternalStore=function(T,k,M){return D.H.useSyncExternalStore(T,k,M)},ke.useTransition=function(){return D.H.useTransition()},ke.version="19.2.0",ke}var Bp;function pc(){return Bp||(Bp=1,mc.exports=zC()),mc.exports}var L=pc();const be=_r(L);var gc={exports:{}},zl={},vc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function MC(){return Pp||(Pp=1,(function(r){function e(O,J){var te=O.length;O.push(J);e:for(;0<te;){var ne=te-1>>>1,re=O[ne];if(0<s(re,J))O[ne]=J,O[te]=re,te=ne;else break e}}function n(O){return O.length===0?null:O[0]}function o(O){if(O.length===0)return null;var J=O[0],te=O.pop();if(te!==J){O[0]=te;e:for(var ne=0,re=O.length,T=re>>>1;ne<T;){var k=2*(ne+1)-1,M=O[k],q=k+1,le=O[q];if(0>s(M,te))q<re&&0>s(le,M)?(O[ne]=le,O[q]=te,ne=q):(O[ne]=M,O[k]=te,ne=k);else if(q<re&&0>s(le,te))O[ne]=le,O[q]=te,ne=q;else break e}}return J}function s(O,J){var te=O.sortIndex-J.sortIndex;return te!==0?te:O.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var d=Date,f=d.now();r.unstable_now=function(){return d.now()-f}}var p=[],m=[],v=1,b=null,y=3,j=!1,C=!1,w=!1,_=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function I(O){for(var J=n(m);J!==null;){if(J.callback===null)o(m);else if(J.startTime<=O)o(m),J.sortIndex=J.expirationTime,e(p,J);else break;J=n(m)}}function $(O){if(w=!1,I(O),!C)if(n(p)!==null)C=!0,E||(E=!0,H());else{var J=n(m);J!==null&&V($,J.startTime-O)}}var E=!1,D=-1,P=5,X=-1;function W(){return _?!0:!(r.unstable_now()-X<P)}function F(){if(_=!1,E){var O=r.unstable_now();X=O;var J=!0;try{e:{C=!1,w&&(w=!1,S(D),D=-1),j=!0;var te=y;try{t:{for(I(O),b=n(p);b!==null&&!(b.expirationTime>O&&W());){var ne=b.callback;if(typeof ne=="function"){b.callback=null,y=b.priorityLevel;var re=ne(b.expirationTime<=O);if(O=r.unstable_now(),typeof re=="function"){b.callback=re,I(O),J=!0;break t}b===n(p)&&o(p),I(O)}else o(p);b=n(p)}if(b!==null)J=!0;else{var T=n(m);T!==null&&V($,T.startTime-O),J=!1}}break e}finally{b=null,y=te,j=!1}J=void 0}}finally{J?H():E=!1}}}var H;if(typeof R=="function")H=function(){R(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,se=G.port2;G.port1.onmessage=F,H=function(){se.postMessage(null)}}else H=function(){z(F,0)};function V(O,J){D=z(function(){O(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_next=function(O){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var te=y;y=J;try{return O()}finally{y=te}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(O,J){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var te=y;y=O;try{return J()}finally{y=te}},r.unstable_scheduleCallback=function(O,J,te){var ne=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ne+te:ne):te=ne,O){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=te+re,O={id:v++,callback:J,priorityLevel:O,startTime:te,expirationTime:re,sortIndex:-1},te>ne?(O.sortIndex=te,e(m,O),n(p)===null&&O===n(m)&&(w?(S(D),D=-1):w=!0,V($,te-ne))):(O.sortIndex=re,e(p,O),C||j||(C=!0,E||(E=!0,H()))),O},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(O){var J=y;return function(){var te=y;y=J;try{return O.apply(this,arguments)}finally{y=te}}}})(bc)),bc}var Hp;function DC(){return Hp||(Hp=1,vc.exports=MC()),vc.exports}var xc={exports:{}},It={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function LC(){if($p)return It;$p=1;var r=pc();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(p,m,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:p,containerInfo:m,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return It.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,It.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return i(p,m,null,v)},It.flushSync=function(p){var m=d.T,v=o.p;try{if(d.T=null,o.p=2,p)return p()}finally{d.T=m,o.p=v,o.d.f()}},It.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(p,m))},It.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},It.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin),y=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?o.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:y,fetchPriority:j}):v==="script"&&o.d.X(p,{crossOrigin:b,integrity:y,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},It.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=f(m.as,m.crossOrigin);o.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(p)},It.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,b=f(v,m.crossOrigin);o.d.L(p,v,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},It.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=f(m.as,m.crossOrigin);o.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(p)},It.requestFormReset=function(p){o.d.r(p)},It.unstable_batchedUpdates=function(p,m){return p(m)},It.useFormState=function(p,m,v){return d.H.useFormState(p,m,v)},It.useFormStatus=function(){return d.H.useHostTransitionStatus()},It.version="19.2.0",It}var Yp;function Xp(){if(Yp)return xc.exports;Yp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xc.exports=LC(),xc.exports}var Fp;function UC(){if(Fp)return zl;Fp=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=DC(),e=pc(),n=Xp();function o(t){var l="https://react.dev/errors/"+t;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+t+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function i(t){var l=t,c=t;if(t.alternate)for(;l.return;)l=l.return;else{t=l;do l=t,(l.flags&4098)!==0&&(c=l.return),t=l.return;while(t)}return l.tag===3?c:null}function d(t){if(t.tag===13){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function f(t){if(t.tag===31){var l=t.memoizedState;if(l===null&&(t=t.alternate,t!==null&&(l=t.memoizedState)),l!==null)return l.dehydrated}return null}function p(t){if(i(t)!==t)throw Error(o(188))}function m(t){var l=t.alternate;if(!l){if(l=i(t),l===null)throw Error(o(188));return l!==t?null:t}for(var c=t,u=l;;){var h=c.return;if(h===null)break;var g=h.alternate;if(g===null){if(u=h.return,u!==null){c=u;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===c)return p(h),t;if(g===u)return p(h),l;g=g.sibling}throw Error(o(188))}if(c.return!==u.return)c=h,u=g;else{for(var x=!1,N=h.child;N;){if(N===c){x=!0,c=h,u=g;break}if(N===u){x=!0,u=h,c=g;break}N=N.sibling}if(!x){for(N=g.child;N;){if(N===c){x=!0,c=g,u=h;break}if(N===u){x=!0,u=g,c=h;break}N=N.sibling}if(!x)throw Error(o(189))}}if(c.alternate!==u)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?t:l}function v(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t;for(t=t.child;t!==null;){if(l=v(t),l!==null)return l;t=t.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),R=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var G=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===G?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case z:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case E:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case R:return t.displayName||"Context";case S:return(t._context.displayName||"Context")+".Consumer";case I:var l=t.render;return t=t.displayName,t||(t=l.displayName||l.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return l=t.displayName||null,l!==null?l:se(t.type)||"Memo";case P:l=t._payload,t=t._init;try{return se(t(l))}catch{}}return null}var V=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ne=[],re=-1;function T(t){return{current:t}}function k(t){0>re||(t.current=ne[re],ne[re]=null,re--)}function M(t,l){re++,ne[re]=t.current,t.current=l}var q=T(null),le=T(null),ie=T(null),he=T(null);function ae(t,l){switch(M(ie,l),M(le,t),M(q,null),l.nodeType){case 9:case 11:t=(t=l.documentElement)&&(t=t.namespaceURI)?Z1(t):0;break;default:if(t=l.tagName,l=l.namespaceURI)l=Z1(l),t=eC(l,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}k(q),M(q,t)}function A(){k(q),k(le),k(ie)}function Y(t){t.memoizedState!==null&&M(he,t);var l=q.current,c=eC(l,t.type);l!==c&&(M(le,t),M(q,c))}function de(t){le.current===t&&(k(q),k(le)),he.current===t&&(k(he),Vo._currentValue=te)}var me,ge;function Ne(t){if(me===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);me=l&&l[1]||"",ge=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+t+ge}var ve=!1;function Te(t,l){if(!t||ve)return"";ve=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(l){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(oe){var ee=oe}Reflect.construct(t,[],fe)}else{try{fe.call()}catch(oe){ee=oe}t.call(fe.prototype)}}else{try{throw Error()}catch(oe){ee=oe}(fe=t())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(oe){if(oe&&ee&&typeof oe.stack=="string")return[oe.stack,ee.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),x=g[0],N=g[1];if(x&&N){var U=x.split(`
`),Z=N.split(`
`);for(h=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;h<Z.length&&!Z[h].includes("DetermineComponentFrameRoot");)h++;if(u===U.length||h===Z.length)for(u=U.length-1,h=Z.length-1;1<=u&&0<=h&&U[u]!==Z[h];)h--;for(;1<=u&&0<=h;u--,h--)if(U[u]!==Z[h]){if(u!==1||h!==1)do if(u--,h--,0>h||U[u]!==Z[h]){var ce=`
`+U[u].replace(" at new "," at ");return t.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",t.displayName)),ce}while(1<=u&&0<=h);break}}}finally{ve=!1,Error.prepareStackTrace=c}return(c=t?t.displayName||t.name:"")?Ne(c):""}function ye(t,l){switch(t.tag){case 26:case 27:case 5:return Ne(t.type);case 16:return Ne("Lazy");case 13:return t.child!==l&&l!==null?Ne("Suspense Fallback"):Ne("Suspense");case 19:return Ne("SuspenseList");case 0:case 15:return Te(t.type,!1);case 11:return Te(t.type.render,!1);case 1:return Te(t.type,!0);case 31:return Ne("Activity");default:return""}}function Ae(t){try{var l="",c=null;do l+=ye(t,c),c=t,t=t.return;while(t);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var De=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,la=r.unstable_cancelCallback,pa=r.unstable_shouldYield,_t=r.unstable_requestPaint,mt=r.unstable_now,Wa=r.unstable_getCurrentPriorityLevel,Gr=r.unstable_ImmediatePriority,Tt=r.unstable_UserBlockingPriority,Rt=r.unstable_NormalPriority,Cn=r.unstable_LowPriority,za=r.unstable_IdlePriority,wn=r.log,Sn=r.unstable_setDisableYieldValue,Ct=null,et=null;function ga(t){if(typeof wn=="function"&&Sn(t),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ct,t)}catch{}}var Et=Math.clz32?Math.clz32:jA,Js=Math.log,yA=Math.LN2;function jA(t){return t>>>=0,t===0?32:31-(Js(t)/yA|0)|0}var Ws=256,Qs=262144,Zs=4194304;function ir(t){var l=t&42;if(l!==0)return l;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ei(t,l,c){var u=t.pendingLanes;if(u===0)return 0;var h=0,g=t.suspendedLanes,x=t.pingedLanes;t=t.warmLanes;var N=u&134217727;return N!==0?(u=N&~g,u!==0?h=ir(u):(x&=N,x!==0?h=ir(x):c||(c=N&~t,c!==0&&(h=ir(c))))):(N=u&~g,N!==0?h=ir(N):x!==0?h=ir(x):c||(c=u&~t,c!==0&&(h=ir(c)))),h===0?0:l!==0&&l!==h&&(l&g)===0&&(g=h&-h,c=l&-l,g>=c||g===32&&(c&4194048)!==0)?l:h}function oo(t,l){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&l)===0}function NA(t,l){switch(t){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function My(){var t=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),t}function wh(t){for(var l=[],c=0;31>c;c++)l.push(t);return l}function so(t,l){t.pendingLanes|=l,l!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function CA(t,l,c,u,h,g){var x=t.pendingLanes;t.pendingLanes=c,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=c,t.entangledLanes&=c,t.errorRecoveryDisabledLanes&=c,t.shellSuspendCounter=0;var N=t.entanglements,U=t.expirationTimes,Z=t.hiddenUpdates;for(c=x&~c;0<c;){var ce=31-Et(c),fe=1<<ce;N[ce]=0,U[ce]=-1;var ee=Z[ce];if(ee!==null)for(Z[ce]=null,ce=0;ce<ee.length;ce++){var oe=ee[ce];oe!==null&&(oe.lane&=-536870913)}c&=~fe}u!==0&&Dy(t,u,0),g!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=g&~(x&~l))}function Dy(t,l,c){t.pendingLanes|=l,t.suspendedLanes&=~l;var u=31-Et(l);t.entangledLanes|=l,t.entanglements[u]=t.entanglements[u]|1073741824|c&261930}function Ly(t,l){var c=t.entangledLanes|=l;for(t=t.entanglements;c;){var u=31-Et(c),h=1<<u;h&l|t[u]&l&&(t[u]|=l),c&=~h}}function Uy(t,l){var c=l&-l;return c=(c&42)!==0?1:Sh(c),(c&(t.suspendedLanes|l))!==0?0:c}function Sh(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _h(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iy(){var t=J.p;return t!==0?t:(t=window.event,t===void 0?32:CC(t.type))}function qy(t,l){var c=J.p;try{return J.p=t,l()}finally{J.p=c}}var _n=Math.random().toString(36).slice(2),zt="__reactFiber$"+_n,Ft="__reactProps$"+_n,Vr="__reactContainer$"+_n,Th="__reactEvents$"+_n,wA="__reactListeners$"+_n,SA="__reactHandles$"+_n,By="__reactResources$"+_n,io="__reactMarker$"+_n;function Eh(t){delete t[zt],delete t[Ft],delete t[Th],delete t[wA],delete t[SA]}function Kr(t){var l=t[zt];if(l)return l;for(var c=t.parentNode;c;){if(l=c[Vr]||c[zt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(t=sC(t);t!==null;){if(c=t[zt])return c;t=sC(t)}return l}t=c,c=t.parentNode}return null}function Jr(t){if(t=t[zt]||t[Vr]){var l=t.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return t}return null}function co(t){var l=t.tag;if(l===5||l===26||l===27||l===6)return t.stateNode;throw Error(o(33))}function Wr(t){var l=t[By];return l||(l=t[By]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function kt(t){t[io]=!0}var Py=new Set,Hy={};function cr(t,l){Qr(t,l),Qr(t+"Capture",l)}function Qr(t,l){for(Hy[t]=l,t=0;t<l.length;t++)Py.add(l[t])}var _A=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$y={},Yy={};function TA(t){return De.call(Yy,t)?!0:De.call($y,t)?!1:_A.test(t)?Yy[t]=!0:($y[t]=!0,!1)}function ti(t,l,c){if(TA(l))if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":t.removeAttribute(l);return;case"boolean":var u=l.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(l);return}}t.setAttribute(l,""+c)}}function ai(t,l,c){if(c===null)t.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(l);return}t.setAttribute(l,""+c)}}function Qa(t,l,c,u){if(u===null)t.removeAttribute(c);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(c);return}t.setAttributeNS(l,c,""+u)}}function va(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xy(t){var l=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function EA(t,l,c){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,l);if(!t.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,g=u.set;return Object.defineProperty(t,l,{configurable:!0,get:function(){return h.call(this)},set:function(x){c=""+x,g.call(this,x)}}),Object.defineProperty(t,l,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(x){c=""+x},stopTracking:function(){t._valueTracker=null,delete t[l]}}}}function kh(t){if(!t._valueTracker){var l=Xy(t)?"checked":"value";t._valueTracker=EA(t,l,""+t[l])}}function Fy(t){if(!t)return!1;var l=t._valueTracker;if(!l)return!0;var c=l.getValue(),u="";return t&&(u=Xy(t)?t.checked?"true":"false":t.value),t=u,t!==c?(l.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kA=/[\n"\\]/g;function ba(t){return t.replace(kA,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Oh(t,l,c,u,h,g,x,N){t.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.type=x:t.removeAttribute("type"),l!=null?x==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+va(l)):t.value!==""+va(l)&&(t.value=""+va(l)):x!=="submit"&&x!=="reset"||t.removeAttribute("value"),l!=null?Ah(t,x,va(l)):c!=null?Ah(t,x,va(c)):u!=null&&t.removeAttribute("value"),h==null&&g!=null&&(t.defaultChecked=!!g),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+va(N):t.removeAttribute("name")}function Gy(t,l,c,u,h,g,x,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),l!=null||c!=null){if(!(g!=="submit"&&g!=="reset"||l!=null)){kh(t);return}c=c!=null?""+va(c):"",l=l!=null?""+va(l):c,N||l===t.value||(t.value=l),t.defaultValue=l}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=N?t.checked:!!u,t.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(t.name=x),kh(t)}function Ah(t,l,c){l==="number"&&ni(t.ownerDocument)===t||t.defaultValue===""+c||(t.defaultValue=""+c)}function Zr(t,l,c,u){if(t=t.options,l){l={};for(var h=0;h<c.length;h++)l["$"+c[h]]=!0;for(c=0;c<t.length;c++)h=l.hasOwnProperty("$"+t[c].value),t[c].selected!==h&&(t[c].selected=h),h&&u&&(t[c].defaultSelected=!0)}else{for(c=""+va(c),l=null,h=0;h<t.length;h++){if(t[h].value===c){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}l!==null||t[h].disabled||(l=t[h])}l!==null&&(l.selected=!0)}}function Vy(t,l,c){if(l!=null&&(l=""+va(l),l!==t.value&&(t.value=l),c==null)){t.defaultValue!==l&&(t.defaultValue=l);return}t.defaultValue=c!=null?""+va(c):""}function Ky(t,l,c,u){if(l==null){if(u!=null){if(c!=null)throw Error(o(92));if(V(u)){if(1<u.length)throw Error(o(93));u=u[0]}c=u}c==null&&(c=""),l=c}c=va(l),t.defaultValue=c,u=t.textContent,u===c&&u!==""&&u!==null&&(t.value=u),kh(t)}function el(t,l){if(l){var c=t.firstChild;if(c&&c===t.lastChild&&c.nodeType===3){c.nodeValue=l;return}}t.textContent=l}var OA=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jy(t,l,c){var u=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?u?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="":u?t.setProperty(l,c):typeof c!="number"||c===0||OA.has(l)?l==="float"?t.cssFloat=c:t[l]=(""+c).trim():t[l]=c+"px"}function Wy(t,l,c){if(l!=null&&typeof l!="object")throw Error(o(62));if(t=t.style,c!=null){for(var u in c)!c.hasOwnProperty(u)||l!=null&&l.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in l)u=l[h],l.hasOwnProperty(h)&&c[h]!==u&&Jy(t,h,u)}else for(var g in l)l.hasOwnProperty(g)&&Jy(t,g,l[g])}function Rh(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),RA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return RA.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Za(){}var zh=null;function Mh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var tl=null,al=null;function Qy(t){var l=Jr(t);if(l&&(t=l.stateNode)){var c=t[Ft]||null;e:switch(t=l.stateNode,l.type){case"input":if(Oh(t,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=t;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ba(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var u=c[l];if(u!==t&&u.form===t.form){var h=u[Ft]||null;if(!h)throw Error(o(90));Oh(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(l=0;l<c.length;l++)u=c[l],u.form===t.form&&Fy(u)}break e;case"textarea":Vy(t,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&Zr(t,!!c.multiple,l,!1)}}}var Dh=!1;function Zy(t,l,c){if(Dh)return t(l,c);Dh=!0;try{var u=t(l);return u}finally{if(Dh=!1,(tl!==null||al!==null)&&(Xi(),tl&&(l=tl,t=al,al=tl=null,Qy(l),t)))for(l=0;l<t.length;l++)Qy(t[l])}}function uo(t,l){var c=t.stateNode;if(c===null)return null;var u=c[Ft]||null;if(u===null)return null;c=u[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(c&&typeof c!="function")throw Error(o(231,l,typeof c));return c}var en=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lh=!1;if(en)try{var fo={};Object.defineProperty(fo,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",fo,fo),window.removeEventListener("test",fo,fo)}catch{Lh=!1}var Tn=null,Uh=null,li=null;function ej(){if(li)return li;var t,l=Uh,c=l.length,u,h="value"in Tn?Tn.value:Tn.textContent,g=h.length;for(t=0;t<c&&l[t]===h[t];t++);var x=c-t;for(u=1;u<=x&&l[c-u]===h[g-u];u++);return li=h.slice(t,1<u?1-u:void 0)}function oi(t){var l=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&l===13&&(t=13)):t=l,t===10&&(t=13),32<=t||t===13?t:0}function si(){return!0}function tj(){return!1}function Gt(t){function l(c,u,h,g,x){this._reactName=c,this._targetInst=h,this.type=u,this.nativeEvent=g,this.target=x,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(c=t[N],this[N]=c?c(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?si:tj,this.isPropagationStopped=tj,this}return b(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),l}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=Gt(ur),ho=b({},ur,{view:0,detail:0}),zA=Gt(ho),Ih,qh,mo,ci=b({},ho,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ph,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mo&&(mo&&t.type==="mousemove"?(Ih=t.screenX-mo.screenX,qh=t.screenY-mo.screenY):qh=Ih=0,mo=t),Ih)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),aj=Gt(ci),MA=b({},ci,{dataTransfer:0}),DA=Gt(MA),LA=b({},ho,{relatedTarget:0}),Bh=Gt(LA),UA=b({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),IA=Gt(UA),qA=b({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),BA=Gt(qA),PA=b({},ur,{data:0}),nj=Gt(PA),HA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XA(t){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(t):(t=YA[t])?!!l[t]:!1}function Ph(){return XA}var FA=b({},ho,{key:function(t){if(t.key){var l=HA[t.key]||t.key;if(l!=="Unidentified")return l}return t.type==="keypress"?(t=oi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ph,charCode:function(t){return t.type==="keypress"?oi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GA=Gt(FA),VA=b({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rj=Gt(VA),KA=b({},ho,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ph}),JA=Gt(KA),WA=b({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),QA=Gt(WA),ZA=b({},ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),eR=Gt(ZA),tR=b({},ur,{newState:0,oldState:0}),aR=Gt(tR),nR=[9,13,27,32],Hh=en&&"CompositionEvent"in window,po=null;en&&"documentMode"in document&&(po=document.documentMode);var rR=en&&"TextEvent"in window&&!po,lj=en&&(!Hh||po&&8<po&&11>=po),oj=" ",sj=!1;function ij(t,l){switch(t){case"keyup":return nR.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cj(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nl=!1;function lR(t,l){switch(t){case"compositionend":return cj(l);case"keypress":return l.which!==32?null:(sj=!0,oj);case"textInput":return t=l.data,t===oj&&sj?null:t;default:return null}}function oR(t,l){if(nl)return t==="compositionend"||!Hh&&ij(t,l)?(t=ej(),li=Uh=Tn=null,nl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return lj&&l.locale!=="ko"?null:l.data;default:return null}}var sR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uj(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l==="input"?!!sR[t.type]:l==="textarea"}function dj(t,l,c,u){tl?al?al.push(u):al=[u]:tl=u,l=Qi(l,"onChange"),0<l.length&&(c=new ii("onChange","change",null,c,u),t.push({event:c,listeners:l}))}var go=null,vo=null;function iR(t){G1(t,0)}function ui(t){var l=co(t);if(Fy(l))return t}function fj(t,l){if(t==="change")return l}var hj=!1;if(en){var $h;if(en){var Yh="oninput"in document;if(!Yh){var mj=document.createElement("div");mj.setAttribute("oninput","return;"),Yh=typeof mj.oninput=="function"}$h=Yh}else $h=!1;hj=$h&&(!document.documentMode||9<document.documentMode)}function pj(){go&&(go.detachEvent("onpropertychange",gj),vo=go=null)}function gj(t){if(t.propertyName==="value"&&ui(vo)){var l=[];dj(l,vo,t,Mh(t)),Zy(iR,l)}}function cR(t,l,c){t==="focusin"?(pj(),go=l,vo=c,go.attachEvent("onpropertychange",gj)):t==="focusout"&&pj()}function uR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ui(vo)}function dR(t,l){if(t==="click")return ui(l)}function fR(t,l){if(t==="input"||t==="change")return ui(l)}function hR(t,l){return t===l&&(t!==0||1/t===1/l)||t!==t&&l!==l}var oa=typeof Object.is=="function"?Object.is:hR;function bo(t,l){if(oa(t,l))return!0;if(typeof t!="object"||t===null||typeof l!="object"||l===null)return!1;var c=Object.keys(t),u=Object.keys(l);if(c.length!==u.length)return!1;for(u=0;u<c.length;u++){var h=c[u];if(!De.call(l,h)||!oa(t[h],l[h]))return!1}return!0}function vj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bj(t,l){var c=vj(t);t=0;for(var u;c;){if(c.nodeType===3){if(u=t+c.textContent.length,t<=l&&u>=l)return{node:c,offset:l-t};t=u}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=vj(c)}}function xj(t,l){return t&&l?t===l?!0:t&&t.nodeType===3?!1:l&&l.nodeType===3?xj(t,l.parentNode):"contains"in t?t.contains(l):t.compareDocumentPosition?!!(t.compareDocumentPosition(l)&16):!1:!1}function yj(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var l=ni(t.document);l instanceof t.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)t=l.contentWindow;else break;l=ni(t.document)}return l}function Xh(t){var l=t&&t.nodeName&&t.nodeName.toLowerCase();return l&&(l==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||l==="textarea"||t.contentEditable==="true")}var mR=en&&"documentMode"in document&&11>=document.documentMode,rl=null,Fh=null,xo=null,Gh=!1;function jj(t,l,c){var u=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Gh||rl==null||rl!==ni(u)||(u=rl,"selectionStart"in u&&Xh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xo&&bo(xo,u)||(xo=u,u=Qi(Fh,"onSelect"),0<u.length&&(l=new ii("onSelect","select",null,l,c),t.push({event:l,listeners:u}),l.target=rl)))}function dr(t,l){var c={};return c[t.toLowerCase()]=l.toLowerCase(),c["Webkit"+t]="webkit"+l,c["Moz"+t]="moz"+l,c}var ll={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},Vh={},Nj={};en&&(Nj=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function fr(t){if(Vh[t])return Vh[t];if(!ll[t])return t;var l=ll[t],c;for(c in l)if(l.hasOwnProperty(c)&&c in Nj)return Vh[t]=l[c];return t}var Cj=fr("animationend"),wj=fr("animationiteration"),Sj=fr("animationstart"),pR=fr("transitionrun"),gR=fr("transitionstart"),vR=fr("transitioncancel"),_j=fr("transitionend"),Tj=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Ma(t,l){Tj.set(t,l),cr(l,[t])}var di=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xa=[],ol=0,Jh=0;function fi(){for(var t=ol,l=Jh=ol=0;l<t;){var c=xa[l];xa[l++]=null;var u=xa[l];xa[l++]=null;var h=xa[l];xa[l++]=null;var g=xa[l];if(xa[l++]=null,u!==null&&h!==null){var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}g!==0&&Ej(c,h,g)}}function hi(t,l,c,u){xa[ol++]=t,xa[ol++]=l,xa[ol++]=c,xa[ol++]=u,Jh|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Wh(t,l,c,u){return hi(t,l,c,u),mi(t)}function hr(t,l){return hi(t,null,null,l),mi(t)}function Ej(t,l,c){t.lanes|=c;var u=t.alternate;u!==null&&(u.lanes|=c);for(var h=!1,g=t.return;g!==null;)g.childLanes|=c,u=g.alternate,u!==null&&(u.childLanes|=c),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(h=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,h&&l!==null&&(h=31-Et(c),t=g.hiddenUpdates,u=t[h],u===null?t[h]=[l]:u.push(l),l.lane=c|536870912),g):null}function mi(t){if(50<Po)throw Po=0,op=null,Error(o(185));for(var l=t.return;l!==null;)t=l,l=t.return;return t.tag===3?t.stateNode:null}var sl={};function bR(t,l,c,u){this.tag=t,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,l,c,u){return new bR(t,l,c,u)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tn(t,l){var c=t.alternate;return c===null?(c=sa(t.tag,l,t.key,t.mode),c.elementType=t.elementType,c.type=t.type,c.stateNode=t.stateNode,c.alternate=t,t.alternate=c):(c.pendingProps=l,c.type=t.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=t.flags&65011712,c.childLanes=t.childLanes,c.lanes=t.lanes,c.child=t.child,c.memoizedProps=t.memoizedProps,c.memoizedState=t.memoizedState,c.updateQueue=t.updateQueue,l=t.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=t.sibling,c.index=t.index,c.ref=t.ref,c.refCleanup=t.refCleanup,c}function kj(t,l){t.flags&=65011714;var c=t.alternate;return c===null?(t.childLanes=0,t.lanes=l,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=c.childLanes,t.lanes=c.lanes,t.child=c.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=c.memoizedProps,t.memoizedState=c.memoizedState,t.updateQueue=c.updateQueue,t.type=c.type,l=c.dependencies,t.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),t}function pi(t,l,c,u,h,g){var x=0;if(u=t,typeof t=="function")Qh(t)&&(x=1);else if(typeof t=="string")x=Cz(t,c,q.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=sa(31,c,l,h),t.elementType=X,t.lanes=g,t;case w:return mr(c.children,h,g,l);case _:x=8,h|=24;break;case z:return t=sa(12,c,l,h|2),t.elementType=z,t.lanes=g,t;case $:return t=sa(13,c,l,h),t.elementType=$,t.lanes=g,t;case E:return t=sa(19,c,l,h),t.elementType=E,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case R:x=10;break e;case S:x=9;break e;case I:x=11;break e;case D:x=14;break e;case P:x=16,u=null;break e}x=29,c=Error(o(130,t===null?"null":typeof t,"")),u=null}return l=sa(x,c,l,h),l.elementType=t,l.type=u,l.lanes=g,l}function mr(t,l,c,u){return t=sa(7,t,u,l),t.lanes=c,t}function Zh(t,l,c){return t=sa(6,t,null,l),t.lanes=c,t}function Oj(t){var l=sa(18,null,null,0);return l.stateNode=t,l}function em(t,l,c){return l=sa(4,t.children!==null?t.children:[],t.key,l),l.lanes=c,l.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},l}var Aj=new WeakMap;function ya(t,l){if(typeof t=="object"&&t!==null){var c=Aj.get(t);return c!==void 0?c:(l={value:t,source:l,stack:Ae(l)},Aj.set(t,l),l)}return{value:t,source:l,stack:Ae(l)}}var il=[],cl=0,gi=null,yo=0,ja=[],Na=0,En=null,Pa=1,Ha="";function an(t,l){il[cl++]=yo,il[cl++]=gi,gi=t,yo=l}function Rj(t,l,c){ja[Na++]=Pa,ja[Na++]=Ha,ja[Na++]=En,En=t;var u=Pa;t=Ha;var h=32-Et(u)-1;u&=~(1<<h),c+=1;var g=32-Et(l)+h;if(30<g){var x=h-h%5;g=(u&(1<<x)-1).toString(32),u>>=x,h-=x,Pa=1<<32-Et(l)+h|c<<h|u,Ha=g+t}else Pa=1<<g|c<<h|u,Ha=t}function tm(t){t.return!==null&&(an(t,1),Rj(t,1,0))}function am(t){for(;t===gi;)gi=il[--cl],il[cl]=null,yo=il[--cl],il[cl]=null;for(;t===En;)En=ja[--Na],ja[Na]=null,Ha=ja[--Na],ja[Na]=null,Pa=ja[--Na],ja[Na]=null}function zj(t,l){ja[Na++]=Pa,ja[Na++]=Ha,ja[Na++]=En,Pa=l.id,Ha=l.overflow,En=t}var Mt=null,at=null,Pe=!1,kn=null,Ca=!1,nm=Error(o(519));function On(t){var l=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(ya(l,t)),nm}function Mj(t){var l=t.stateNode,c=t.type,u=t.memoizedProps;switch(l[zt]=t,l[Ft]=u,c){case"dialog":Ue("cancel",l),Ue("close",l);break;case"iframe":case"object":case"embed":Ue("load",l);break;case"video":case"audio":for(c=0;c<$o.length;c++)Ue($o[c],l);break;case"source":Ue("error",l);break;case"img":case"image":case"link":Ue("error",l),Ue("load",l);break;case"details":Ue("toggle",l);break;case"input":Ue("invalid",l),Gy(l,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ue("invalid",l);break;case"textarea":Ue("invalid",l),Ky(l,u.value,u.defaultValue,u.children)}c=u.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||u.suppressHydrationWarning===!0||W1(l.textContent,c)?(u.popover!=null&&(Ue("beforetoggle",l),Ue("toggle",l)),u.onScroll!=null&&Ue("scroll",l),u.onScrollEnd!=null&&Ue("scrollend",l),u.onClick!=null&&(l.onclick=Za),l=!0):l=!1,l||On(t,!0)}function Dj(t){for(Mt=t.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Mt=Mt.return}}function ul(t){if(t!==Mt)return!1;if(!Pe)return Dj(t),Pe=!0,!1;var l=t.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=t.type,c=!(c!=="form"&&c!=="button")||jp(t.type,t.memoizedProps)),c=!c),c&&at&&On(t),Dj(t),l===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));at=oC(t)}else if(l===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));at=oC(t)}else l===27?(l=at,Yn(t.type)?(t=_p,_p=null,at=t):at=l):at=Mt?Sa(t.stateNode.nextSibling):null;return!0}function pr(){at=Mt=null,Pe=!1}function rm(){var t=kn;return t!==null&&(Wt===null?Wt=t:Wt.push.apply(Wt,t),kn=null),t}function jo(t){kn===null?kn=[t]:kn.push(t)}var lm=T(null),gr=null,nn=null;function An(t,l,c){M(lm,l._currentValue),l._currentValue=c}function rn(t){t._currentValue=lm.current,k(lm)}function om(t,l,c){for(;t!==null;){var u=t.alternate;if((t.childLanes&l)!==l?(t.childLanes|=l,u!==null&&(u.childLanes|=l)):u!==null&&(u.childLanes&l)!==l&&(u.childLanes|=l),t===c)break;t=t.return}}function sm(t,l,c,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var g=h.dependencies;if(g!==null){var x=h.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=h;for(var U=0;U<l.length;U++)if(N.context===l[U]){g.lanes|=c,N=g.alternate,N!==null&&(N.lanes|=c),om(g.return,c,t),u||(x=null);break e}g=N.next}}else if(h.tag===18){if(x=h.return,x===null)throw Error(o(341));x.lanes|=c,g=x.alternate,g!==null&&(g.lanes|=c),om(x,c,t),x=null}else x=h.child;if(x!==null)x.return=h;else for(x=h;x!==null;){if(x===t){x=null;break}if(h=x.sibling,h!==null){h.return=x.return,x=h;break}x=x.return}h=x}}function dl(t,l,c,u){t=null;for(var h=l,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var x=h.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var N=h.type;oa(h.pendingProps.value,x.value)||(t!==null?t.push(N):t=[N])}}else if(h===he.current){if(x=h.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vo):t=[Vo])}h=h.return}t!==null&&sm(l,t,c,u),l.flags|=262144}function vi(t){for(t=t.firstContext;t!==null;){if(!oa(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function vr(t){gr=t,nn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dt(t){return Lj(gr,t)}function bi(t,l){return gr===null&&vr(t),Lj(t,l)}function Lj(t,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},nn===null){if(t===null)throw Error(o(308));nn=l,t.dependencies={lanes:0,firstContext:l},t.flags|=524288}else nn=nn.next=l;return c}var xR=typeof AbortController<"u"?AbortController:function(){var t=[],l=this.signal={aborted:!1,addEventListener:function(c,u){t.push(u)}};this.abort=function(){l.aborted=!0,t.forEach(function(c){return c()})}},yR=r.unstable_scheduleCallback,jR=r.unstable_NormalPriority,pt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function im(){return{controller:new xR,data:new Map,refCount:0}}function No(t){t.refCount--,t.refCount===0&&yR(jR,function(){t.controller.abort()})}var Co=null,cm=0,fl=0,hl=null;function NR(t,l){if(Co===null){var c=Co=[];cm=0,fl=fp(),hl={status:"pending",value:void 0,then:function(u){c.push(u)}}}return cm++,l.then(Uj,Uj),l}function Uj(){if(--cm===0&&Co!==null){hl!==null&&(hl.status="fulfilled");var t=Co;Co=null,fl=0,hl=null;for(var l=0;l<t.length;l++)(0,t[l])()}}function CR(t,l){var c=[],u={status:"pending",value:null,reason:null,then:function(h){c.push(h)}};return t.then(function(){u.status="fulfilled",u.value=l;for(var h=0;h<c.length;h++)(0,c[h])(l)},function(h){for(u.status="rejected",u.reason=h,h=0;h<c.length;h++)(0,c[h])(void 0)}),u}var Ij=O.S;O.S=function(t,l){j1=mt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&NR(t,l),Ij!==null&&Ij(t,l)};var br=T(null);function um(){var t=br.current;return t!==null?t:We.pooledCache}function xi(t,l){l===null?M(br,br.current):M(br,l.pool)}function qj(){var t=um();return t===null?null:{parent:pt._currentValue,pool:t}}var ml=Error(o(460)),dm=Error(o(474)),yi=Error(o(542)),ji={then:function(){}};function Bj(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pj(t,l,c){switch(c=t[c],c===void 0?t.push(l):c!==l&&(l.then(Za,Za),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,$j(t),t;default:if(typeof l.status=="string")l.then(Za,Za);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=l,t.status="pending",t.then(function(u){if(l.status==="pending"){var h=l;h.status="fulfilled",h.value=u}},function(u){if(l.status==="pending"){var h=l;h.status="rejected",h.reason=u}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw t=l.reason,$j(t),t}throw yr=l,ml}}function xr(t){try{var l=t._init;return l(t._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(yr=c,ml):c}}var yr=null;function Hj(){if(yr===null)throw Error(o(459));var t=yr;return yr=null,t}function $j(t){if(t===ml||t===yi)throw Error(o(483))}var pl=null,wo=0;function Ni(t){var l=wo;return wo+=1,pl===null&&(pl=[]),Pj(pl,t,l)}function So(t,l){l=l.props.ref,t.ref=l!==void 0?l:null}function Ci(t,l){throw l.$$typeof===y?Error(o(525)):(t=Object.prototype.toString.call(l),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":t)))}function Yj(t){function l(K,B){if(t){var Q=K.deletions;Q===null?(K.deletions=[B],K.flags|=16):Q.push(B)}}function c(K,B){if(!t)return null;for(;B!==null;)l(K,B),B=B.sibling;return null}function u(K){for(var B=new Map;K!==null;)K.key!==null?B.set(K.key,K):B.set(K.index,K),K=K.sibling;return B}function h(K,B){return K=tn(K,B),K.index=0,K.sibling=null,K}function g(K,B,Q){return K.index=Q,t?(Q=K.alternate,Q!==null?(Q=Q.index,Q<B?(K.flags|=67108866,B):Q):(K.flags|=67108866,B)):(K.flags|=1048576,B)}function x(K){return t&&K.alternate===null&&(K.flags|=67108866),K}function N(K,B,Q,ue){return B===null||B.tag!==6?(B=Zh(Q,K.mode,ue),B.return=K,B):(B=h(B,Q),B.return=K,B)}function U(K,B,Q,ue){var Se=Q.type;return Se===w?ce(K,B,Q.props.children,ue,Q.key):B!==null&&(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&xr(Se)===B.type)?(B=h(B,Q.props),So(B,Q),B.return=K,B):(B=pi(Q.type,Q.key,Q.props,null,K.mode,ue),So(B,Q),B.return=K,B)}function Z(K,B,Q,ue){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=em(Q,K.mode,ue),B.return=K,B):(B=h(B,Q.children||[]),B.return=K,B)}function ce(K,B,Q,ue,Se){return B===null||B.tag!==7?(B=mr(Q,K.mode,ue,Se),B.return=K,B):(B=h(B,Q),B.return=K,B)}function fe(K,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Zh(""+B,K.mode,Q),B.return=K,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return Q=pi(B.type,B.key,B.props,null,K.mode,Q),So(Q,B),Q.return=K,Q;case C:return B=em(B,K.mode,Q),B.return=K,B;case P:return B=xr(B),fe(K,B,Q)}if(V(B)||H(B))return B=mr(B,K.mode,Q,null),B.return=K,B;if(typeof B.then=="function")return fe(K,Ni(B),Q);if(B.$$typeof===R)return fe(K,bi(K,B),Q);Ci(K,B)}return null}function ee(K,B,Q,ue){var Se=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Se!==null?null:N(K,B,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return Q.key===Se?U(K,B,Q,ue):null;case C:return Q.key===Se?Z(K,B,Q,ue):null;case P:return Q=xr(Q),ee(K,B,Q,ue)}if(V(Q)||H(Q))return Se!==null?null:ce(K,B,Q,ue,null);if(typeof Q.then=="function")return ee(K,B,Ni(Q),ue);if(Q.$$typeof===R)return ee(K,B,bi(K,Q),ue);Ci(K,Q)}return null}function oe(K,B,Q,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return K=K.get(Q)||null,N(B,K,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case j:return K=K.get(ue.key===null?Q:ue.key)||null,U(B,K,ue,Se);case C:return K=K.get(ue.key===null?Q:ue.key)||null,Z(B,K,ue,Se);case P:return ue=xr(ue),oe(K,B,Q,ue,Se)}if(V(ue)||H(ue))return K=K.get(Q)||null,ce(B,K,ue,Se,null);if(typeof ue.then=="function")return oe(K,B,Q,Ni(ue),Se);if(ue.$$typeof===R)return oe(K,B,Q,bi(B,ue),Se);Ci(B,ue)}return null}function je(K,B,Q,ue){for(var Se=null,He=null,we=B,ze=B=0,qe=null;we!==null&&ze<Q.length;ze++){we.index>ze?(qe=we,we=null):qe=we.sibling;var $e=ee(K,we,Q[ze],ue);if($e===null){we===null&&(we=qe);break}t&&we&&$e.alternate===null&&l(K,we),B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e,we=qe}if(ze===Q.length)return c(K,we),Pe&&an(K,ze),Se;if(we===null){for(;ze<Q.length;ze++)we=fe(K,Q[ze],ue),we!==null&&(B=g(we,B,ze),He===null?Se=we:He.sibling=we,He=we);return Pe&&an(K,ze),Se}for(we=u(we);ze<Q.length;ze++)qe=oe(we,K,ze,Q[ze],ue),qe!==null&&(t&&qe.alternate!==null&&we.delete(qe.key===null?ze:qe.key),B=g(qe,B,ze),He===null?Se=qe:He.sibling=qe,He=qe);return t&&we.forEach(function(Kn){return l(K,Kn)}),Pe&&an(K,ze),Se}function Ee(K,B,Q,ue){if(Q==null)throw Error(o(151));for(var Se=null,He=null,we=B,ze=B=0,qe=null,$e=Q.next();we!==null&&!$e.done;ze++,$e=Q.next()){we.index>ze?(qe=we,we=null):qe=we.sibling;var Kn=ee(K,we,$e.value,ue);if(Kn===null){we===null&&(we=qe);break}t&&we&&Kn.alternate===null&&l(K,we),B=g(Kn,B,ze),He===null?Se=Kn:He.sibling=Kn,He=Kn,we=qe}if($e.done)return c(K,we),Pe&&an(K,ze),Se;if(we===null){for(;!$e.done;ze++,$e=Q.next())$e=fe(K,$e.value,ue),$e!==null&&(B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e);return Pe&&an(K,ze),Se}for(we=u(we);!$e.done;ze++,$e=Q.next())$e=oe(we,K,ze,$e.value,ue),$e!==null&&(t&&$e.alternate!==null&&we.delete($e.key===null?ze:$e.key),B=g($e,B,ze),He===null?Se=$e:He.sibling=$e,He=$e);return t&&we.forEach(function(Mz){return l(K,Mz)}),Pe&&an(K,ze),Se}function Je(K,B,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===w&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:e:{for(var Se=Q.key;B!==null;){if(B.key===Se){if(Se=Q.type,Se===w){if(B.tag===7){c(K,B.sibling),ue=h(B,Q.props.children),ue.return=K,K=ue;break e}}else if(B.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===P&&xr(Se)===B.type){c(K,B.sibling),ue=h(B,Q.props),So(ue,Q),ue.return=K,K=ue;break e}c(K,B);break}else l(K,B);B=B.sibling}Q.type===w?(ue=mr(Q.props.children,K.mode,ue,Q.key),ue.return=K,K=ue):(ue=pi(Q.type,Q.key,Q.props,null,K.mode,ue),So(ue,Q),ue.return=K,K=ue)}return x(K);case C:e:{for(Se=Q.key;B!==null;){if(B.key===Se)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){c(K,B.sibling),ue=h(B,Q.children||[]),ue.return=K,K=ue;break e}else{c(K,B);break}else l(K,B);B=B.sibling}ue=em(Q,K.mode,ue),ue.return=K,K=ue}return x(K);case P:return Q=xr(Q),Je(K,B,Q,ue)}if(V(Q))return je(K,B,Q,ue);if(H(Q)){if(Se=H(Q),typeof Se!="function")throw Error(o(150));return Q=Se.call(Q),Ee(K,B,Q,ue)}if(typeof Q.then=="function")return Je(K,B,Ni(Q),ue);if(Q.$$typeof===R)return Je(K,B,bi(K,Q),ue);Ci(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(c(K,B.sibling),ue=h(B,Q),ue.return=K,K=ue):(c(K,B),ue=Zh(Q,K.mode,ue),ue.return=K,K=ue),x(K)):c(K,B)}return function(K,B,Q,ue){try{wo=0;var Se=Je(K,B,Q,ue);return pl=null,Se}catch(we){if(we===ml||we===yi)throw we;var He=sa(29,we,null,K.mode);return He.lanes=ue,He.return=K,He}finally{}}}var jr=Yj(!0),Xj=Yj(!1),Rn=!1;function fm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hm(t,l){t=t.updateQueue,l.updateQueue===t&&(l.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mn(t,l,c){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var h=u.pending;return h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l,l=mi(t),Ej(t,null,c),l}return hi(t,u,l,c),mi(t)}function _o(t,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var u=l.lanes;u&=t.pendingLanes,c|=u,l.lanes=c,Ly(t,c)}}function mm(t,l){var c=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,c===u)){var h=null,g=null;if(c=c.firstBaseUpdate,c!==null){do{var x={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};g===null?h=g=x:g=g.next=x,c=c.next}while(c!==null);g===null?h=g=l:g=g.next=l}else h=g=l;c={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},t.updateQueue=c;return}t=c.lastBaseUpdate,t===null?c.firstBaseUpdate=l:t.next=l,c.lastBaseUpdate=l}var pm=!1;function To(){if(pm){var t=hl;if(t!==null)throw t}}function Eo(t,l,c,u){pm=!1;var h=t.updateQueue;Rn=!1;var g=h.firstBaseUpdate,x=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var U=N,Z=U.next;U.next=null,x===null?g=Z:x.next=Z,x=U;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,N=ce.lastBaseUpdate,N!==x&&(N===null?ce.firstBaseUpdate=Z:N.next=Z,ce.lastBaseUpdate=U))}if(g!==null){var fe=h.baseState;x=0,ce=Z=U=null,N=g;do{var ee=N.lane&-536870913,oe=ee!==N.lane;if(oe?(Ie&ee)===ee:(u&ee)===ee){ee!==0&&ee===fl&&(pm=!0),ce!==null&&(ce=ce.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var je=t,Ee=N;ee=l;var Je=c;switch(Ee.tag){case 1:if(je=Ee.payload,typeof je=="function"){fe=je.call(Je,fe,ee);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ee.payload,ee=typeof je=="function"?je.call(Je,fe,ee):je,ee==null)break e;fe=b({},fe,ee);break e;case 2:Rn=!0}}ee=N.callback,ee!==null&&(t.flags|=64,oe&&(t.flags|=8192),oe=h.callbacks,oe===null?h.callbacks=[ee]:oe.push(ee))}else oe={lane:ee,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ce===null?(Z=ce=oe,U=fe):ce=ce.next=oe,x|=ee;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;oe=N,N=oe.next,oe.next=null,h.lastBaseUpdate=oe,h.shared.pending=null}}while(!0);ce===null&&(U=fe),h.baseState=U,h.firstBaseUpdate=Z,h.lastBaseUpdate=ce,g===null&&(h.shared.lanes=0),qn|=x,t.lanes=x,t.memoizedState=fe}}function Fj(t,l){if(typeof t!="function")throw Error(o(191,t));t.call(l)}function Gj(t,l){var c=t.callbacks;if(c!==null)for(t.callbacks=null,t=0;t<c.length;t++)Fj(c[t],l)}var gl=T(null),wi=T(0);function Vj(t,l){t=mn,M(wi,t),M(gl,l),mn=t|l.baseLanes}function gm(){M(wi,mn),M(gl,gl.current)}function vm(){mn=wi.current,k(gl),k(wi)}var ia=T(null),wa=null;function Dn(t){var l=t.alternate;M(ut,ut.current&1),M(ia,t),wa===null&&(l===null||gl.current!==null||l.memoizedState!==null)&&(wa=t)}function bm(t){M(ut,ut.current),M(ia,t),wa===null&&(wa=t)}function Kj(t){t.tag===22?(M(ut,ut.current),M(ia,t),wa===null&&(wa=t)):Ln()}function Ln(){M(ut,ut.current),M(ia,ia.current)}function ca(t){k(ia),wa===t&&(wa=null),k(ut)}var ut=T(0);function Si(t){for(var l=t;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||wp(c)||Sp(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var ln=0,Re=null,Ve=null,gt=null,_i=!1,vl=!1,Nr=!1,Ti=0,ko=0,bl=null,wR=0;function it(){throw Error(o(321))}function xm(t,l){if(l===null)return!1;for(var c=0;c<l.length&&c<t.length;c++)if(!oa(t[c],l[c]))return!1;return!0}function ym(t,l,c,u,h,g){return ln=g,Re=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,O.H=t===null||t.memoizedState===null?RN:Dm,Nr=!1,g=c(u,h),Nr=!1,vl&&(g=Wj(l,c,u,h)),Jj(t),g}function Jj(t){O.H=Ro;var l=Ve!==null&&Ve.next!==null;if(ln=0,gt=Ve=Re=null,_i=!1,ko=0,bl=null,l)throw Error(o(300));t===null||vt||(t=t.dependencies,t!==null&&vi(t)&&(vt=!0))}function Wj(t,l,c,u){Re=t;var h=0;do{if(vl&&(bl=null),ko=0,vl=!1,25<=h)throw Error(o(301));if(h+=1,gt=Ve=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}O.H=zN,g=l(c,u)}while(vl);return g}function SR(){var t=O.H,l=t.useState()[0];return l=typeof l.then=="function"?Oo(l):l,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Re.flags|=1024),l}function jm(){var t=Ti!==0;return Ti=0,t}function Nm(t,l,c){l.updateQueue=t.updateQueue,l.flags&=-2053,t.lanes&=~c}function Cm(t){if(_i){for(t=t.memoizedState;t!==null;){var l=t.queue;l!==null&&(l.pending=null),t=t.next}_i=!1}ln=0,gt=Ve=Re=null,vl=!1,ko=Ti=0,bl=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Re.memoizedState=gt=t:gt=gt.next=t,gt}function dt(){if(Ve===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var l=gt===null?Re.memoizedState:gt.next;if(l!==null)gt=l,Ve=t;else{if(t===null)throw Re.alternate===null?Error(o(467)):Error(o(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},gt===null?Re.memoizedState=gt=t:gt=gt.next=t}return gt}function Ei(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(t){var l=ko;return ko+=1,bl===null&&(bl=[]),t=Pj(bl,t,l),l=Re,(gt===null?l.memoizedState:gt.next)===null&&(l=l.alternate,O.H=l===null||l.memoizedState===null?RN:Dm),t}function ki(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oo(t);if(t.$$typeof===R)return Dt(t)}throw Error(o(438,String(t)))}function wm(t){var l=null,c=Re.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var u=Re.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(l={data:u.data.map(function(h){return h.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=Ei(),Re.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(t),u=0;u<t;u++)c[u]=W;return l.index++,c}function on(t,l){return typeof l=="function"?l(t):l}function Oi(t){var l=dt();return Sm(l,Ve,t)}function Sm(t,l,c){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=c;var h=t.baseQueue,g=u.pending;if(g!==null){if(h!==null){var x=h.next;h.next=g.next,g.next=x}l.baseQueue=h=g,u.pending=null}if(g=t.baseState,h===null)t.memoizedState=g;else{l=h.next;var N=x=null,U=null,Z=l,ce=!1;do{var fe=Z.lane&-536870913;if(fe!==Z.lane?(Ie&fe)===fe:(ln&fe)===fe){var ee=Z.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),fe===fl&&(ce=!0);else if((ln&ee)===ee){Z=Z.next,ee===fl&&(ce=!0);continue}else fe={lane:0,revertLane:Z.revertLane,gesture:null,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(N=U=fe,x=g):U=U.next=fe,Re.lanes|=ee,qn|=ee;fe=Z.action,Nr&&c(g,fe),g=Z.hasEagerState?Z.eagerState:c(g,fe)}else ee={lane:fe,revertLane:Z.revertLane,gesture:Z.gesture,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},U===null?(N=U=ee,x=g):U=U.next=ee,Re.lanes|=fe,qn|=fe;Z=Z.next}while(Z!==null&&Z!==l);if(U===null?x=g:U.next=N,!oa(g,t.memoizedState)&&(vt=!0,ce&&(c=hl,c!==null)))throw c;t.memoizedState=g,t.baseState=x,t.baseQueue=U,u.lastRenderedState=g}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function _m(t){var l=dt(),c=l.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=t;var u=c.dispatch,h=c.pending,g=l.memoizedState;if(h!==null){c.pending=null;var x=h=h.next;do g=t(g,x.action),x=x.next;while(x!==h);oa(g,l.memoizedState)||(vt=!0),l.memoizedState=g,l.baseQueue===null&&(l.baseState=g),c.lastRenderedState=g}return[g,u]}function Qj(t,l,c){var u=Re,h=dt(),g=Pe;if(g){if(c===void 0)throw Error(o(407));c=c()}else c=l();var x=!oa((Ve||h).memoizedState,c);if(x&&(h.memoizedState=c,vt=!0),h=h.queue,km(tN.bind(null,u,h,t),[t]),h.getSnapshot!==l||x||gt!==null&&gt.memoizedState.tag&1){if(u.flags|=2048,xl(9,{destroy:void 0},eN.bind(null,u,h,c,l),null),We===null)throw Error(o(349));g||(ln&127)!==0||Zj(u,l,c)}return c}function Zj(t,l,c){t.flags|=16384,t={getSnapshot:l,value:c},l=Re.updateQueue,l===null?(l=Ei(),Re.updateQueue=l,l.stores=[t]):(c=l.stores,c===null?l.stores=[t]:c.push(t))}function eN(t,l,c,u){l.value=c,l.getSnapshot=u,aN(l)&&nN(t)}function tN(t,l,c){return c(function(){aN(l)&&nN(t)})}function aN(t){var l=t.getSnapshot;t=t.value;try{var c=l();return!oa(t,c)}catch{return!0}}function nN(t){var l=hr(t,2);l!==null&&Qt(l,t,2)}function Tm(t){var l=Yt();if(typeof t=="function"){var c=t;if(t=c(),Nr){ga(!0);try{c()}finally{ga(!1)}}}return l.memoizedState=l.baseState=t,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:t},l}function rN(t,l,c,u){return t.baseState=c,Sm(t,Ve,typeof u=="function"?u:on)}function _R(t,l,c,u,h){if(zi(t))throw Error(o(485));if(t=l.action,t!==null){var g={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){g.listeners.push(x)}};O.T!==null?c(!0):g.isTransition=!1,u(g),c=l.pending,c===null?(g.next=l.pending=g,lN(l,g)):(g.next=c.next,l.pending=c.next=g)}}function lN(t,l){var c=l.action,u=l.payload,h=t.state;if(l.isTransition){var g=O.T,x={};O.T=x;try{var N=c(h,u),U=O.S;U!==null&&U(x,N),oN(t,l,N)}catch(Z){Em(t,l,Z)}finally{g!==null&&x.types!==null&&(g.types=x.types),O.T=g}}else try{g=c(h,u),oN(t,l,g)}catch(Z){Em(t,l,Z)}}function oN(t,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(u){sN(t,l,u)},function(u){return Em(t,l,u)}):sN(t,l,c)}function sN(t,l,c){l.status="fulfilled",l.value=c,iN(l),t.state=c,l=t.pending,l!==null&&(c=l.next,c===l?t.pending=null:(c=c.next,l.next=c,lN(t,c)))}function Em(t,l,c){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do l.status="rejected",l.reason=c,iN(l),l=l.next;while(l!==u)}t.action=null}function iN(t){t=t.listeners;for(var l=0;l<t.length;l++)(0,t[l])()}function cN(t,l){return l}function uN(t,l){if(Pe){var c=We.formState;if(c!==null){e:{var u=Re;if(Pe){if(at){t:{for(var h=at,g=Ca;h.nodeType!==8;){if(!g){h=null;break t}if(h=Sa(h.nextSibling),h===null){h=null;break t}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){at=Sa(h.nextSibling),u=h.data==="F!";break e}}On(u)}u=!1}u&&(l=c[0])}}return c=Yt(),c.memoizedState=c.baseState=l,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cN,lastRenderedState:l},c.queue=u,c=kN.bind(null,Re,u),u.dispatch=c,u=Tm(!1),g=Mm.bind(null,Re,!1,u.queue),u=Yt(),h={state:l,dispatch:null,action:t,pending:null},u.queue=h,c=_R.bind(null,Re,h,g,c),h.dispatch=c,u.memoizedState=t,[l,c,!1]}function dN(t){var l=dt();return fN(l,Ve,t)}function fN(t,l,c){if(l=Sm(t,l,cN)[0],t=Oi(on)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var u=Oo(l)}catch(x){throw x===ml?yi:x}else u=l;l=dt();var h=l.queue,g=h.dispatch;return c!==l.memoizedState&&(Re.flags|=2048,xl(9,{destroy:void 0},TR.bind(null,h,c),null)),[u,g,t]}function TR(t,l){t.action=l}function hN(t){var l=dt(),c=Ve;if(c!==null)return fN(l,c,t);dt(),l=l.memoizedState,c=dt();var u=c.queue.dispatch;return c.memoizedState=t,[l,u,!1]}function xl(t,l,c,u){return t={tag:t,create:c,deps:u,inst:l,next:null},l=Re.updateQueue,l===null&&(l=Ei(),Re.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=t.next=t:(u=c.next,c.next=t,t.next=u,l.lastEffect=t),t}function mN(){return dt().memoizedState}function Ai(t,l,c,u){var h=Yt();Re.flags|=t,h.memoizedState=xl(1|l,{destroy:void 0},c,u===void 0?null:u)}function Ri(t,l,c,u){var h=dt();u=u===void 0?null:u;var g=h.memoizedState.inst;Ve!==null&&u!==null&&xm(u,Ve.memoizedState.deps)?h.memoizedState=xl(l,g,c,u):(Re.flags|=t,h.memoizedState=xl(1|l,g,c,u))}function pN(t,l){Ai(8390656,8,t,l)}function km(t,l){Ri(2048,8,t,l)}function ER(t){Re.flags|=4;var l=Re.updateQueue;if(l===null)l=Ei(),Re.updateQueue=l,l.events=[t];else{var c=l.events;c===null?l.events=[t]:c.push(t)}}function gN(t){var l=dt().memoizedState;return ER({ref:l,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}function vN(t,l){return Ri(4,2,t,l)}function bN(t,l){return Ri(4,4,t,l)}function xN(t,l){if(typeof l=="function"){t=t();var c=l(t);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return t=t(),l.current=t,function(){l.current=null}}function yN(t,l,c){c=c!=null?c.concat([t]):null,Ri(4,4,xN.bind(null,l,t),c)}function Om(){}function jN(t,l){var c=dt();l=l===void 0?null:l;var u=c.memoizedState;return l!==null&&xm(l,u[1])?u[0]:(c.memoizedState=[t,l],t)}function NN(t,l){var c=dt();l=l===void 0?null:l;var u=c.memoizedState;if(l!==null&&xm(l,u[1]))return u[0];if(u=t(),Nr){ga(!0);try{t()}finally{ga(!1)}}return c.memoizedState=[u,l],u}function Am(t,l,c){return c===void 0||(ln&1073741824)!==0&&(Ie&261930)===0?t.memoizedState=l:(t.memoizedState=c,t=C1(),Re.lanes|=t,qn|=t,c)}function CN(t,l,c,u){return oa(c,l)?c:gl.current!==null?(t=Am(t,c,u),oa(t,l)||(vt=!0),t):(ln&42)===0||(ln&1073741824)!==0&&(Ie&261930)===0?(vt=!0,t.memoizedState=c):(t=C1(),Re.lanes|=t,qn|=t,l)}function wN(t,l,c,u,h){var g=J.p;J.p=g!==0&&8>g?g:8;var x=O.T,N={};O.T=N,Mm(t,!1,l,c);try{var U=h(),Z=O.S;if(Z!==null&&Z(N,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ce=CR(U,u);Ao(t,l,ce,fa(t))}else Ao(t,l,u,fa(t))}catch(fe){Ao(t,l,{then:function(){},status:"rejected",reason:fe},fa())}finally{J.p=g,x!==null&&N.types!==null&&(x.types=N.types),O.T=x}}function kR(){}function Rm(t,l,c,u){if(t.tag!==5)throw Error(o(476));var h=SN(t).queue;wN(t,h,l,te,c===null?kR:function(){return _N(t),c(u)})}function SN(t){var l=t.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:te},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:on,lastRenderedState:c},next:null},t.memoizedState=l,t=t.alternate,t!==null&&(t.memoizedState=l),l}function _N(t){var l=SN(t);l.next===null&&(l=t.alternate.memoizedState),Ao(t,l.next.queue,{},fa())}function zm(){return Dt(Vo)}function TN(){return dt().memoizedState}function EN(){return dt().memoizedState}function OR(t){for(var l=t.return;l!==null;){switch(l.tag){case 24:case 3:var c=fa();t=zn(c);var u=Mn(l,t,c);u!==null&&(Qt(u,l,c),_o(u,l,c)),l={cache:im()},t.payload=l;return}l=l.return}}function AR(t,l,c){var u=fa();c={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},zi(t)?ON(l,c):(c=Wh(t,l,c,u),c!==null&&(Qt(c,t,u),AN(c,l,u)))}function kN(t,l,c){var u=fa();Ao(t,l,c,u)}function Ao(t,l,c,u){var h={lane:u,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(zi(t))ON(l,h);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=l.lastRenderedReducer,g!==null))try{var x=l.lastRenderedState,N=g(x,c);if(h.hasEagerState=!0,h.eagerState=N,oa(N,x))return hi(t,l,h,0),We===null&&fi(),!1}catch{}finally{}if(c=Wh(t,l,h,u),c!==null)return Qt(c,t,u),AN(c,l,u),!0}return!1}function Mm(t,l,c,u){if(u={lane:2,revertLane:fp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},zi(t)){if(l)throw Error(o(479))}else l=Wh(t,c,u,2),l!==null&&Qt(l,t,2)}function zi(t){var l=t.alternate;return t===Re||l!==null&&l===Re}function ON(t,l){vl=_i=!0;var c=t.pending;c===null?l.next=l:(l.next=c.next,c.next=l),t.pending=l}function AN(t,l,c){if((c&4194048)!==0){var u=l.lanes;u&=t.pendingLanes,c|=u,l.lanes=c,Ly(t,c)}}var Ro={readContext:Dt,use:ki,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Ro.useEffectEvent=it;var RN={readContext:Dt,use:ki,useCallback:function(t,l){return Yt().memoizedState=[t,l===void 0?null:l],t},useContext:Dt,useEffect:pN,useImperativeHandle:function(t,l,c){c=c!=null?c.concat([t]):null,Ai(4194308,4,xN.bind(null,l,t),c)},useLayoutEffect:function(t,l){return Ai(4194308,4,t,l)},useInsertionEffect:function(t,l){Ai(4,2,t,l)},useMemo:function(t,l){var c=Yt();l=l===void 0?null:l;var u=t();if(Nr){ga(!0);try{t()}finally{ga(!1)}}return c.memoizedState=[u,l],u},useReducer:function(t,l,c){var u=Yt();if(c!==void 0){var h=c(l);if(Nr){ga(!0);try{c(l)}finally{ga(!1)}}}else h=l;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=AR.bind(null,Re,t),[u.memoizedState,t]},useRef:function(t){var l=Yt();return t={current:t},l.memoizedState=t},useState:function(t){t=Tm(t);var l=t.queue,c=kN.bind(null,Re,l);return l.dispatch=c,[t.memoizedState,c]},useDebugValue:Om,useDeferredValue:function(t,l){var c=Yt();return Am(c,t,l)},useTransition:function(){var t=Tm(!1);return t=wN.bind(null,Re,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,l,c){var u=Re,h=Yt();if(Pe){if(c===void 0)throw Error(o(407));c=c()}else{if(c=l(),We===null)throw Error(o(349));(Ie&127)!==0||Zj(u,l,c)}h.memoizedState=c;var g={value:c,getSnapshot:l};return h.queue=g,pN(tN.bind(null,u,g,t),[t]),u.flags|=2048,xl(9,{destroy:void 0},eN.bind(null,u,g,c,l),null),c},useId:function(){var t=Yt(),l=We.identifierPrefix;if(Pe){var c=Ha,u=Pa;c=(u&~(1<<32-Et(u)-1)).toString(32)+c,l="_"+l+"R_"+c,c=Ti++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=wR++,l="_"+l+"r_"+c.toString(32)+"_";return t.memoizedState=l},useHostTransitionStatus:zm,useFormState:uN,useActionState:uN,useOptimistic:function(t){var l=Yt();l.memoizedState=l.baseState=t;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Mm.bind(null,Re,!0,c),c.dispatch=l,[t,l]},useMemoCache:wm,useCacheRefresh:function(){return Yt().memoizedState=OR.bind(null,Re)},useEffectEvent:function(t){var l=Yt(),c={impl:t};return l.memoizedState=c,function(){if((Ye&2)!==0)throw Error(o(440));return c.impl.apply(void 0,arguments)}}},Dm={readContext:Dt,use:ki,useCallback:jN,useContext:Dt,useEffect:km,useImperativeHandle:yN,useInsertionEffect:vN,useLayoutEffect:bN,useMemo:NN,useReducer:Oi,useRef:mN,useState:function(){return Oi(on)},useDebugValue:Om,useDeferredValue:function(t,l){var c=dt();return CN(c,Ve.memoizedState,t,l)},useTransition:function(){var t=Oi(on)[0],l=dt().memoizedState;return[typeof t=="boolean"?t:Oo(t),l]},useSyncExternalStore:Qj,useId:TN,useHostTransitionStatus:zm,useFormState:dN,useActionState:dN,useOptimistic:function(t,l){var c=dt();return rN(c,Ve,t,l)},useMemoCache:wm,useCacheRefresh:EN};Dm.useEffectEvent=gN;var zN={readContext:Dt,use:ki,useCallback:jN,useContext:Dt,useEffect:km,useImperativeHandle:yN,useInsertionEffect:vN,useLayoutEffect:bN,useMemo:NN,useReducer:_m,useRef:mN,useState:function(){return _m(on)},useDebugValue:Om,useDeferredValue:function(t,l){var c=dt();return Ve===null?Am(c,t,l):CN(c,Ve.memoizedState,t,l)},useTransition:function(){var t=_m(on)[0],l=dt().memoizedState;return[typeof t=="boolean"?t:Oo(t),l]},useSyncExternalStore:Qj,useId:TN,useHostTransitionStatus:zm,useFormState:hN,useActionState:hN,useOptimistic:function(t,l){var c=dt();return Ve!==null?rN(c,Ve,t,l):(c.baseState=t,[t,c.queue.dispatch])},useMemoCache:wm,useCacheRefresh:EN};zN.useEffectEvent=gN;function Lm(t,l,c,u){l=t.memoizedState,c=c(u,l),c=c==null?l:b({},l,c),t.memoizedState=c,t.lanes===0&&(t.updateQueue.baseState=c)}var Um={enqueueSetState:function(t,l,c){t=t._reactInternals;var u=fa(),h=zn(u);h.payload=l,c!=null&&(h.callback=c),l=Mn(t,h,u),l!==null&&(Qt(l,t,u),_o(l,t,u))},enqueueReplaceState:function(t,l,c){t=t._reactInternals;var u=fa(),h=zn(u);h.tag=1,h.payload=l,c!=null&&(h.callback=c),l=Mn(t,h,u),l!==null&&(Qt(l,t,u),_o(l,t,u))},enqueueForceUpdate:function(t,l){t=t._reactInternals;var c=fa(),u=zn(c);u.tag=2,l!=null&&(u.callback=l),l=Mn(t,u,c),l!==null&&(Qt(l,t,c),_o(l,t,c))}};function MN(t,l,c,u,h,g,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,g,x):l.prototype&&l.prototype.isPureReactComponent?!bo(c,u)||!bo(h,g):!0}function DN(t,l,c,u){t=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,u),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,u),l.state!==t&&Um.enqueueReplaceState(l,l.state,null)}function Cr(t,l){var c=l;if("ref"in l){c={};for(var u in l)u!=="ref"&&(c[u]=l[u])}if(t=t.defaultProps){c===l&&(c=b({},c));for(var h in t)c[h]===void 0&&(c[h]=t[h])}return c}function LN(t){di(t)}function UN(t){console.error(t)}function IN(t){di(t)}function Mi(t,l){try{var c=t.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(u){setTimeout(function(){throw u})}}function qN(t,l,c){try{var u=t.onCaughtError;u(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Im(t,l,c){return c=zn(c),c.tag=3,c.payload={element:null},c.callback=function(){Mi(t,l)},c}function BN(t){return t=zn(t),t.tag=3,t}function PN(t,l,c,u){var h=c.type.getDerivedStateFromError;if(typeof h=="function"){var g=u.value;t.payload=function(){return h(g)},t.callback=function(){qN(l,c,u)}}var x=c.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(t.callback=function(){qN(l,c,u),typeof h!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function RR(t,l,c,u,h){if(c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(l=c.alternate,l!==null&&dl(l,c,h,!0),c=ia.current,c!==null){switch(c.tag){case 31:case 13:return wa===null?Fi():c.alternate===null&&ct===0&&(ct=3),c.flags&=-257,c.flags|=65536,c.lanes=h,u===ji?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([u]):l.add(u),cp(t,u,h)),!1;case 22:return c.flags|=65536,u===ji?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([u])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([u]):c.add(u)),cp(t,u,h)),!1}throw Error(o(435,c.tag))}return cp(t,u,h),Fi(),!1}if(Pe)return l=ia.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=h,u!==nm&&(t=Error(o(422),{cause:u}),jo(ya(t,c)))):(u!==nm&&(l=Error(o(423),{cause:u}),jo(ya(l,c))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=ya(u,c),h=Im(t.stateNode,u,h),mm(t,h),ct!==4&&(ct=2)),!1;var g=Error(o(520),{cause:u});if(g=ya(g,c),Bo===null?Bo=[g]:Bo.push(g),ct!==4&&(ct=2),l===null)return!0;u=ya(u,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,t=h&-h,c.lanes|=t,t=Im(c.stateNode,u,t),mm(c,t),!1;case 1:if(l=c.type,g=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Bn===null||!Bn.has(g))))return c.flags|=65536,h&=-h,c.lanes|=h,h=BN(h),PN(h,t,c,u),mm(c,h),!1}c=c.return}while(c!==null);return!1}var qm=Error(o(461)),vt=!1;function Lt(t,l,c,u){l.child=t===null?Xj(l,null,c,u):jr(l,t.child,c,u)}function HN(t,l,c,u,h){c=c.render;var g=l.ref;if("ref"in u){var x={};for(var N in u)N!=="ref"&&(x[N]=u[N])}else x=u;return vr(l),u=ym(t,l,c,x,g,h),N=jm(),t!==null&&!vt?(Nm(t,l,h),sn(t,l,h)):(Pe&&N&&tm(l),l.flags|=1,Lt(t,l,u,h),l.child)}function $N(t,l,c,u,h){if(t===null){var g=c.type;return typeof g=="function"&&!Qh(g)&&g.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=g,YN(t,l,g,u,h)):(t=pi(c.type,null,u,l,l.mode,h),t.ref=l.ref,t.return=l,l.child=t)}if(g=t.child,!Gm(t,h)){var x=g.memoizedProps;if(c=c.compare,c=c!==null?c:bo,c(x,u)&&t.ref===l.ref)return sn(t,l,h)}return l.flags|=1,t=tn(g,u),t.ref=l.ref,t.return=l,l.child=t}function YN(t,l,c,u,h){if(t!==null){var g=t.memoizedProps;if(bo(g,u)&&t.ref===l.ref)if(vt=!1,l.pendingProps=u=g,Gm(t,h))(t.flags&131072)!==0&&(vt=!0);else return l.lanes=t.lanes,sn(t,l,h)}return Bm(t,l,c,u,h)}function XN(t,l,c,u){var h=u.children,g=t!==null?t.memoizedState:null;if(t===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((l.flags&128)!==0){if(g=g!==null?g.baseLanes|c:c,t!==null){for(u=l.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~g}else u=0,l.child=null;return FN(t,l,g,c,u)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},t!==null&&xi(l,g!==null?g.cachePool:null),g!==null?Vj(l,g):gm(),Kj(l);else return u=l.lanes=536870912,FN(t,l,g!==null?g.baseLanes|c:c,c,u)}else g!==null?(xi(l,g.cachePool),Vj(l,g),Ln(),l.memoizedState=null):(t!==null&&xi(l,null),gm(),Ln());return Lt(t,l,h,c),l.child}function zo(t,l){return t!==null&&t.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function FN(t,l,c,u,h){var g=um();return g=g===null?null:{parent:pt._currentValue,pool:g},l.memoizedState={baseLanes:c,cachePool:g},t!==null&&xi(l,null),gm(),Kj(l),t!==null&&dl(t,l,u,!0),l.childLanes=h,null}function Di(t,l){return l=Ui({mode:l.mode,children:l.children},t.mode),l.ref=t.ref,t.child=l,l.return=t,l}function GN(t,l,c){return jr(l,t.child,null,c),t=Di(l,l.pendingProps),t.flags|=2,ca(l),l.memoizedState=null,t}function zR(t,l,c){var u=l.pendingProps,h=(l.flags&128)!==0;if(l.flags&=-129,t===null){if(Pe){if(u.mode==="hidden")return t=Di(l,u),l.lanes=536870912,zo(null,t);if(bm(l),(t=at)?(t=lC(t,Ca),t=t!==null&&t.data==="&"?t:null,t!==null&&(l.memoizedState={dehydrated:t,treeContext:En!==null?{id:Pa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},c=Oj(t),c.return=l,l.child=c,Mt=l,at=null)):t=null,t===null)throw On(l);return l.lanes=536870912,null}return Di(l,u)}var g=t.memoizedState;if(g!==null){var x=g.dehydrated;if(bm(l),h)if(l.flags&256)l.flags&=-257,l=GN(t,l,c);else if(l.memoizedState!==null)l.child=t.child,l.flags|=128,l=null;else throw Error(o(558));else if(vt||dl(t,l,c,!1),h=(c&t.childLanes)!==0,vt||h){if(u=We,u!==null&&(x=Uy(u,c),x!==0&&x!==g.retryLane))throw g.retryLane=x,hr(t,x),Qt(u,t,x),qm;Fi(),l=GN(t,l,c)}else t=g.treeContext,at=Sa(x.nextSibling),Mt=l,Pe=!0,kn=null,Ca=!1,t!==null&&zj(l,t),l=Di(l,u),l.flags|=4096;return l}return t=tn(t.child,{mode:u.mode,children:u.children}),t.ref=l.ref,l.child=t,t.return=l,t}function Li(t,l){var c=l.ref;if(c===null)t!==null&&t.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(o(284));(t===null||t.ref!==c)&&(l.flags|=4194816)}}function Bm(t,l,c,u,h){return vr(l),c=ym(t,l,c,u,void 0,h),u=jm(),t!==null&&!vt?(Nm(t,l,h),sn(t,l,h)):(Pe&&u&&tm(l),l.flags|=1,Lt(t,l,c,h),l.child)}function VN(t,l,c,u,h,g){return vr(l),l.updateQueue=null,c=Wj(l,u,c,h),Jj(t),u=jm(),t!==null&&!vt?(Nm(t,l,g),sn(t,l,g)):(Pe&&u&&tm(l),l.flags|=1,Lt(t,l,c,g),l.child)}function KN(t,l,c,u,h){if(vr(l),l.stateNode===null){var g=sl,x=c.contextType;typeof x=="object"&&x!==null&&(g=Dt(x)),g=new c(u,g),l.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Um,l.stateNode=g,g._reactInternals=l,g=l.stateNode,g.props=u,g.state=l.memoizedState,g.refs={},fm(l),x=c.contextType,g.context=typeof x=="object"&&x!==null?Dt(x):sl,g.state=l.memoizedState,x=c.getDerivedStateFromProps,typeof x=="function"&&(Lm(l,c,x,u),g.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(x=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),x!==g.state&&Um.enqueueReplaceState(g,g.state,null),Eo(l,u,g,h),To(),g.state=l.memoizedState),typeof g.componentDidMount=="function"&&(l.flags|=4194308),u=!0}else if(t===null){g=l.stateNode;var N=l.memoizedProps,U=Cr(c,N);g.props=U;var Z=g.context,ce=c.contextType;x=sl,typeof ce=="object"&&ce!==null&&(x=Dt(ce));var fe=c.getDerivedStateFromProps;ce=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=l.pendingProps!==N,ce||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||Z!==x)&&DN(l,g,u,x),Rn=!1;var ee=l.memoizedState;g.state=ee,Eo(l,u,g,h),To(),Z=l.memoizedState,N||ee!==Z||Rn?(typeof fe=="function"&&(Lm(l,c,fe,u),Z=l.memoizedState),(U=Rn||MN(l,c,U,u,ee,Z,x))?(ce||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(l.flags|=4194308)):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=u,l.memoizedState=Z),g.props=u,g.state=Z,g.context=x,u=U):(typeof g.componentDidMount=="function"&&(l.flags|=4194308),u=!1)}else{g=l.stateNode,hm(t,l),x=l.memoizedProps,ce=Cr(c,x),g.props=ce,fe=l.pendingProps,ee=g.context,Z=c.contextType,U=sl,typeof Z=="object"&&Z!==null&&(U=Dt(Z)),N=c.getDerivedStateFromProps,(Z=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==fe||ee!==U)&&DN(l,g,u,U),Rn=!1,ee=l.memoizedState,g.state=ee,Eo(l,u,g,h),To();var oe=l.memoizedState;x!==fe||ee!==oe||Rn||t!==null&&t.dependencies!==null&&vi(t.dependencies)?(typeof N=="function"&&(Lm(l,c,N,u),oe=l.memoizedState),(ce=Rn||MN(l,c,ce,u,ee,oe,U)||t!==null&&t.dependencies!==null&&vi(t.dependencies))?(Z||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,oe,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,oe,U)),typeof g.componentDidUpdate=="function"&&(l.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(l.flags|=1024),l.memoizedProps=u,l.memoizedState=oe),g.props=u,g.state=oe,g.context=U,u=ce):(typeof g.componentDidUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(l.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&ee===t.memoizedState||(l.flags|=1024),u=!1)}return g=u,Li(t,l),u=(l.flags&128)!==0,g||u?(g=l.stateNode,c=u&&typeof c.getDerivedStateFromError!="function"?null:g.render(),l.flags|=1,t!==null&&u?(l.child=jr(l,t.child,null,h),l.child=jr(l,null,c,h)):Lt(t,l,c,h),l.memoizedState=g.state,t=l.child):t=sn(t,l,h),t}function JN(t,l,c,u){return pr(),l.flags|=256,Lt(t,l,c,u),l.child}var Pm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hm(t){return{baseLanes:t,cachePool:qj()}}function $m(t,l,c){return t=t!==null?t.childLanes&~c:0,l&&(t|=da),t}function WN(t,l,c){var u=l.pendingProps,h=!1,g=(l.flags&128)!==0,x;if((x=g)||(x=t!==null&&t.memoizedState===null?!1:(ut.current&2)!==0),x&&(h=!0,l.flags&=-129),x=(l.flags&32)!==0,l.flags&=-33,t===null){if(Pe){if(h?Dn(l):Ln(),(t=at)?(t=lC(t,Ca),t=t!==null&&t.data!=="&"?t:null,t!==null&&(l.memoizedState={dehydrated:t,treeContext:En!==null?{id:Pa,overflow:Ha}:null,retryLane:536870912,hydrationErrors:null},c=Oj(t),c.return=l,l.child=c,Mt=l,at=null)):t=null,t===null)throw On(l);return Sp(t)?l.lanes=32:l.lanes=536870912,null}var N=u.children;return u=u.fallback,h?(Ln(),h=l.mode,N=Ui({mode:"hidden",children:N},h),u=mr(u,h,c,null),N.return=l,u.return=l,N.sibling=u,l.child=N,u=l.child,u.memoizedState=Hm(c),u.childLanes=$m(t,x,c),l.memoizedState=Pm,zo(null,u)):(Dn(l),Ym(l,N))}var U=t.memoizedState;if(U!==null&&(N=U.dehydrated,N!==null)){if(g)l.flags&256?(Dn(l),l.flags&=-257,l=Xm(t,l,c)):l.memoizedState!==null?(Ln(),l.child=t.child,l.flags|=128,l=null):(Ln(),N=u.fallback,h=l.mode,u=Ui({mode:"visible",children:u.children},h),N=mr(N,h,c,null),N.flags|=2,u.return=l,N.return=l,u.sibling=N,l.child=u,jr(l,t.child,null,c),u=l.child,u.memoizedState=Hm(c),u.childLanes=$m(t,x,c),l.memoizedState=Pm,l=zo(null,u));else if(Dn(l),Sp(N)){if(x=N.nextSibling&&N.nextSibling.dataset,x)var Z=x.dgst;x=Z,u=Error(o(419)),u.stack="",u.digest=x,jo({value:u,source:null,stack:null}),l=Xm(t,l,c)}else if(vt||dl(t,l,c,!1),x=(c&t.childLanes)!==0,vt||x){if(x=We,x!==null&&(u=Uy(x,c),u!==0&&u!==U.retryLane))throw U.retryLane=u,hr(t,u),Qt(x,t,u),qm;wp(N)||Fi(),l=Xm(t,l,c)}else wp(N)?(l.flags|=192,l.child=t.child,l=null):(t=U.treeContext,at=Sa(N.nextSibling),Mt=l,Pe=!0,kn=null,Ca=!1,t!==null&&zj(l,t),l=Ym(l,u.children),l.flags|=4096);return l}return h?(Ln(),N=u.fallback,h=l.mode,U=t.child,Z=U.sibling,u=tn(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Z!==null?N=tn(Z,N):(N=mr(N,h,c,null),N.flags|=2),N.return=l,u.return=l,u.sibling=N,l.child=u,zo(null,u),u=l.child,N=t.child.memoizedState,N===null?N=Hm(c):(h=N.cachePool,h!==null?(U=pt._currentValue,h=h.parent!==U?{parent:U,pool:U}:h):h=qj(),N={baseLanes:N.baseLanes|c,cachePool:h}),u.memoizedState=N,u.childLanes=$m(t,x,c),l.memoizedState=Pm,zo(t.child,u)):(Dn(l),c=t.child,t=c.sibling,c=tn(c,{mode:"visible",children:u.children}),c.return=l,c.sibling=null,t!==null&&(x=l.deletions,x===null?(l.deletions=[t],l.flags|=16):x.push(t)),l.child=c,l.memoizedState=null,c)}function Ym(t,l){return l=Ui({mode:"visible",children:l},t.mode),l.return=t,t.child=l}function Ui(t,l){return t=sa(22,t,null,l),t.lanes=0,t}function Xm(t,l,c){return jr(l,t.child,null,c),t=Ym(l,l.pendingProps.children),t.flags|=2,l.memoizedState=null,t}function QN(t,l,c){t.lanes|=l;var u=t.alternate;u!==null&&(u.lanes|=l),om(t.return,l,c)}function Fm(t,l,c,u,h,g){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:u,tail:c,tailMode:h,treeForkCount:g}:(x.isBackwards=l,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=c,x.tailMode=h,x.treeForkCount=g)}function ZN(t,l,c){var u=l.pendingProps,h=u.revealOrder,g=u.tail;u=u.children;var x=ut.current,N=(x&2)!==0;if(N?(x=x&1|2,l.flags|=128):x&=1,M(ut,x),Lt(t,l,u,c),u=Pe?yo:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=l.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&QN(t,c,l);else if(t.tag===19)QN(t,c,l);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===l)break e;for(;t.sibling===null;){if(t.return===null||t.return===l)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(c=l.child,h=null;c!==null;)t=c.alternate,t!==null&&Si(t)===null&&(h=c),c=c.sibling;c=h,c===null?(h=l.child,l.child=null):(h=c.sibling,c.sibling=null),Fm(l,!1,h,c,g,u);break;case"backwards":case"unstable_legacy-backwards":for(c=null,h=l.child,l.child=null;h!==null;){if(t=h.alternate,t!==null&&Si(t)===null){l.child=h;break}t=h.sibling,h.sibling=c,c=h,h=t}Fm(l,!0,c,null,g,u);break;case"together":Fm(l,!1,null,null,void 0,u);break;default:l.memoizedState=null}return l.child}function sn(t,l,c){if(t!==null&&(l.dependencies=t.dependencies),qn|=l.lanes,(c&l.childLanes)===0)if(t!==null){if(dl(t,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(t!==null&&l.child!==t.child)throw Error(o(153));if(l.child!==null){for(t=l.child,c=tn(t,t.pendingProps),l.child=c,c.return=l;t.sibling!==null;)t=t.sibling,c=c.sibling=tn(t,t.pendingProps),c.return=l;c.sibling=null}return l.child}function Gm(t,l){return(t.lanes&l)!==0?!0:(t=t.dependencies,!!(t!==null&&vi(t)))}function MR(t,l,c){switch(l.tag){case 3:ae(l,l.stateNode.containerInfo),An(l,pt,t.memoizedState.cache),pr();break;case 27:case 5:Y(l);break;case 4:ae(l,l.stateNode.containerInfo);break;case 10:An(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,bm(l),null;break;case 13:var u=l.memoizedState;if(u!==null)return u.dehydrated!==null?(Dn(l),l.flags|=128,null):(c&l.child.childLanes)!==0?WN(t,l,c):(Dn(l),t=sn(t,l,c),t!==null?t.sibling:null);Dn(l);break;case 19:var h=(t.flags&128)!==0;if(u=(c&l.childLanes)!==0,u||(dl(t,l,c,!1),u=(c&l.childLanes)!==0),h){if(u)return ZN(t,l,c);l.flags|=128}if(h=l.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),M(ut,ut.current),u)break;return null;case 22:return l.lanes=0,XN(t,l,c,l.pendingProps);case 24:An(l,pt,t.memoizedState.cache)}return sn(t,l,c)}function e1(t,l,c){if(t!==null)if(t.memoizedProps!==l.pendingProps)vt=!0;else{if(!Gm(t,c)&&(l.flags&128)===0)return vt=!1,MR(t,l,c);vt=(t.flags&131072)!==0}else vt=!1,Pe&&(l.flags&1048576)!==0&&Rj(l,yo,l.index);switch(l.lanes=0,l.tag){case 16:e:{var u=l.pendingProps;if(t=xr(l.elementType),l.type=t,typeof t=="function")Qh(t)?(u=Cr(t,u),l.tag=1,l=KN(null,l,t,u,c)):(l.tag=0,l=Bm(null,l,t,u,c));else{if(t!=null){var h=t.$$typeof;if(h===I){l.tag=11,l=HN(null,l,t,u,c);break e}else if(h===D){l.tag=14,l=$N(null,l,t,u,c);break e}}throw l=se(t)||t,Error(o(306,l,""))}}return l;case 0:return Bm(t,l,l.type,l.pendingProps,c);case 1:return u=l.type,h=Cr(u,l.pendingProps),KN(t,l,u,h,c);case 3:e:{if(ae(l,l.stateNode.containerInfo),t===null)throw Error(o(387));u=l.pendingProps;var g=l.memoizedState;h=g.element,hm(t,l),Eo(l,u,null,c);var x=l.memoizedState;if(u=x.cache,An(l,pt,u),u!==g.cache&&sm(l,[pt],c,!0),To(),u=x.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:x.cache},l.updateQueue.baseState=g,l.memoizedState=g,l.flags&256){l=JN(t,l,u,c);break e}else if(u!==h){h=ya(Error(o(424)),l),jo(h),l=JN(t,l,u,c);break e}else{switch(t=l.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Sa(t.firstChild),Mt=l,Pe=!0,kn=null,Ca=!0,c=Xj(l,null,u,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(pr(),u===h){l=sn(t,l,c);break e}Lt(t,l,u,c)}l=l.child}return l;case 26:return Li(t,l),t===null?(c=dC(l.type,null,l.pendingProps,null))?l.memoizedState=c:Pe||(c=l.type,t=l.pendingProps,u=Zi(ie.current).createElement(c),u[zt]=l,u[Ft]=t,Ut(u,c,t),kt(u),l.stateNode=u):l.memoizedState=dC(l.type,t.memoizedProps,l.pendingProps,t.memoizedState),null;case 27:return Y(l),t===null&&Pe&&(u=l.stateNode=iC(l.type,l.pendingProps,ie.current),Mt=l,Ca=!0,h=at,Yn(l.type)?(_p=h,at=Sa(u.firstChild)):at=h),Lt(t,l,l.pendingProps.children,c),Li(t,l),t===null&&(l.flags|=4194304),l.child;case 5:return t===null&&Pe&&((h=u=at)&&(u=uz(u,l.type,l.pendingProps,Ca),u!==null?(l.stateNode=u,Mt=l,at=Sa(u.firstChild),Ca=!1,h=!0):h=!1),h||On(l)),Y(l),h=l.type,g=l.pendingProps,x=t!==null?t.memoizedProps:null,u=g.children,jp(h,g)?u=null:x!==null&&jp(h,x)&&(l.flags|=32),l.memoizedState!==null&&(h=ym(t,l,SR,null,null,c),Vo._currentValue=h),Li(t,l),Lt(t,l,u,c),l.child;case 6:return t===null&&Pe&&((t=c=at)&&(c=dz(c,l.pendingProps,Ca),c!==null?(l.stateNode=c,Mt=l,at=null,t=!0):t=!1),t||On(l)),null;case 13:return WN(t,l,c);case 4:return ae(l,l.stateNode.containerInfo),u=l.pendingProps,t===null?l.child=jr(l,null,u,c):Lt(t,l,u,c),l.child;case 11:return HN(t,l,l.type,l.pendingProps,c);case 7:return Lt(t,l,l.pendingProps,c),l.child;case 8:return Lt(t,l,l.pendingProps.children,c),l.child;case 12:return Lt(t,l,l.pendingProps.children,c),l.child;case 10:return u=l.pendingProps,An(l,l.type,u.value),Lt(t,l,u.children,c),l.child;case 9:return h=l.type._context,u=l.pendingProps.children,vr(l),h=Dt(h),u=u(h),l.flags|=1,Lt(t,l,u,c),l.child;case 14:return $N(t,l,l.type,l.pendingProps,c);case 15:return YN(t,l,l.type,l.pendingProps,c);case 19:return ZN(t,l,c);case 31:return zR(t,l,c);case 22:return XN(t,l,c,l.pendingProps);case 24:return vr(l),u=Dt(pt),t===null?(h=um(),h===null&&(h=We,g=im(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=c),h=g),l.memoizedState={parent:u,cache:h},fm(l),An(l,pt,h)):((t.lanes&c)!==0&&(hm(t,l),Eo(l,null,null,c),To()),h=t.memoizedState,g=l.memoizedState,h.parent!==u?(h={parent:u,cache:u},l.memoizedState=h,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=h),An(l,pt,u)):(u=g.cache,An(l,pt,u),u!==h.cache&&sm(l,[pt],c,!0))),Lt(t,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(o(156,l.tag))}function cn(t){t.flags|=4}function Vm(t,l,c,u,h){if((l=(t.mode&32)!==0)&&(l=!1),l){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(T1())t.flags|=8192;else throw yr=ji,dm}else t.flags&=-16777217}function t1(t,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gC(l))if(T1())t.flags|=8192;else throw yr=ji,dm}function Ii(t,l){l!==null&&(t.flags|=4),t.flags&16384&&(l=t.tag!==22?My():536870912,t.lanes|=l,Cl|=l)}function Mo(t,l){if(!Pe)switch(t.tailMode){case"hidden":l=t.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?t.tail=null:c.sibling=null;break;case"collapsed":c=t.tail;for(var u=null;c!==null;)c.alternate!==null&&(u=c),c=c.sibling;u===null?l||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function nt(t){var l=t.alternate!==null&&t.alternate.child===t.child,c=0,u=0;if(l)for(var h=t.child;h!==null;)c|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)c|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=c,l}function DR(t,l,c){var u=l.pendingProps;switch(am(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(l),null;case 1:return nt(l),null;case 3:return c=l.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),rn(pt),A(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ul(l)?cn(l):t===null||t.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,rm())),nt(l),null;case 26:var h=l.type,g=l.memoizedState;return t===null?(cn(l),g!==null?(nt(l),t1(l,g)):(nt(l),Vm(l,h,null,u,c))):g?g!==t.memoizedState?(cn(l),nt(l),t1(l,g)):(nt(l),l.flags&=-16777217):(t=t.memoizedProps,t!==u&&cn(l),nt(l),Vm(l,h,t,u,c)),null;case 27:if(de(l),c=ie.current,h=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==u&&cn(l);else{if(!u){if(l.stateNode===null)throw Error(o(166));return nt(l),null}t=q.current,ul(l)?Mj(l):(t=iC(h,u,c),l.stateNode=t,cn(l))}return nt(l),null;case 5:if(de(l),h=l.type,t!==null&&l.stateNode!=null)t.memoizedProps!==u&&cn(l);else{if(!u){if(l.stateNode===null)throw Error(o(166));return nt(l),null}if(g=q.current,ul(l))Mj(l);else{var x=Zi(ie.current);switch(g){case 1:g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=x.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=x.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=x.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?x.createElement(h,{is:u.is}):x.createElement(h)}}g[zt]=l,g[Ft]=u;e:for(x=l.child;x!==null;){if(x.tag===5||x.tag===6)g.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===l)break e;for(;x.sibling===null;){if(x.return===null||x.return===l)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}l.stateNode=g;e:switch(Ut(g,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&cn(l)}}return nt(l),Vm(l,l.type,t===null?null:t.memoizedProps,l.pendingProps,c),null;case 6:if(t&&l.stateNode!=null)t.memoizedProps!==u&&cn(l);else{if(typeof u!="string"&&l.stateNode===null)throw Error(o(166));if(t=ie.current,ul(l)){if(t=l.stateNode,c=l.memoizedProps,u=null,h=Mt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[zt]=l,t=!!(t.nodeValue===c||u!==null&&u.suppressHydrationWarning===!0||W1(t.nodeValue,c)),t||On(l,!0)}else t=Zi(t).createTextNode(u),t[zt]=l,l.stateNode=t}return nt(l),null;case 31:if(c=l.memoizedState,t===null||t.memoizedState!==null){if(u=ul(l),c!==null){if(t===null){if(!u)throw Error(o(318));if(t=l.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[zt]=l}else pr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nt(l),t=!1}else c=rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),t=!0;if(!t)return l.flags&256?(ca(l),l):(ca(l),null);if((l.flags&128)!==0)throw Error(o(558))}return nt(l),null;case 13:if(u=l.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ul(l),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(o(318));if(h=l.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(o(317));h[zt]=l}else pr(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;nt(l),h=!1}else h=rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return l.flags&256?(ca(l),l):(ca(l),null)}return ca(l),(l.flags&128)!==0?(l.lanes=c,l):(c=u!==null,t=t!==null&&t.memoizedState!==null,c&&(u=l.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048)),c!==t&&c&&(l.child.flags|=8192),Ii(l,l.updateQueue),nt(l),null);case 4:return A(),t===null&&gp(l.stateNode.containerInfo),nt(l),null;case 10:return rn(l.type),nt(l),null;case 19:if(k(ut),u=l.memoizedState,u===null)return nt(l),null;if(h=(l.flags&128)!==0,g=u.rendering,g===null)if(h)Mo(u,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=l.child;t!==null;){if(g=Si(t),g!==null){for(l.flags|=128,Mo(u,!1),t=g.updateQueue,l.updateQueue=t,Ii(l,t),l.subtreeFlags=0,t=c,c=l.child;c!==null;)kj(c,t),c=c.sibling;return M(ut,ut.current&1|2),Pe&&an(l,u.treeForkCount),l.child}t=t.sibling}u.tail!==null&&mt()>$i&&(l.flags|=128,h=!0,Mo(u,!1),l.lanes=4194304)}else{if(!h)if(t=Si(g),t!==null){if(l.flags|=128,h=!0,t=t.updateQueue,l.updateQueue=t,Ii(l,t),Mo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Pe)return nt(l),null}else 2*mt()-u.renderingStartTime>$i&&c!==536870912&&(l.flags|=128,h=!0,Mo(u,!1),l.lanes=4194304);u.isBackwards?(g.sibling=l.child,l.child=g):(t=u.last,t!==null?t.sibling=g:l.child=g,u.last=g)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mt(),t.sibling=null,c=ut.current,M(ut,h?c&1|2:c&1),Pe&&an(l,u.treeForkCount),t):(nt(l),null);case 22:case 23:return ca(l),vm(),u=l.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(l.flags|=8192):u&&(l.flags|=8192),u?(c&536870912)!==0&&(l.flags&128)===0&&(nt(l),l.subtreeFlags&6&&(l.flags|=8192)):nt(l),c=l.updateQueue,c!==null&&Ii(l,c.retryQueue),c=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048),t!==null&&k(br),null;case 24:return c=null,t!==null&&(c=t.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),rn(pt),nt(l),null;case 25:return null;case 30:return null}throw Error(o(156,l.tag))}function LR(t,l){switch(am(l),l.tag){case 1:return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 3:return rn(pt),A(),t=l.flags,(t&65536)!==0&&(t&128)===0?(l.flags=t&-65537|128,l):null;case 26:case 27:case 5:return de(l),null;case 31:if(l.memoizedState!==null){if(ca(l),l.alternate===null)throw Error(o(340));pr()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 13:if(ca(l),t=l.memoizedState,t!==null&&t.dehydrated!==null){if(l.alternate===null)throw Error(o(340));pr()}return t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 19:return k(ut),null;case 4:return A(),null;case 10:return rn(l.type),null;case 22:case 23:return ca(l),vm(),t!==null&&k(br),t=l.flags,t&65536?(l.flags=t&-65537|128,l):null;case 24:return rn(pt),null;case 25:return null;default:return null}}function a1(t,l){switch(am(l),l.tag){case 3:rn(pt),A();break;case 26:case 27:case 5:de(l);break;case 4:A();break;case 31:l.memoizedState!==null&&ca(l);break;case 13:ca(l);break;case 19:k(ut);break;case 10:rn(l.type);break;case 22:case 23:ca(l),vm(),t!==null&&k(br);break;case 24:rn(pt)}}function Do(t,l){try{var c=l.updateQueue,u=c!==null?c.lastEffect:null;if(u!==null){var h=u.next;c=h;do{if((c.tag&t)===t){u=void 0;var g=c.create,x=c.inst;u=g(),x.destroy=u}c=c.next}while(c!==h)}}catch(N){Ge(l,l.return,N)}}function Un(t,l,c){try{var u=l.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var g=h.next;u=g;do{if((u.tag&t)===t){var x=u.inst,N=x.destroy;if(N!==void 0){x.destroy=void 0,h=l;var U=c,Z=N;try{Z()}catch(ce){Ge(h,U,ce)}}}u=u.next}while(u!==g)}}catch(ce){Ge(l,l.return,ce)}}function n1(t){var l=t.updateQueue;if(l!==null){var c=t.stateNode;try{Gj(l,c)}catch(u){Ge(t,t.return,u)}}}function r1(t,l,c){c.props=Cr(t.type,t.memoizedProps),c.state=t.memoizedState;try{c.componentWillUnmount()}catch(u){Ge(t,l,u)}}function Lo(t,l){try{var c=t.ref;if(c!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof c=="function"?t.refCleanup=c(u):c.current=u}}catch(h){Ge(t,l,h)}}function $a(t,l){var c=t.ref,u=t.refCleanup;if(c!==null)if(typeof u=="function")try{u()}catch(h){Ge(t,l,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(h){Ge(t,l,h)}else c.current=null}function l1(t){var l=t.type,c=t.memoizedProps,u=t.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&u.focus();break e;case"img":c.src?u.src=c.src:c.srcSet&&(u.srcset=c.srcSet)}}catch(h){Ge(t,t.return,h)}}function Km(t,l,c){try{var u=t.stateNode;rz(u,t.type,c,l),u[Ft]=l}catch(h){Ge(t,t.return,h)}}function o1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yn(t.type)||t.tag===4}function Jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wm(t,l,c){var u=t.tag;if(u===5||u===6)t=t.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(t,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(t),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Za));else if(u!==4&&(u===27&&Yn(t.type)&&(c=t.stateNode,l=null),t=t.child,t!==null))for(Wm(t,l,c),t=t.sibling;t!==null;)Wm(t,l,c),t=t.sibling}function qi(t,l,c){var u=t.tag;if(u===5||u===6)t=t.stateNode,l?c.insertBefore(t,l):c.appendChild(t);else if(u!==4&&(u===27&&Yn(t.type)&&(c=t.stateNode),t=t.child,t!==null))for(qi(t,l,c),t=t.sibling;t!==null;)qi(t,l,c),t=t.sibling}function s1(t){var l=t.stateNode,c=t.memoizedProps;try{for(var u=t.type,h=l.attributes;h.length;)l.removeAttributeNode(h[0]);Ut(l,u,c),l[zt]=t,l[Ft]=c}catch(g){Ge(t,t.return,g)}}var un=!1,bt=!1,Qm=!1,i1=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function UR(t,l){if(t=t.containerInfo,xp=oc,t=yj(t),Xh(t)){if("selectionStart"in t)var c={start:t.selectionStart,end:t.selectionEnd};else e:{c=(c=t.ownerDocument)&&c.defaultView||window;var u=c.getSelection&&c.getSelection();if(u&&u.rangeCount!==0){c=u.anchorNode;var h=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{c.nodeType,g.nodeType}catch{c=null;break e}var x=0,N=-1,U=-1,Z=0,ce=0,fe=t,ee=null;t:for(;;){for(var oe;fe!==c||h!==0&&fe.nodeType!==3||(N=x+h),fe!==g||u!==0&&fe.nodeType!==3||(U=x+u),fe.nodeType===3&&(x+=fe.nodeValue.length),(oe=fe.firstChild)!==null;)ee=fe,fe=oe;for(;;){if(fe===t)break t;if(ee===c&&++Z===h&&(N=x),ee===g&&++ce===u&&(U=x),(oe=fe.nextSibling)!==null)break;fe=ee,ee=fe.parentNode}fe=oe}c=N===-1||U===-1?null:{start:N,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(yp={focusedElem:t,selectionRange:c},oc=!1,Ot=l;Ot!==null;)if(l=Ot,t=l.child,(l.subtreeFlags&1028)!==0&&t!==null)t.return=l,Ot=t;else for(;Ot!==null;){switch(l=Ot,g=l.alternate,t=l.flags,l.tag){case 0:if((t&4)!==0&&(t=l.updateQueue,t=t!==null?t.events:null,t!==null))for(c=0;c<t.length;c++)h=t[c],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,c=l,h=g.memoizedProps,g=g.memoizedState,u=c.stateNode;try{var je=Cr(c.type,h);t=u.getSnapshotBeforeUpdate(je,g),u.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Ge(c,c.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=l.stateNode.containerInfo,c=t.nodeType,c===9)Cp(t);else if(c===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=l.sibling,t!==null){t.return=l.return,Ot=t;break}Ot=l.return}}function c1(t,l,c){var u=c.flags;switch(c.tag){case 0:case 11:case 15:fn(t,c),u&4&&Do(5,c);break;case 1:if(fn(t,c),u&4)if(t=c.stateNode,l===null)try{t.componentDidMount()}catch(x){Ge(c,c.return,x)}else{var h=Cr(c.type,l.memoizedProps);l=l.memoizedState;try{t.componentDidUpdate(h,l,t.__reactInternalSnapshotBeforeUpdate)}catch(x){Ge(c,c.return,x)}}u&64&&n1(c),u&512&&Lo(c,c.return);break;case 3:if(fn(t,c),u&64&&(t=c.updateQueue,t!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{Gj(t,l)}catch(x){Ge(c,c.return,x)}}break;case 27:l===null&&u&4&&s1(c);case 26:case 5:fn(t,c),l===null&&u&4&&l1(c),u&512&&Lo(c,c.return);break;case 12:fn(t,c);break;case 31:fn(t,c),u&4&&f1(t,c);break;case 13:fn(t,c),u&4&&h1(t,c),u&64&&(t=c.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(c=FR.bind(null,c),fz(t,c))));break;case 22:if(u=c.memoizedState!==null||un,!u){l=l!==null&&l.memoizedState!==null||bt,h=un;var g=bt;un=u,(bt=l)&&!g?hn(t,c,(c.subtreeFlags&8772)!==0):fn(t,c),un=h,bt=g}break;case 30:break;default:fn(t,c)}}function u1(t){var l=t.alternate;l!==null&&(t.alternate=null,u1(l)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(l=t.stateNode,l!==null&&Eh(l)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,Vt=!1;function dn(t,l,c){for(c=c.child;c!==null;)d1(t,l,c),c=c.sibling}function d1(t,l,c){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ct,c)}catch{}switch(c.tag){case 26:bt||$a(c,l),dn(t,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:bt||$a(c,l);var u=lt,h=Vt;Yn(c.type)&&(lt=c.stateNode,Vt=!1),dn(t,l,c),Xo(c.stateNode),lt=u,Vt=h;break;case 5:bt||$a(c,l);case 6:if(u=lt,h=Vt,lt=null,dn(t,l,c),lt=u,Vt=h,lt!==null)if(Vt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(c.stateNode)}catch(g){Ge(c,l,g)}else try{lt.removeChild(c.stateNode)}catch(g){Ge(c,l,g)}break;case 18:lt!==null&&(Vt?(t=lt,nC(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,c.stateNode),Al(t)):nC(lt,c.stateNode));break;case 4:u=lt,h=Vt,lt=c.stateNode.containerInfo,Vt=!0,dn(t,l,c),lt=u,Vt=h;break;case 0:case 11:case 14:case 15:Un(2,c,l),bt||Un(4,c,l),dn(t,l,c);break;case 1:bt||($a(c,l),u=c.stateNode,typeof u.componentWillUnmount=="function"&&r1(c,l,u)),dn(t,l,c);break;case 21:dn(t,l,c);break;case 22:bt=(u=bt)||c.memoizedState!==null,dn(t,l,c),bt=u;break;default:dn(t,l,c)}}function f1(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Al(t)}catch(c){Ge(l,l.return,c)}}}function h1(t,l){if(l.memoizedState===null&&(t=l.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Al(t)}catch(c){Ge(l,l.return,c)}}function IR(t){switch(t.tag){case 31:case 13:case 19:var l=t.stateNode;return l===null&&(l=t.stateNode=new i1),l;case 22:return t=t.stateNode,l=t._retryCache,l===null&&(l=t._retryCache=new i1),l;default:throw Error(o(435,t.tag))}}function Bi(t,l){var c=IR(t);l.forEach(function(u){if(!c.has(u)){c.add(u);var h=GR.bind(null,t,u);u.then(h,h)}})}function Kt(t,l){var c=l.deletions;if(c!==null)for(var u=0;u<c.length;u++){var h=c[u],g=t,x=l,N=x;e:for(;N!==null;){switch(N.tag){case 27:if(Yn(N.type)){lt=N.stateNode,Vt=!1;break e}break;case 5:lt=N.stateNode,Vt=!1;break e;case 3:case 4:lt=N.stateNode.containerInfo,Vt=!0;break e}N=N.return}if(lt===null)throw Error(o(160));d1(g,x,h),lt=null,Vt=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)m1(l,t),l=l.sibling}var Da=null;function m1(t,l){var c=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Kt(l,t),Jt(t),u&4&&(Un(3,t,t.return),Do(3,t),Un(5,t,t.return));break;case 1:Kt(l,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),u&64&&un&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(c=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=c===null?u:c.concat(u))));break;case 26:var h=Da;if(Kt(l,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),u&4){var g=c!==null?c.memoizedState:null;if(u=t.memoizedState,c===null)if(u===null)if(t.stateNode===null){e:{u=t.type,c=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":g=h.getElementsByTagName("title")[0],(!g||g[io]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(u),h.head.insertBefore(g,h.querySelector("head > title"))),Ut(g,u,c),g[zt]=t,kt(g),u=g;break e;case"link":var x=mC("link","href",h).get(u+(c.href||""));if(x){for(var N=0;N<x.length;N++)if(g=x[N],g.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&g.getAttribute("rel")===(c.rel==null?null:c.rel)&&g.getAttribute("title")===(c.title==null?null:c.title)&&g.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){x.splice(N,1);break t}}g=h.createElement(u),Ut(g,u,c),h.head.appendChild(g);break;case"meta":if(x=mC("meta","content",h).get(u+(c.content||""))){for(N=0;N<x.length;N++)if(g=x[N],g.getAttribute("content")===(c.content==null?null:""+c.content)&&g.getAttribute("name")===(c.name==null?null:c.name)&&g.getAttribute("property")===(c.property==null?null:c.property)&&g.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&g.getAttribute("charset")===(c.charSet==null?null:c.charSet)){x.splice(N,1);break t}}g=h.createElement(u),Ut(g,u,c),h.head.appendChild(g);break;default:throw Error(o(468,u))}g[zt]=t,kt(g),u=g}t.stateNode=u}else pC(h,t.type,t.stateNode);else t.stateNode=hC(h,u,t.memoizedProps);else g!==u?(g===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):g.count--,u===null?pC(h,t.type,t.stateNode):hC(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Km(t,t.memoizedProps,c.memoizedProps)}break;case 27:Kt(l,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),c!==null&&u&4&&Km(t,t.memoizedProps,c.memoizedProps);break;case 5:if(Kt(l,t),Jt(t),u&512&&(bt||c===null||$a(c,c.return)),t.flags&32){h=t.stateNode;try{el(h,"")}catch(je){Ge(t,t.return,je)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,Km(t,h,c!==null?c.memoizedProps:h)),u&1024&&(Qm=!0);break;case 6:if(Kt(l,t),Jt(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,c=t.stateNode;try{c.nodeValue=u}catch(je){Ge(t,t.return,je)}}break;case 3:if(ac=null,h=Da,Da=ec(l.containerInfo),Kt(l,t),Da=h,Jt(t),u&4&&c!==null&&c.memoizedState.isDehydrated)try{Al(l.containerInfo)}catch(je){Ge(t,t.return,je)}Qm&&(Qm=!1,p1(t));break;case 4:u=Da,Da=ec(t.stateNode.containerInfo),Kt(l,t),Jt(t),Da=u;break;case 12:Kt(l,t),Jt(t);break;case 31:Kt(l,t),Jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 13:Kt(l,t),Jt(t),t.child.flags&8192&&t.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Hi=mt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 22:h=t.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,Z=un,ce=bt;if(un=Z||h,bt=ce||U,Kt(l,t),bt=ce,un=Z,Jt(t),u&8192)e:for(l=t.stateNode,l._visibility=h?l._visibility&-2:l._visibility|1,h&&(c===null||U||un||bt||wr(t)),c=null,l=t;;){if(l.tag===5||l.tag===26){if(c===null){U=c=l;try{if(g=U.stateNode,h)x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{N=U.stateNode;var fe=U.memoizedProps.style,ee=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;N.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(je){Ge(U,U.return,je)}}}else if(l.tag===6){if(c===null){U=l;try{U.stateNode.nodeValue=h?"":U.memoizedProps}catch(je){Ge(U,U.return,je)}}}else if(l.tag===18){if(c===null){U=l;try{var oe=U.stateNode;h?rC(oe,!0):rC(U.stateNode,!1)}catch(je){Ge(U,U.return,je)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===t)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}u&4&&(u=t.updateQueue,u!==null&&(c=u.retryQueue,c!==null&&(u.retryQueue=null,Bi(t,c))));break;case 19:Kt(l,t),Jt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Bi(t,u)));break;case 30:break;case 21:break;default:Kt(l,t),Jt(t)}}function Jt(t){var l=t.flags;if(l&2){try{for(var c,u=t.return;u!==null;){if(o1(u)){c=u;break}u=u.return}if(c==null)throw Error(o(160));switch(c.tag){case 27:var h=c.stateNode,g=Jm(t);qi(t,g,h);break;case 5:var x=c.stateNode;c.flags&32&&(el(x,""),c.flags&=-33);var N=Jm(t);qi(t,N,x);break;case 3:case 4:var U=c.stateNode.containerInfo,Z=Jm(t);Wm(t,Z,U);break;default:throw Error(o(161))}}catch(ce){Ge(t,t.return,ce)}t.flags&=-3}l&4096&&(t.flags&=-4097)}function p1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var l=t;p1(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),t=t.sibling}}function fn(t,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)c1(t,l.alternate,l),l=l.sibling}function wr(t){for(t=t.child;t!==null;){var l=t;switch(l.tag){case 0:case 11:case 14:case 15:Un(4,l,l.return),wr(l);break;case 1:$a(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&r1(l,l.return,c),wr(l);break;case 27:Xo(l.stateNode);case 26:case 5:$a(l,l.return),wr(l);break;case 22:l.memoizedState===null&&wr(l);break;case 30:wr(l);break;default:wr(l)}t=t.sibling}}function hn(t,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var u=l.alternate,h=t,g=l,x=g.flags;switch(g.tag){case 0:case 11:case 15:hn(h,g,c),Do(4,g);break;case 1:if(hn(h,g,c),u=g,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Z){Ge(u,u.return,Z)}if(u=g,h=u.updateQueue,h!==null){var N=u.stateNode;try{var U=h.shared.hiddenCallbacks;if(U!==null)for(h.shared.hiddenCallbacks=null,h=0;h<U.length;h++)Fj(U[h],N)}catch(Z){Ge(u,u.return,Z)}}c&&x&64&&n1(g),Lo(g,g.return);break;case 27:s1(g);case 26:case 5:hn(h,g,c),c&&u===null&&x&4&&l1(g),Lo(g,g.return);break;case 12:hn(h,g,c);break;case 31:hn(h,g,c),c&&x&4&&f1(h,g);break;case 13:hn(h,g,c),c&&x&4&&h1(h,g);break;case 22:g.memoizedState===null&&hn(h,g,c),Lo(g,g.return);break;case 30:break;default:hn(h,g,c)}l=l.sibling}}function Zm(t,l){var c=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(c=t.memoizedState.cachePool.pool),t=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(t=l.memoizedState.cachePool.pool),t!==c&&(t!=null&&t.refCount++,c!=null&&No(c))}function ep(t,l){t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&No(t))}function La(t,l,c,u){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)g1(t,l,c,u),l=l.sibling}function g1(t,l,c,u){var h=l.flags;switch(l.tag){case 0:case 11:case 15:La(t,l,c,u),h&2048&&Do(9,l);break;case 1:La(t,l,c,u);break;case 3:La(t,l,c,u),h&2048&&(t=null,l.alternate!==null&&(t=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==t&&(l.refCount++,t!=null&&No(t)));break;case 12:if(h&2048){La(t,l,c,u),t=l.stateNode;try{var g=l.memoizedProps,x=g.id,N=g.onPostCommit;typeof N=="function"&&N(x,l.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(U){Ge(l,l.return,U)}}else La(t,l,c,u);break;case 31:La(t,l,c,u);break;case 13:La(t,l,c,u);break;case 23:break;case 22:g=l.stateNode,x=l.alternate,l.memoizedState!==null?g._visibility&2?La(t,l,c,u):Uo(t,l):g._visibility&2?La(t,l,c,u):(g._visibility|=2,yl(t,l,c,u,(l.subtreeFlags&10256)!==0||!1)),h&2048&&Zm(x,l);break;case 24:La(t,l,c,u),h&2048&&ep(l.alternate,l);break;default:La(t,l,c,u)}}function yl(t,l,c,u,h){for(h=h&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var g=t,x=l,N=c,U=u,Z=x.flags;switch(x.tag){case 0:case 11:case 15:yl(g,x,N,U,h),Do(8,x);break;case 23:break;case 22:var ce=x.stateNode;x.memoizedState!==null?ce._visibility&2?yl(g,x,N,U,h):Uo(g,x):(ce._visibility|=2,yl(g,x,N,U,h)),h&&Z&2048&&Zm(x.alternate,x);break;case 24:yl(g,x,N,U,h),h&&Z&2048&&ep(x.alternate,x);break;default:yl(g,x,N,U,h)}l=l.sibling}}function Uo(t,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=t,u=l,h=u.flags;switch(u.tag){case 22:Uo(c,u),h&2048&&Zm(u.alternate,u);break;case 24:Uo(c,u),h&2048&&ep(u.alternate,u);break;default:Uo(c,u)}l=l.sibling}}var Io=8192;function jl(t,l,c){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)v1(t,l,c),t=t.sibling}function v1(t,l,c){switch(t.tag){case 26:jl(t,l,c),t.flags&Io&&t.memoizedState!==null&&wz(c,Da,t.memoizedState,t.memoizedProps);break;case 5:jl(t,l,c);break;case 3:case 4:var u=Da;Da=ec(t.stateNode.containerInfo),jl(t,l,c),Da=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Io,Io=16777216,jl(t,l,c),Io=u):jl(t,l,c));break;default:jl(t,l,c)}}function b1(t){var l=t.alternate;if(l!==null&&(t=l.child,t!==null)){l.child=null;do l=t.sibling,t.sibling=null,t=l;while(t!==null)}}function qo(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var u=l[c];Ot=u,y1(u,t)}b1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x1(t),t=t.sibling}function x1(t){switch(t.tag){case 0:case 11:case 15:qo(t),t.flags&2048&&Un(9,t,t.return);break;case 3:qo(t);break;case 12:qo(t);break;case 22:var l=t.stateNode;t.memoizedState!==null&&l._visibility&2&&(t.return===null||t.return.tag!==13)?(l._visibility&=-3,Pi(t)):qo(t);break;default:qo(t)}}function Pi(t){var l=t.deletions;if((t.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var u=l[c];Ot=u,y1(u,t)}b1(t)}for(t=t.child;t!==null;){switch(l=t,l.tag){case 0:case 11:case 15:Un(8,l,l.return),Pi(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Pi(l));break;default:Pi(l)}t=t.sibling}}function y1(t,l){for(;Ot!==null;){var c=Ot;switch(c.tag){case 0:case 11:case 15:Un(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var u=c.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:No(c.memoizedState.cache)}if(u=c.child,u!==null)u.return=c,Ot=u;else e:for(c=t;Ot!==null;){u=Ot;var h=u.sibling,g=u.return;if(u1(u),u===c){Ot=null;break e}if(h!==null){h.return=g,Ot=h;break e}Ot=g}}}var qR={getCacheForType:function(t){var l=Dt(pt),c=l.data.get(t);return c===void 0&&(c=t(),l.data.set(t,c)),c},cacheSignal:function(){return Dt(pt).controller.signal}},BR=typeof WeakMap=="function"?WeakMap:Map,Ye=0,We=null,Le=null,Ie=0,Fe=0,ua=null,In=!1,Nl=!1,tp=!1,mn=0,ct=0,qn=0,Sr=0,ap=0,da=0,Cl=0,Bo=null,Wt=null,np=!1,Hi=0,j1=0,$i=1/0,Yi=null,Bn=null,wt=0,Pn=null,wl=null,pn=0,rp=0,lp=null,N1=null,Po=0,op=null;function fa(){return(Ye&2)!==0&&Ie!==0?Ie&-Ie:O.T!==null?fp():Iy()}function C1(){if(da===0)if((Ie&536870912)===0||Pe){var t=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),da=t}else da=536870912;return t=ia.current,t!==null&&(t.flags|=32),da}function Qt(t,l,c){(t===We&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Sl(t,0),Hn(t,Ie,da,!1)),so(t,c),((Ye&2)===0||t!==We)&&(t===We&&((Ye&2)===0&&(Sr|=c),ct===4&&Hn(t,Ie,da,!1)),Ya(t))}function w1(t,l,c){if((Ye&6)!==0)throw Error(o(327));var u=!c&&(l&127)===0&&(l&t.expiredLanes)===0||oo(t,l),h=u?$R(t,l):ip(t,l,!0),g=u;do{if(h===0){Nl&&!u&&Hn(t,l,0,!1);break}else{if(c=t.current.alternate,g&&!PR(c)){h=ip(t,l,!1),g=!1;continue}if(h===2){if(g=l,t.errorRecoveryDisabledLanes&g)var x=0;else x=t.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){l=x;e:{var N=t;h=Bo;var U=N.current.memoizedState.isDehydrated;if(U&&(Sl(N,x).flags|=256),x=ip(N,x,!1),x!==2){if(tp&&!U){N.errorRecoveryDisabledLanes|=g,Sr|=g,h=4;break e}g=Wt,Wt=h,g!==null&&(Wt===null?Wt=g:Wt.push.apply(Wt,g))}h=x}if(g=!1,h!==2)continue}}if(h===1){Sl(t,0),Hn(t,l,0,!0);break}e:{switch(u=t,g=h,g){case 0:case 1:throw Error(o(345));case 4:if((l&4194048)!==l)break;case 6:Hn(u,l,da,!In);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((l&62914560)===l&&(h=Hi+300-mt(),10<h)){if(Hn(u,l,da,!In),ei(u,0,!0)!==0)break e;pn=l,u.timeoutHandle=tC(S1.bind(null,u,c,Wt,Yi,np,l,da,Sr,Cl,In,g,"Throttled",-0,0),h);break e}S1(u,c,Wt,Yi,np,l,da,Sr,Cl,In,g,null,-0,0)}}break}while(!0);Ya(t)}function S1(t,l,c,u,h,g,x,N,U,Z,ce,fe,ee,oe){if(t.timeoutHandle=-1,fe=l.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Za},v1(l,g,fe);var je=(g&62914560)===g?Hi-mt():(g&4194048)===g?j1-mt():0;if(je=Sz(fe,je),je!==null){pn=g,t.cancelPendingCommit=je(z1.bind(null,t,l,g,c,u,h,x,N,U,ce,fe,null,ee,oe)),Hn(t,g,x,!Z);return}}z1(t,l,g,c,u,h,x,N,U)}function PR(t){for(var l=t;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var u=0;u<c.length;u++){var h=c[u],g=h.getSnapshot;h=h.value;try{if(!oa(g(),h))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===t)break;for(;l.sibling===null;){if(l.return===null||l.return===t)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Hn(t,l,c,u){l&=~ap,l&=~Sr,t.suspendedLanes|=l,t.pingedLanes&=~l,u&&(t.warmLanes|=l),u=t.expirationTimes;for(var h=l;0<h;){var g=31-Et(h),x=1<<g;u[g]=-1,h&=~x}c!==0&&Dy(t,c,l)}function Xi(){return(Ye&6)===0?(Ho(0),!1):!0}function sp(){if(Le!==null){if(Fe===0)var t=Le.return;else t=Le,nn=gr=null,Cm(t),pl=null,wo=0,t=Le;for(;t!==null;)a1(t.alternate,t),t=t.return;Le=null}}function Sl(t,l){var c=t.timeoutHandle;c!==-1&&(t.timeoutHandle=-1,sz(c)),c=t.cancelPendingCommit,c!==null&&(t.cancelPendingCommit=null,c()),pn=0,sp(),We=t,Le=c=tn(t.current,null),Ie=l,Fe=0,ua=null,In=!1,Nl=oo(t,l),tp=!1,Cl=da=ap=Sr=qn=ct=0,Wt=Bo=null,np=!1,(l&8)!==0&&(l|=l&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=l;0<u;){var h=31-Et(u),g=1<<h;l|=t[h],u&=~g}return mn=l,fi(),c}function _1(t,l){Re=null,O.H=Ro,l===ml||l===yi?(l=Hj(),Fe=3):l===dm?(l=Hj(),Fe=4):Fe=l===qm?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ua=l,Le===null&&(ct=1,Mi(t,ya(l,t.current)))}function T1(){var t=ia.current;return t===null?!0:(Ie&4194048)===Ie?wa===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?t===wa:!1}function E1(){var t=O.H;return O.H=Ro,t===null?Ro:t}function k1(){var t=O.A;return O.A=qR,t}function Fi(){ct=4,In||(Ie&4194048)!==Ie&&ia.current!==null||(Nl=!0),(qn&134217727)===0&&(Sr&134217727)===0||We===null||Hn(We,Ie,da,!1)}function ip(t,l,c){var u=Ye;Ye|=2;var h=E1(),g=k1();(We!==t||Ie!==l)&&(Yi=null,Sl(t,l)),l=!1;var x=ct;e:do try{if(Fe!==0&&Le!==null){var N=Le,U=ua;switch(Fe){case 8:sp(),x=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(l=!0);var Z=Fe;if(Fe=0,ua=null,_l(t,N,U,Z),c&&Nl){x=0;break e}break;default:Z=Fe,Fe=0,ua=null,_l(t,N,U,Z)}}HR(),x=ct;break}catch(ce){_1(t,ce)}while(!0);return l&&t.shellSuspendCounter++,nn=gr=null,Ye=u,O.H=h,O.A=g,Le===null&&(We=null,Ie=0,fi()),x}function HR(){for(;Le!==null;)O1(Le)}function $R(t,l){var c=Ye;Ye|=2;var u=E1(),h=k1();We!==t||Ie!==l?(Yi=null,$i=mt()+500,Sl(t,l)):Nl=oo(t,l);e:do try{if(Fe!==0&&Le!==null){l=Le;var g=ua;t:switch(Fe){case 1:Fe=0,ua=null,_l(t,l,g,1);break;case 2:case 9:if(Bj(g)){Fe=0,ua=null,A1(l);break}l=function(){Fe!==2&&Fe!==9||We!==t||(Fe=7),Ya(t)},g.then(l,l);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Bj(g)?(Fe=0,ua=null,A1(l)):(Fe=0,ua=null,_l(t,l,g,7));break;case 5:var x=null;switch(Le.tag){case 26:x=Le.memoizedState;case 5:case 27:var N=Le;if(x?gC(x):N.stateNode.complete){Fe=0,ua=null;var U=N.sibling;if(U!==null)Le=U;else{var Z=N.return;Z!==null?(Le=Z,Gi(Z)):Le=null}break t}}Fe=0,ua=null,_l(t,l,g,5);break;case 6:Fe=0,ua=null,_l(t,l,g,6);break;case 8:sp(),ct=6;break e;default:throw Error(o(462))}}YR();break}catch(ce){_1(t,ce)}while(!0);return nn=gr=null,O.H=u,O.A=h,Ye=c,Le!==null?0:(We=null,Ie=0,fi(),ct)}function YR(){for(;Le!==null&&!pa();)O1(Le)}function O1(t){var l=e1(t.alternate,t,mn);t.memoizedProps=t.pendingProps,l===null?Gi(t):Le=l}function A1(t){var l=t,c=l.alternate;switch(l.tag){case 15:case 0:l=VN(c,l,l.pendingProps,l.type,void 0,Ie);break;case 11:l=VN(c,l,l.pendingProps,l.type.render,l.ref,Ie);break;case 5:Cm(l);default:a1(c,l),l=Le=kj(l,mn),l=e1(c,l,mn)}t.memoizedProps=t.pendingProps,l===null?Gi(t):Le=l}function _l(t,l,c,u){nn=gr=null,Cm(l),pl=null,wo=0;var h=l.return;try{if(RR(t,h,l,c,Ie)){ct=1,Mi(t,ya(c,t.current)),Le=null;return}}catch(g){if(h!==null)throw Le=h,g;ct=1,Mi(t,ya(c,t.current)),Le=null;return}l.flags&32768?(Pe||u===1?t=!0:Nl||(Ie&536870912)!==0?t=!1:(In=t=!0,(u===2||u===9||u===3||u===6)&&(u=ia.current,u!==null&&u.tag===13&&(u.flags|=16384))),R1(l,t)):Gi(l)}function Gi(t){var l=t;do{if((l.flags&32768)!==0){R1(l,In);return}t=l.return;var c=DR(l.alternate,l,mn);if(c!==null){Le=c;return}if(l=l.sibling,l!==null){Le=l;return}Le=l=t}while(l!==null);ct===0&&(ct=5)}function R1(t,l){do{var c=LR(t.alternate,t);if(c!==null){c.flags&=32767,Le=c;return}if(c=t.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(t=t.sibling,t!==null)){Le=t;return}Le=t=c}while(t!==null);ct=6,Le=null}function z1(t,l,c,u,h,g,x,N,U){t.cancelPendingCommit=null;do Vi();while(wt!==0);if((Ye&6)!==0)throw Error(o(327));if(l!==null){if(l===t.current)throw Error(o(177));if(g=l.lanes|l.childLanes,g|=Jh,CA(t,c,g,x,N,U),t===We&&(Le=We=null,Ie=0),wl=l,Pn=t,pn=c,rp=g,lp=h,N1=u,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,VR(Rt,function(){return I1(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||u){u=O.T,O.T=null,h=J.p,J.p=2,x=Ye,Ye|=4;try{UR(t,l,c)}finally{Ye=x,J.p=h,O.T=u}}wt=1,M1(),D1(),L1()}}function M1(){if(wt===1){wt=0;var t=Pn,l=wl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=O.T,O.T=null;var u=J.p;J.p=2;var h=Ye;Ye|=4;try{m1(l,t);var g=yp,x=yj(t.containerInfo),N=g.focusedElem,U=g.selectionRange;if(x!==N&&N&&N.ownerDocument&&xj(N.ownerDocument.documentElement,N)){if(U!==null&&Xh(N)){var Z=U.start,ce=U.end;if(ce===void 0&&(ce=Z),"selectionStart"in N)N.selectionStart=Z,N.selectionEnd=Math.min(ce,N.value.length);else{var fe=N.ownerDocument||document,ee=fe&&fe.defaultView||window;if(ee.getSelection){var oe=ee.getSelection(),je=N.textContent.length,Ee=Math.min(U.start,je),Je=U.end===void 0?Ee:Math.min(U.end,je);!oe.extend&&Ee>Je&&(x=Je,Je=Ee,Ee=x);var K=bj(N,Ee),B=bj(N,Je);if(K&&B&&(oe.rangeCount!==1||oe.anchorNode!==K.node||oe.anchorOffset!==K.offset||oe.focusNode!==B.node||oe.focusOffset!==B.offset)){var Q=fe.createRange();Q.setStart(K.node,K.offset),oe.removeAllRanges(),Ee>Je?(oe.addRange(Q),oe.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),oe.addRange(Q))}}}}for(fe=[],oe=N;oe=oe.parentNode;)oe.nodeType===1&&fe.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<fe.length;N++){var ue=fe[N];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}oc=!!xp,yp=xp=null}finally{Ye=h,J.p=u,O.T=c}}t.current=l,wt=2}}function D1(){if(wt===2){wt=0;var t=Pn,l=wl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=O.T,O.T=null;var u=J.p;J.p=2;var h=Ye;Ye|=4;try{c1(t,l.alternate,l)}finally{Ye=h,J.p=u,O.T=c}}wt=3}}function L1(){if(wt===4||wt===3){wt=0,_t();var t=Pn,l=wl,c=pn,u=N1;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?wt=5:(wt=0,wl=Pn=null,U1(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bn=null),_h(c),l=l.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ct,l,void 0,(l.current.flags&128)===128)}catch{}if(u!==null){l=O.T,h=J.p,J.p=2,O.T=null;try{for(var g=t.onRecoverableError,x=0;x<u.length;x++){var N=u[x];g(N.value,{componentStack:N.stack})}}finally{O.T=l,J.p=h}}(pn&3)!==0&&Vi(),Ya(t),h=t.pendingLanes,(c&261930)!==0&&(h&42)!==0?t===op?Po++:(Po=0,op=t):Po=0,Ho(0)}}function U1(t,l){(t.pooledCacheLanes&=l)===0&&(l=t.pooledCache,l!=null&&(t.pooledCache=null,No(l)))}function Vi(){return M1(),D1(),L1(),I1()}function I1(){if(wt!==5)return!1;var t=Pn,l=rp;rp=0;var c=_h(pn),u=O.T,h=J.p;try{J.p=32>c?32:c,O.T=null,c=lp,lp=null;var g=Pn,x=pn;if(wt=0,wl=Pn=null,pn=0,(Ye&6)!==0)throw Error(o(331));var N=Ye;if(Ye|=4,x1(g.current),g1(g,g.current,x,c),Ye=N,Ho(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ct,g)}catch{}return!0}finally{J.p=h,O.T=u,U1(t,l)}}function q1(t,l,c){l=ya(c,l),l=Im(t.stateNode,l,2),t=Mn(t,l,2),t!==null&&(so(t,2),Ya(t))}function Ge(t,l,c){if(t.tag===3)q1(t,t,c);else for(;l!==null;){if(l.tag===3){q1(l,t,c);break}else if(l.tag===1){var u=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bn===null||!Bn.has(u))){t=ya(c,t),c=BN(2),u=Mn(l,c,2),u!==null&&(PN(c,u,l,t),so(u,2),Ya(u));break}}l=l.return}}function cp(t,l,c){var u=t.pingCache;if(u===null){u=t.pingCache=new BR;var h=new Set;u.set(l,h)}else h=u.get(l),h===void 0&&(h=new Set,u.set(l,h));h.has(c)||(tp=!0,h.add(c),t=XR.bind(null,t,l,c),l.then(t,t))}function XR(t,l,c){var u=t.pingCache;u!==null&&u.delete(l),t.pingedLanes|=t.suspendedLanes&c,t.warmLanes&=~c,We===t&&(Ie&c)===c&&(ct===4||ct===3&&(Ie&62914560)===Ie&&300>mt()-Hi?(Ye&2)===0&&Sl(t,0):ap|=c,Cl===Ie&&(Cl=0)),Ya(t)}function B1(t,l){l===0&&(l=My()),t=hr(t,l),t!==null&&(so(t,l),Ya(t))}function FR(t){var l=t.memoizedState,c=0;l!==null&&(c=l.retryLane),B1(t,c)}function GR(t,l){var c=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(c=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(l),B1(t,c)}function VR(t,l){return Nt(t,l)}var Ki=null,Tl=null,up=!1,Ji=!1,dp=!1,$n=0;function Ya(t){t!==Tl&&t.next===null&&(Tl===null?Ki=Tl=t:Tl=Tl.next=t),Ji=!0,up||(up=!0,JR())}function Ho(t,l){if(!dp&&Ji){dp=!0;do for(var c=!1,u=Ki;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var g=0;else{var x=u.suspendedLanes,N=u.pingedLanes;g=(1<<31-Et(42|t)+1)-1,g&=h&~(x&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(c=!0,Y1(u,g))}else g=Ie,g=ei(u,u===We?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||oo(u,g)||(c=!0,Y1(u,g));u=u.next}while(c);dp=!1}}function KR(){P1()}function P1(){Ji=up=!1;var t=0;$n!==0&&oz()&&(t=$n);for(var l=mt(),c=null,u=Ki;u!==null;){var h=u.next,g=H1(u,l);g===0?(u.next=null,c===null?Ki=h:c.next=h,h===null&&(Tl=c)):(c=u,(t!==0||(g&3)!==0)&&(Ji=!0)),u=h}wt!==0&&wt!==5||Ho(t),$n!==0&&($n=0)}function H1(t,l){for(var c=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var x=31-Et(g),N=1<<x,U=h[x];U===-1?((N&c)===0||(N&u)!==0)&&(h[x]=NA(N,l)):U<=l&&(t.expiredLanes|=N),g&=~N}if(l=We,c=Ie,c=ei(t,t===l?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,c===0||t===l&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&la(u),t.callbackNode=null,t.callbackPriority=0;if((c&3)===0||oo(t,c)){if(l=c&-c,l===t.callbackPriority)return l;switch(u!==null&&la(u),_h(c)){case 2:case 8:c=Tt;break;case 32:c=Rt;break;case 268435456:c=za;break;default:c=Rt}return u=$1.bind(null,t),c=Nt(c,u),t.callbackPriority=l,t.callbackNode=c,l}return u!==null&&u!==null&&la(u),t.callbackPriority=2,t.callbackNode=null,2}function $1(t,l){if(wt!==0&&wt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var c=t.callbackNode;if(Vi()&&t.callbackNode!==c)return null;var u=Ie;return u=ei(t,t===We?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(w1(t,u,l),H1(t,mt()),t.callbackNode!=null&&t.callbackNode===c?$1.bind(null,t):null)}function Y1(t,l){if(Vi())return null;w1(t,l,!0)}function JR(){iz(function(){(Ye&6)!==0?Nt(Gr,KR):P1()})}function fp(){if($n===0){var t=fl;t===0&&(t=Ws,Ws<<=1,(Ws&261888)===0&&(Ws=256)),$n=t}return $n}function X1(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function F1(t,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,t.id&&c.setAttribute("form",t.id),l.parentNode.insertBefore(c,l),t=new FormData(t),c.parentNode.removeChild(c),t}function WR(t,l,c,u,h){if(l==="submit"&&c&&c.stateNode===h){var g=X1((h[Ft]||null).action),x=u.submitter;x&&(l=(l=x[Ft]||null)?X1(l.formAction):x.getAttribute("formAction"),l!==null&&(g=l,x=null));var N=new ii("action","action",null,u,h);t.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if($n!==0){var U=x?F1(h,x):new FormData(h);Rm(c,{pending:!0,data:U,method:h.method,action:g},null,U)}}else typeof g=="function"&&(N.preventDefault(),U=x?F1(h,x):new FormData(h),Rm(c,{pending:!0,data:U,method:h.method,action:g},g,U))},currentTarget:h}]})}}for(var hp=0;hp<Kh.length;hp++){var mp=Kh[hp],QR=mp.toLowerCase(),ZR=mp[0].toUpperCase()+mp.slice(1);Ma(QR,"on"+ZR)}Ma(Cj,"onAnimationEnd"),Ma(wj,"onAnimationIteration"),Ma(Sj,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(pR,"onTransitionRun"),Ma(gR,"onTransitionStart"),Ma(vR,"onTransitionCancel"),Ma(_j,"onTransitionEnd"),Qr("onMouseEnter",["mouseout","mouseover"]),Qr("onMouseLeave",["mouseout","mouseover"]),Qr("onPointerEnter",["pointerout","pointerover"]),Qr("onPointerLeave",["pointerout","pointerover"]),cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cr("onBeforeInput",["compositionend","keypress","textInput","paste"]),cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ez=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function G1(t,l){l=(l&4)!==0;for(var c=0;c<t.length;c++){var u=t[c],h=u.event;u=u.listeners;e:{var g=void 0;if(l)for(var x=u.length-1;0<=x;x--){var N=u[x],U=N.instance,Z=N.currentTarget;if(N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=Z;try{g(h)}catch(ce){di(ce)}h.currentTarget=null,g=U}else for(x=0;x<u.length;x++){if(N=u[x],U=N.instance,Z=N.currentTarget,N=N.listener,U!==g&&h.isPropagationStopped())break e;g=N,h.currentTarget=Z;try{g(h)}catch(ce){di(ce)}h.currentTarget=null,g=U}}}}function Ue(t,l){var c=l[Th];c===void 0&&(c=l[Th]=new Set);var u=t+"__bubble";c.has(u)||(V1(l,t,2,!1),c.add(u))}function pp(t,l,c){var u=0;l&&(u|=4),V1(c,t,u,l)}var Wi="_reactListening"+Math.random().toString(36).slice(2);function gp(t){if(!t[Wi]){t[Wi]=!0,Py.forEach(function(c){c!=="selectionchange"&&(ez.has(c)||pp(c,!1,t),pp(c,!0,t))});var l=t.nodeType===9?t:t.ownerDocument;l===null||l[Wi]||(l[Wi]=!0,pp("selectionchange",!1,l))}}function V1(t,l,c,u){switch(CC(l)){case 2:var h=Ez;break;case 8:h=kz;break;default:h=Ap}c=h.bind(null,l,c,t),h=void 0,!Lh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(l,c,{capture:!0,passive:h}):t.addEventListener(l,c,!0):h!==void 0?t.addEventListener(l,c,{passive:h}):t.addEventListener(l,c,!1)}function vp(t,l,c,u,h){var g=u;if((l&1)===0&&(l&2)===0&&u!==null)e:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var N=u.stateNode.containerInfo;if(N===h)break;if(x===4)for(x=u.return;x!==null;){var U=x.tag;if((U===3||U===4)&&x.stateNode.containerInfo===h)return;x=x.return}for(;N!==null;){if(x=Kr(N),x===null)return;if(U=x.tag,U===5||U===6||U===26||U===27){u=g=x;continue e}N=N.parentNode}}u=u.return}Zy(function(){var Z=g,ce=Mh(c),fe=[];e:{var ee=Tj.get(t);if(ee!==void 0){var oe=ii,je=t;switch(t){case"keypress":if(oi(c)===0)break e;case"keydown":case"keyup":oe=GA;break;case"focusin":je="focus",oe=Bh;break;case"focusout":je="blur",oe=Bh;break;case"beforeblur":case"afterblur":oe=Bh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=aj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=DA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=JA;break;case Cj:case wj:case Sj:oe=IA;break;case _j:oe=QA;break;case"scroll":case"scrollend":oe=zA;break;case"wheel":oe=eR;break;case"copy":case"cut":case"paste":oe=BA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=rj;break;case"toggle":case"beforetoggle":oe=aR}var Ee=(l&4)!==0,Je=!Ee&&(t==="scroll"||t==="scrollend"),K=Ee?ee!==null?ee+"Capture":null:ee;Ee=[];for(var B=Z,Q;B!==null;){var ue=B;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||K===null||(ue=uo(B,K),ue!=null&&Ee.push(Yo(B,ue,Q))),Je)break;B=B.return}0<Ee.length&&(ee=new oe(ee,je,null,c,ce),fe.push({event:ee,listeners:Ee}))}}if((l&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",ee&&c!==zh&&(je=c.relatedTarget||c.fromElement)&&(Kr(je)||je[Vr]))break e;if((oe||ee)&&(ee=ce.window===ce?ce:(ee=ce.ownerDocument)?ee.defaultView||ee.parentWindow:window,oe?(je=c.relatedTarget||c.toElement,oe=Z,je=je?Kr(je):null,je!==null&&(Je=i(je),Ee=je.tag,je!==Je||Ee!==5&&Ee!==27&&Ee!==6)&&(je=null)):(oe=null,je=Z),oe!==je)){if(Ee=aj,ue="onMouseLeave",K="onMouseEnter",B="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=rj,ue="onPointerLeave",K="onPointerEnter",B="pointer"),Je=oe==null?ee:co(oe),Q=je==null?ee:co(je),ee=new Ee(ue,B+"leave",oe,c,ce),ee.target=Je,ee.relatedTarget=Q,ue=null,Kr(ce)===Z&&(Ee=new Ee(K,B+"enter",je,c,ce),Ee.target=Q,Ee.relatedTarget=Je,ue=Ee),Je=ue,oe&&je)t:{for(Ee=tz,K=oe,B=je,Q=0,ue=K;ue;ue=Ee(ue))Q++;ue=0;for(var Se=B;Se;Se=Ee(Se))ue++;for(;0<Q-ue;)K=Ee(K),Q--;for(;0<ue-Q;)B=Ee(B),ue--;for(;Q--;){if(K===B||B!==null&&K===B.alternate){Ee=K;break t}K=Ee(K),B=Ee(B)}Ee=null}else Ee=null;oe!==null&&K1(fe,ee,oe,Ee,!1),je!==null&&Je!==null&&K1(fe,Je,je,Ee,!0)}}e:{if(ee=Z?co(Z):window,oe=ee.nodeName&&ee.nodeName.toLowerCase(),oe==="select"||oe==="input"&&ee.type==="file")var He=fj;else if(uj(ee))if(hj)He=fR;else{He=uR;var we=cR}else oe=ee.nodeName,!oe||oe.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&Rh(Z.elementType)&&(He=fj):He=dR;if(He&&(He=He(t,Z))){dj(fe,He,c,ce);break e}we&&we(t,ee,Z),t==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Ah(ee,"number",ee.value)}switch(we=Z?co(Z):window,t){case"focusin":(uj(we)||we.contentEditable==="true")&&(rl=we,Fh=Z,xo=null);break;case"focusout":xo=Fh=rl=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,jj(fe,c,ce);break;case"selectionchange":if(mR)break;case"keydown":case"keyup":jj(fe,c,ce)}var ze;if(Hh)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else nl?ij(t,c)&&(qe="onCompositionEnd"):t==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(lj&&c.locale!=="ko"&&(nl||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&nl&&(ze=ej()):(Tn=ce,Uh="value"in Tn?Tn.value:Tn.textContent,nl=!0)),we=Qi(Z,qe),0<we.length&&(qe=new nj(qe,t,null,c,ce),fe.push({event:qe,listeners:we}),ze?qe.data=ze:(ze=cj(c),ze!==null&&(qe.data=ze)))),(ze=rR?lR(t,c):oR(t,c))&&(qe=Qi(Z,"onBeforeInput"),0<qe.length&&(we=new nj("onBeforeInput","beforeinput",null,c,ce),fe.push({event:we,listeners:qe}),we.data=ze)),WR(fe,t,Z,c,ce)}G1(fe,l)})}function Yo(t,l,c){return{instance:t,listener:l,currentTarget:c}}function Qi(t,l){for(var c=l+"Capture",u=[];t!==null;){var h=t,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=uo(t,c),h!=null&&u.unshift(Yo(t,h,g)),h=uo(t,l),h!=null&&u.push(Yo(t,h,g))),t.tag===3)return u;t=t.return}return[]}function tz(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K1(t,l,c,u,h){for(var g=l._reactName,x=[];c!==null&&c!==u;){var N=c,U=N.alternate,Z=N.stateNode;if(N=N.tag,U!==null&&U===u)break;N!==5&&N!==26&&N!==27||Z===null||(U=Z,h?(Z=uo(c,g),Z!=null&&x.unshift(Yo(c,Z,U))):h||(Z=uo(c,g),Z!=null&&x.push(Yo(c,Z,U)))),c=c.return}x.length!==0&&t.push({event:l,listeners:x})}var az=/\r\n?/g,nz=/\u0000|\uFFFD/g;function J1(t){return(typeof t=="string"?t:""+t).replace(az,`
`).replace(nz,"")}function W1(t,l){return l=J1(l),J1(t)===l}function Ke(t,l,c,u,h,g){switch(c){case"children":typeof u=="string"?l==="body"||l==="textarea"&&u===""||el(t,u):(typeof u=="number"||typeof u=="bigint")&&l!=="body"&&el(t,""+u);break;case"className":ai(t,"class",u);break;case"tabIndex":ai(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,c,u);break;case"style":Wy(t,u,g);break;case"data":if(l!=="object"){ai(t,"data",u);break}case"src":case"href":if(u===""&&(l!=="a"||c!=="href")){t.removeAttribute(c);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(c);break}u=ri(""+u),t.setAttribute(c,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(c==="formAction"?(l!=="input"&&Ke(t,l,"name",h.name,h,null),Ke(t,l,"formEncType",h.formEncType,h,null),Ke(t,l,"formMethod",h.formMethod,h,null),Ke(t,l,"formTarget",h.formTarget,h,null)):(Ke(t,l,"encType",h.encType,h,null),Ke(t,l,"method",h.method,h,null),Ke(t,l,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(c);break}u=ri(""+u),t.setAttribute(c,u);break;case"onClick":u!=null&&(t.onclick=Za);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(c=u.__html,c!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=c}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}c=ri(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,""+u):t.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,""):t.removeAttribute(c);break;case"capture":case"download":u===!0?t.setAttribute(c,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(c,u):t.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(c,u):t.removeAttribute(c);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(c):t.setAttribute(c,u);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),ti(t,"popover",u);break;case"xlinkActuate":Qa(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Qa(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Qa(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Qa(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Qa(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Qa(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Qa(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ti(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=AA.get(c)||c,ti(t,c,u))}}function bp(t,l,c,u,h,g){switch(c){case"style":Wy(t,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(c=u.__html,c!=null){if(h.children!=null)throw Error(o(60));t.innerHTML=c}}break;case"children":typeof u=="string"?el(t,u):(typeof u=="number"||typeof u=="bigint")&&el(t,""+u);break;case"onScroll":u!=null&&Ue("scroll",t);break;case"onScrollEnd":u!=null&&Ue("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Za);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hy.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(h=c.endsWith("Capture"),l=c.slice(2,h?c.length-7:void 0),g=t[Ft]||null,g=g!=null?g[c]:null,typeof g=="function"&&t.removeEventListener(l,g,h),typeof u=="function")){typeof g!="function"&&g!==null&&(c in t?t[c]=null:t.hasAttribute(c)&&t.removeAttribute(c)),t.addEventListener(l,u,h);break e}c in t?t[c]=u:u===!0?t.setAttribute(c,""):ti(t,c,u)}}}function Ut(t,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var u=!1,h=!1,g;for(g in c)if(c.hasOwnProperty(g)){var x=c[g];if(x!=null)switch(g){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Ke(t,l,g,x,c,null)}}h&&Ke(t,l,"srcSet",c.srcSet,c,null),u&&Ke(t,l,"src",c.src,c,null);return;case"input":Ue("invalid",t);var N=g=x=h=null,U=null,Z=null;for(u in c)if(c.hasOwnProperty(u)){var ce=c[u];if(ce!=null)switch(u){case"name":h=ce;break;case"type":x=ce;break;case"checked":U=ce;break;case"defaultChecked":Z=ce;break;case"value":g=ce;break;case"defaultValue":N=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(o(137,l));break;default:Ke(t,l,u,ce,c,null)}}Gy(t,g,N,U,Z,x,h,!1);return;case"select":Ue("invalid",t),u=x=g=null;for(h in c)if(c.hasOwnProperty(h)&&(N=c[h],N!=null))switch(h){case"value":g=N;break;case"defaultValue":x=N;break;case"multiple":u=N;default:Ke(t,l,h,N,c,null)}l=g,c=x,t.multiple=!!u,l!=null?Zr(t,!!u,l,!1):c!=null&&Zr(t,!!u,c,!0);return;case"textarea":Ue("invalid",t),g=h=u=null;for(x in c)if(c.hasOwnProperty(x)&&(N=c[x],N!=null))switch(x){case"value":u=N;break;case"defaultValue":h=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Ke(t,l,x,N,c,null)}Ky(t,u,h,g);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(u=c[U],u!=null))switch(U){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(t,l,U,u,c,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(u=0;u<$o.length;u++)Ue($o[u],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(u=c[Z],u!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,l));default:Ke(t,l,Z,u,c,null)}return;default:if(Rh(l)){for(ce in c)c.hasOwnProperty(ce)&&(u=c[ce],u!==void 0&&bp(t,l,ce,u,c,void 0));return}}for(N in c)c.hasOwnProperty(N)&&(u=c[N],u!=null&&Ke(t,l,N,u,c,null))}function rz(t,l,c,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,x=null,N=null,U=null,Z=null,ce=null;for(oe in c){var fe=c[oe];if(c.hasOwnProperty(oe)&&fe!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":U=fe;default:u.hasOwnProperty(oe)||Ke(t,l,oe,null,u,fe)}}for(var ee in u){var oe=u[ee];if(fe=c[ee],u.hasOwnProperty(ee)&&(oe!=null||fe!=null))switch(ee){case"type":g=oe;break;case"name":h=oe;break;case"checked":Z=oe;break;case"defaultChecked":ce=oe;break;case"value":x=oe;break;case"defaultValue":N=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(o(137,l));break;default:oe!==fe&&Ke(t,l,ee,oe,u,fe)}}Oh(t,x,N,U,Z,ce,g,h);return;case"select":oe=x=N=ee=null;for(g in c)if(U=c[g],c.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":oe=U;default:u.hasOwnProperty(g)||Ke(t,l,g,null,u,U)}for(h in u)if(g=u[h],U=c[h],u.hasOwnProperty(h)&&(g!=null||U!=null))switch(h){case"value":ee=g;break;case"defaultValue":N=g;break;case"multiple":x=g;default:g!==U&&Ke(t,l,h,g,u,U)}l=N,c=x,u=oe,ee!=null?Zr(t,!!c,ee,!1):!!u!=!!c&&(l!=null?Zr(t,!!c,l,!0):Zr(t,!!c,c?[]:"",!1));return;case"textarea":oe=ee=null;for(N in c)if(h=c[N],c.hasOwnProperty(N)&&h!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Ke(t,l,N,null,u,h)}for(x in u)if(h=u[x],g=c[x],u.hasOwnProperty(x)&&(h!=null||g!=null))switch(x){case"value":ee=h;break;case"defaultValue":oe=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(o(91));break;default:h!==g&&Ke(t,l,x,h,u,g)}Vy(t,ee,oe);return;case"option":for(var je in c)if(ee=c[je],c.hasOwnProperty(je)&&ee!=null&&!u.hasOwnProperty(je))switch(je){case"selected":t.selected=!1;break;default:Ke(t,l,je,null,u,ee)}for(U in u)if(ee=u[U],oe=c[U],u.hasOwnProperty(U)&&ee!==oe&&(ee!=null||oe!=null))switch(U){case"selected":t.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Ke(t,l,U,ee,u,oe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in c)ee=c[Ee],c.hasOwnProperty(Ee)&&ee!=null&&!u.hasOwnProperty(Ee)&&Ke(t,l,Ee,null,u,ee);for(Z in u)if(ee=u[Z],oe=c[Z],u.hasOwnProperty(Z)&&ee!==oe&&(ee!=null||oe!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,l));break;default:Ke(t,l,Z,ee,u,oe)}return;default:if(Rh(l)){for(var Je in c)ee=c[Je],c.hasOwnProperty(Je)&&ee!==void 0&&!u.hasOwnProperty(Je)&&bp(t,l,Je,void 0,u,ee);for(ce in u)ee=u[ce],oe=c[ce],!u.hasOwnProperty(ce)||ee===oe||ee===void 0&&oe===void 0||bp(t,l,ce,ee,u,oe);return}}for(var K in c)ee=c[K],c.hasOwnProperty(K)&&ee!=null&&!u.hasOwnProperty(K)&&Ke(t,l,K,null,u,ee);for(fe in u)ee=u[fe],oe=c[fe],!u.hasOwnProperty(fe)||ee===oe||ee==null&&oe==null||Ke(t,l,fe,ee,u,oe)}function Q1(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lz(){if(typeof performance.getEntriesByType=="function"){for(var t=0,l=0,c=performance.getEntriesByType("resource"),u=0;u<c.length;u++){var h=c[u],g=h.transferSize,x=h.initiatorType,N=h.duration;if(g&&N&&Q1(x)){for(x=0,N=h.responseEnd,u+=1;u<c.length;u++){var U=c[u],Z=U.startTime;if(Z>N)break;var ce=U.transferSize,fe=U.initiatorType;ce&&Q1(fe)&&(U=U.responseEnd,x+=ce*(U<N?1:(N-Z)/(U-Z)))}if(--u,l+=8*(g+x)/(h.duration/1e3),t++,10<t)break}}if(0<t)return l/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xp=null,yp=null;function Zi(t){return t.nodeType===9?t:t.ownerDocument}function Z1(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eC(t,l){if(t===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&l==="foreignObject"?0:t}function jp(t,l){return t==="textarea"||t==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Np=null;function oz(){var t=window.event;return t&&t.type==="popstate"?t===Np?!1:(Np=t,!0):(Np=null,!1)}var tC=typeof setTimeout=="function"?setTimeout:void 0,sz=typeof clearTimeout=="function"?clearTimeout:void 0,aC=typeof Promise=="function"?Promise:void 0,iz=typeof queueMicrotask=="function"?queueMicrotask:typeof aC<"u"?function(t){return aC.resolve(null).then(t).catch(cz)}:tC;function cz(t){setTimeout(function(){throw t})}function Yn(t){return t==="head"}function nC(t,l){var c=l,u=0;do{var h=c.nextSibling;if(t.removeChild(c),h&&h.nodeType===8)if(c=h.data,c==="/$"||c==="/&"){if(u===0){t.removeChild(h),Al(l);return}u--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")u++;else if(c==="html")Xo(t.ownerDocument.documentElement);else if(c==="head"){c=t.ownerDocument.head,Xo(c);for(var g=c.firstChild;g;){var x=g.nextSibling,N=g.nodeName;g[io]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||c.removeChild(g),g=x}}else c==="body"&&Xo(t.ownerDocument.body);c=h}while(c);Al(l)}function rC(t,l){var c=t;t=0;do{var u=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),u&&u.nodeType===8)if(c=u.data,c==="/$"){if(t===0)break;t--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||t++;c=u}while(c)}function Cp(t){var l=t.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Cp(c),Eh(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}t.removeChild(c)}}function uz(t,l,c,u){for(;t.nodeType===1;){var h=c;if(t.nodeName.toLowerCase()!==l.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[io])switch(l){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(l==="input"&&t.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Sa(t.nextSibling),t===null)break}return null}function dz(t,l,c){if(l==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!c||(t=Sa(t.nextSibling),t===null))return null;return t}function lC(t,l){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!l||(t=Sa(t.nextSibling),t===null))return null;return t}function wp(t){return t.data==="$?"||t.data==="$~"}function Sp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fz(t,l){var c=t.ownerDocument;if(t.data==="$~")t._reactRetry=l;else if(t.data!=="$?"||c.readyState!=="loading")l();else{var u=function(){l(),c.removeEventListener("DOMContentLoaded",u)};c.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Sa(t){for(;t!=null;t=t.nextSibling){var l=t.nodeType;if(l===1||l===3)break;if(l===8){if(l=t.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return t}var _p=null;function oC(t){t=t.nextSibling;for(var l=0;t;){if(t.nodeType===8){var c=t.data;if(c==="/$"||c==="/&"){if(l===0)return Sa(t.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}t=t.nextSibling}return null}function sC(t){t=t.previousSibling;for(var l=0;t;){if(t.nodeType===8){var c=t.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return t;l--}else c!=="/$"&&c!=="/&"||l++}t=t.previousSibling}return null}function iC(t,l,c){switch(l=Zi(c),t){case"html":if(t=l.documentElement,!t)throw Error(o(452));return t;case"head":if(t=l.head,!t)throw Error(o(453));return t;case"body":if(t=l.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Xo(t){for(var l=t.attributes;l.length;)t.removeAttributeNode(l[0]);Eh(t)}var _a=new Map,cC=new Set;function ec(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gn=J.d;J.d={f:hz,r:mz,D:pz,C:gz,L:vz,m:bz,X:yz,S:xz,M:jz};function hz(){var t=gn.f(),l=Xi();return t||l}function mz(t){var l=Jr(t);l!==null&&l.tag===5&&l.type==="form"?_N(l):gn.r(t)}var El=typeof document>"u"?null:document;function uC(t,l,c){var u=El;if(u&&typeof l=="string"&&l){var h=ba(l);h='link[rel="'+t+'"][href="'+h+'"]',typeof c=="string"&&(h+='[crossorigin="'+c+'"]'),cC.has(h)||(cC.add(h),t={rel:t,crossOrigin:c,href:l},u.querySelector(h)===null&&(l=u.createElement("link"),Ut(l,"link",t),kt(l),u.head.appendChild(l)))}}function pz(t){gn.D(t),uC("dns-prefetch",t,null)}function gz(t,l){gn.C(t,l),uC("preconnect",t,l)}function vz(t,l,c){gn.L(t,l,c);var u=El;if(u&&t&&l){var h='link[rel="preload"][as="'+ba(l)+'"]';l==="image"&&c&&c.imageSrcSet?(h+='[imagesrcset="'+ba(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(h+='[imagesizes="'+ba(c.imageSizes)+'"]')):h+='[href="'+ba(t)+'"]';var g=h;switch(l){case"style":g=kl(t);break;case"script":g=Ol(t)}_a.has(g)||(t=b({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:t,as:l},c),_a.set(g,t),u.querySelector(h)!==null||l==="style"&&u.querySelector(Fo(g))||l==="script"&&u.querySelector(Go(g))||(l=u.createElement("link"),Ut(l,"link",t),kt(l),u.head.appendChild(l)))}}function bz(t,l){gn.m(t,l);var c=El;if(c&&t){var u=l&&typeof l.as=="string"?l.as:"script",h='link[rel="modulepreload"][as="'+ba(u)+'"][href="'+ba(t)+'"]',g=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ol(t)}if(!_a.has(g)&&(t=b({rel:"modulepreload",href:t},l),_a.set(g,t),c.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Go(g)))return}u=c.createElement("link"),Ut(u,"link",t),kt(u),c.head.appendChild(u)}}}function xz(t,l,c){gn.S(t,l,c);var u=El;if(u&&t){var h=Wr(u).hoistableStyles,g=kl(t);l=l||"default";var x=h.get(g);if(!x){var N={loading:0,preload:null};if(x=u.querySelector(Fo(g)))N.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":l},c),(c=_a.get(g))&&Tp(t,c);var U=x=u.createElement("link");kt(U),Ut(U,"link",t),U._p=new Promise(function(Z,ce){U.onload=Z,U.onerror=ce}),U.addEventListener("load",function(){N.loading|=1}),U.addEventListener("error",function(){N.loading|=2}),N.loading|=4,tc(x,l,u)}x={type:"stylesheet",instance:x,count:1,state:N},h.set(g,x)}}}function yz(t,l){gn.X(t,l);var c=El;if(c&&t){var u=Wr(c).hoistableScripts,h=Ol(t),g=u.get(h);g||(g=c.querySelector(Go(h)),g||(t=b({src:t,async:!0},l),(l=_a.get(h))&&Ep(t,l),g=c.createElement("script"),kt(g),Ut(g,"link",t),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function jz(t,l){gn.M(t,l);var c=El;if(c&&t){var u=Wr(c).hoistableScripts,h=Ol(t),g=u.get(h);g||(g=c.querySelector(Go(h)),g||(t=b({src:t,async:!0,type:"module"},l),(l=_a.get(h))&&Ep(t,l),g=c.createElement("script"),kt(g),Ut(g,"link",t),c.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(h,g))}}function dC(t,l,c,u){var h=(h=ie.current)?ec(h):null;if(!h)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=kl(c.href),c=Wr(h).hoistableStyles,u=c.get(l),u||(u={type:"style",instance:null,count:0,state:null},c.set(l,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){t=kl(c.href);var g=Wr(h).hoistableStyles,x=g.get(t);if(x||(h=h.ownerDocument||h,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,x),(g=h.querySelector(Fo(t)))&&!g._p&&(x.instance=g,x.state.loading=5),_a.has(t)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_a.set(t,c),g||Nz(h,t,c,x.state))),l&&u===null)throw Error(o(528,""));return x}if(l&&u!==null)throw Error(o(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Ol(c),c=Wr(h).hoistableScripts,u=c.get(l),u||(u={type:"script",instance:null,count:0,state:null},c.set(l,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function kl(t){return'href="'+ba(t)+'"'}function Fo(t){return'link[rel="stylesheet"]['+t+"]"}function fC(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Nz(t,l,c,u){t.querySelector('link[rel="preload"][as="style"]['+l+"]")?u.loading=1:(l=t.createElement("link"),u.preload=l,l.addEventListener("load",function(){return u.loading|=1}),l.addEventListener("error",function(){return u.loading|=2}),Ut(l,"link",c),kt(l),t.head.appendChild(l))}function Ol(t){return'[src="'+ba(t)+'"]'}function Go(t){return"script[async]"+t}function hC(t,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var u=t.querySelector('style[data-href~="'+ba(c.href)+'"]');if(u)return l.instance=u,kt(u),u;var h=b({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),kt(u),Ut(u,"style",h),tc(u,c.precedence,t),l.instance=u;case"stylesheet":h=kl(c.href);var g=t.querySelector(Fo(h));if(g)return l.state.loading|=4,l.instance=g,kt(g),g;u=fC(c),(h=_a.get(h))&&Tp(u,h),g=(t.ownerDocument||t).createElement("link"),kt(g);var x=g;return x._p=new Promise(function(N,U){x.onload=N,x.onerror=U}),Ut(g,"link",u),l.state.loading|=4,tc(g,c.precedence,t),l.instance=g;case"script":return g=Ol(c.src),(h=t.querySelector(Go(g)))?(l.instance=h,kt(h),h):(u=c,(h=_a.get(g))&&(u=b({},c),Ep(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),Ut(h,"link",u),t.head.appendChild(h),l.instance=h);case"void":return null;default:throw Error(o(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(u=l.instance,l.state.loading|=4,tc(u,c.precedence,t));return l.instance}function tc(t,l,c){for(var u=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,g=h,x=0;x<u.length;x++){var N=u[x];if(N.dataset.precedence===l)g=N;else if(g!==h)break}g?g.parentNode.insertBefore(t,g.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(t,l.firstChild))}function Tp(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.title==null&&(t.title=l.title)}function Ep(t,l){t.crossOrigin==null&&(t.crossOrigin=l.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=l.referrerPolicy),t.integrity==null&&(t.integrity=l.integrity)}var ac=null;function mC(t,l,c){if(ac===null){var u=new Map,h=ac=new Map;h.set(c,u)}else h=ac,u=h.get(c),u||(u=new Map,h.set(c,u));if(u.has(t))return u;for(u.set(t,null),c=c.getElementsByTagName(t),h=0;h<c.length;h++){var g=c[h];if(!(g[io]||g[zt]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var x=g.getAttribute(l)||"";x=t+x;var N=u.get(x);N?N.push(g):u.set(x,[g])}}return u}function pC(t,l,c){t=t.ownerDocument||t,t.head.insertBefore(c,l==="title"?t.querySelector("head > title"):null)}function Cz(t,l,c){if(c===1||l.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return t=l.disabled,typeof l.precedence=="string"&&t==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function gC(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function wz(t,l,c,u){if(c.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var h=kl(u.href),g=l.querySelector(Fo(h));if(g){l=g._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(t.count++,t=nc.bind(t),l.then(t,t)),c.state.loading|=4,c.instance=g,kt(g);return}g=l.ownerDocument||l,u=fC(u),(h=_a.get(h))&&Tp(u,h),g=g.createElement("link"),kt(g);var x=g;x._p=new Promise(function(N,U){x.onload=N,x.onerror=U}),Ut(g,"link",u),c.instance=g}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(t.count++,c=nc.bind(t),l.addEventListener("load",c),l.addEventListener("error",c))}}var kp=0;function Sz(t,l){return t.stylesheets&&t.count===0&&lc(t,t.stylesheets),0<t.count||0<t.imgCount?function(c){var u=setTimeout(function(){if(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend){var g=t.unsuspend;t.unsuspend=null,g()}},6e4+l);0<t.imgBytes&&kp===0&&(kp=62500*lz());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&lc(t,t.stylesheets),t.unsuspend)){var g=t.unsuspend;t.unsuspend=null,g()}},(t.imgBytes>kp?50:800)+l);return t.unsuspend=c,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function nc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)lc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rc=null;function lc(t,l){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rc=new Map,l.forEach(_z,t),rc=null,nc.call(t))}function _z(t,l){if(!(l.state.loading&4)){var c=rc.get(t);if(c)var u=c.get(null);else{c=new Map,rc.set(t,c);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var x=h[g];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(c.set(x.dataset.precedence,x),u=x)}u&&c.set(null,u)}h=l.instance,x=h.getAttribute("data-precedence"),g=c.get(x)||u,g===u&&c.set(null,h),c.set(x,h),this.count++,u=nc.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),g?g.parentNode.insertBefore(h,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),l.state.loading|=4}}var Vo={$$typeof:R,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Tz(t,l,c,u,h,g,x,N,U){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.hiddenUpdates=wh(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function vC(t,l,c,u,h,g,x,N,U,Z,ce,fe){return t=new Tz(t,l,c,x,U,Z,ce,fe,N),l=1,g===!0&&(l|=24),g=sa(3,null,null,l),t.current=g,g.stateNode=t,l=im(),l.refCount++,t.pooledCache=l,l.refCount++,g.memoizedState={element:u,isDehydrated:c,cache:l},fm(g),t}function bC(t){return t?(t=sl,t):sl}function xC(t,l,c,u,h,g){h=bC(h),u.context===null?u.context=h:u.pendingContext=h,u=zn(l),u.payload={element:c},g=g===void 0?null:g,g!==null&&(u.callback=g),c=Mn(t,u,l),c!==null&&(Qt(c,t,l),_o(c,t,l))}function yC(t,l){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var c=t.retryLane;t.retryLane=c!==0&&c<l?c:l}}function Op(t,l){yC(t,l),(t=t.alternate)&&yC(t,l)}function jC(t){if(t.tag===13||t.tag===31){var l=hr(t,67108864);l!==null&&Qt(l,t,67108864),Op(t,67108864)}}function NC(t){if(t.tag===13||t.tag===31){var l=fa();l=Sh(l);var c=hr(t,l);c!==null&&Qt(c,t,l),Op(t,l)}}var oc=!0;function Ez(t,l,c,u){var h=O.T;O.T=null;var g=J.p;try{J.p=2,Ap(t,l,c,u)}finally{J.p=g,O.T=h}}function kz(t,l,c,u){var h=O.T;O.T=null;var g=J.p;try{J.p=8,Ap(t,l,c,u)}finally{J.p=g,O.T=h}}function Ap(t,l,c,u){if(oc){var h=Rp(u);if(h===null)vp(t,l,u,sc,c),wC(t,u);else if(Az(h,t,l,c,u))u.stopPropagation();else if(wC(t,u),l&4&&-1<Oz.indexOf(t)){for(;h!==null;){var g=Jr(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var x=ir(g.pendingLanes);if(x!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;x;){var U=1<<31-Et(x);N.entanglements[1]|=U,x&=~U}Ya(g),(Ye&6)===0&&($i=mt()+500,Ho(0))}}break;case 31:case 13:N=hr(g,2),N!==null&&Qt(N,g,2),Xi(),Op(g,2)}if(g=Rp(u),g===null&&vp(t,l,u,sc,c),g===h)break;h=g}h!==null&&u.stopPropagation()}else vp(t,l,u,null,c)}}function Rp(t){return t=Mh(t),zp(t)}var sc=null;function zp(t){if(sc=null,t=Kr(t),t!==null){var l=i(t);if(l===null)t=null;else{var c=l.tag;if(c===13){if(t=d(l),t!==null)return t;t=null}else if(c===31){if(t=f(l),t!==null)return t;t=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;t=null}else l!==t&&(t=null)}}return sc=t,null}function CC(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wa()){case Gr:return 2;case Tt:return 8;case Rt:case Cn:return 32;case za:return 268435456;default:return 32}default:return 32}}var Mp=!1,Xn=null,Fn=null,Gn=null,Ko=new Map,Jo=new Map,Vn=[],Oz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wC(t,l){switch(t){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Gn=null;break;case"pointerover":case"pointerout":Ko.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(l.pointerId)}}function Wo(t,l,c,u,h,g){return t===null||t.nativeEvent!==g?(t={blockedOn:l,domEventName:c,eventSystemFlags:u,nativeEvent:g,targetContainers:[h]},l!==null&&(l=Jr(l),l!==null&&jC(l)),t):(t.eventSystemFlags|=u,l=t.targetContainers,h!==null&&l.indexOf(h)===-1&&l.push(h),t)}function Az(t,l,c,u,h){switch(l){case"focusin":return Xn=Wo(Xn,t,l,c,u,h),!0;case"dragenter":return Fn=Wo(Fn,t,l,c,u,h),!0;case"mouseover":return Gn=Wo(Gn,t,l,c,u,h),!0;case"pointerover":var g=h.pointerId;return Ko.set(g,Wo(Ko.get(g)||null,t,l,c,u,h)),!0;case"gotpointercapture":return g=h.pointerId,Jo.set(g,Wo(Jo.get(g)||null,t,l,c,u,h)),!0}return!1}function SC(t){var l=Kr(t.target);if(l!==null){var c=i(l);if(c!==null){if(l=c.tag,l===13){if(l=d(c),l!==null){t.blockedOn=l,qy(t.priority,function(){NC(c)});return}}else if(l===31){if(l=f(c),l!==null){t.blockedOn=l,qy(t.priority,function(){NC(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){t.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ic(t){if(t.blockedOn!==null)return!1;for(var l=t.targetContainers;0<l.length;){var c=Rp(t.nativeEvent);if(c===null){c=t.nativeEvent;var u=new c.constructor(c.type,c);zh=u,c.target.dispatchEvent(u),zh=null}else return l=Jr(c),l!==null&&jC(l),t.blockedOn=c,!1;l.shift()}return!0}function _C(t,l,c){ic(t)&&c.delete(l)}function Rz(){Mp=!1,Xn!==null&&ic(Xn)&&(Xn=null),Fn!==null&&ic(Fn)&&(Fn=null),Gn!==null&&ic(Gn)&&(Gn=null),Ko.forEach(_C),Jo.forEach(_C)}function cc(t,l){t.blockedOn===l&&(t.blockedOn=null,Mp||(Mp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Rz)))}var uc=null;function TC(t){uc!==t&&(uc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){uc===t&&(uc=null);for(var l=0;l<t.length;l+=3){var c=t[l],u=t[l+1],h=t[l+2];if(typeof u!="function"){if(zp(u||c)===null)continue;break}var g=Jr(c);g!==null&&(t.splice(l,3),l-=3,Rm(g,{pending:!0,data:h,method:c.method,action:u},u,h))}}))}function Al(t){function l(U){return cc(U,t)}Xn!==null&&cc(Xn,t),Fn!==null&&cc(Fn,t),Gn!==null&&cc(Gn,t),Ko.forEach(l),Jo.forEach(l);for(var c=0;c<Vn.length;c++){var u=Vn[c];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Vn.length&&(c=Vn[0],c.blockedOn===null);)SC(c),c.blockedOn===null&&Vn.shift();if(c=(t.ownerDocument||t).$$reactFormReplay,c!=null)for(u=0;u<c.length;u+=3){var h=c[u],g=c[u+1],x=h[Ft]||null;if(typeof g=="function")x||TC(c);else if(x){var N=null;if(g&&g.hasAttribute("formAction")){if(h=g,x=g[Ft]||null)N=x.formAction;else if(zp(h)!==null)continue}else N=x.action;typeof N=="function"?c[u+1]=N:(c.splice(u,3),u-=3),TC(c)}}}function EC(){function t(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(x){return h=x})},focusReset:"manual",scroll:"manual"})}function l(){h!==null&&(h(),h=null),u||setTimeout(c,20)}function c(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),h!==null&&(h(),h=null)}}}function Dp(t){this._internalRoot=t}dc.prototype.render=Dp.prototype.render=function(t){var l=this._internalRoot;if(l===null)throw Error(o(409));var c=l.current,u=fa();xC(c,u,t,l,null,null)},dc.prototype.unmount=Dp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var l=t.containerInfo;xC(t.current,2,null,t,null,null),Xi(),l[Vr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var l=Iy();t={blockedOn:null,target:t,priority:l};for(var c=0;c<Vn.length&&l!==0&&l<Vn[c].priority;c++);Vn.splice(c,0,t),c===0&&SC(t)}};var kC=e.version;if(kC!=="19.2.0")throw Error(o(527,kC,"19.2.0"));J.findDOMNode=function(t){var l=t._reactInternals;if(l===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=m(l),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var zz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ct=fc.inject(zz),et=fc}catch{}}return zl.createRoot=function(t,l){if(!s(t))throw Error(o(299));var c=!1,u="",h=LN,g=UN,x=IN;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(u=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(g=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError)),l=vC(t,1,!1,null,null,c,u,null,h,g,x,EC),t[Vr]=l.current,gp(t),new Dp(l)},zl.hydrateRoot=function(t,l,c){if(!s(t))throw Error(o(299));var u=!1,h="",g=LN,x=UN,N=IN,U=null;return c!=null&&(c.unstable_strictMode===!0&&(u=!0),c.identifierPrefix!==void 0&&(h=c.identifierPrefix),c.onUncaughtError!==void 0&&(g=c.onUncaughtError),c.onCaughtError!==void 0&&(x=c.onCaughtError),c.onRecoverableError!==void 0&&(N=c.onRecoverableError),c.formState!==void 0&&(U=c.formState)),l=vC(t,1,!0,l,c??null,u,h,U,g,x,N,EC),l.context=bC(null),c=l.current,u=fa(),u=Sh(u),h=zn(u),h.callback=null,Mn(c,h,u),c=u,l.current.lanes=c,so(l,c),Ya(l),t[Vr]=l.current,gp(t),new dc(l)},zl.version="19.2.0",zl}var Gp;function IC(){if(Gp)return gc.exports;Gp=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gc.exports=UC(),gc.exports}var qC=IC();function At(r){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+r+(n.length?" "+n.map((function(s){return"'"+s+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Jn(r){return!!r&&!!r[Xe]}function Ua(r){var e;return!!r&&((function(n){if(!n||typeof n!="object")return!1;var o=Object.getPrototypeOf(n);if(o===null)return!0;var s=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return s===Object||typeof s=="function"&&Function.toString.call(s)===VC})(r)||Array.isArray(r)||!!r[Ul]||!!(!((e=r.constructor)===null||e===void 0)&&e[Ul])||Zo(r)||es(r))}function Wn(r,e,n){n===void 0&&(n=!1),vn(r)===0?(n?Object.keys:Oc)(r).forEach((function(o){n&&typeof o=="symbol"||e(o,r[o],r)})):r.forEach((function(o,s){return e(s,o,r)}))}function vn(r){var e=r[Xe];return e?e.i>3?e.i-4:e.i:Array.isArray(r)?1:Zo(r)?2:es(r)?3:0}function Ml(r,e){return vn(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function Qo(r,e){return vn(r)===2?r.get(e):r[e]}function Vp(r,e,n){var o=vn(r);o===2?r.set(e,n):o===3?r.add(n):r[e]=n}function BC(r,e){return r===e?r!==0||1/r==1/e:r!=r&&e!=e}function Zo(r){return FC&&r instanceof Map}function es(r){return GC&&r instanceof Set}function St(r){return r.o||r.t}function yc(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var e=KC(r);delete e[Xe];for(var n=Oc(e),o=0;o<n.length;o++){var s=n[o],i=e[s];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[s]={configurable:!0,writable:!0,enumerable:i.enumerable,value:r[s]})}return Object.create(Object.getPrototypeOf(r),e)}function jc(r,e){return e===void 0&&(e=!1),Nc(r)||Jn(r)||!Ua(r)||(vn(r)>1&&(r.set=r.add=r.clear=r.delete=PC),Object.freeze(r),e&&Wn(r,(function(n,o){return jc(o,!0)}),!0)),r}function PC(){At(2)}function Nc(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function Ia(r){var e=Ac[r];return e||At(18,r),e}function Kp(r,e){Ac[r]||(Ac[r]=e)}function ts(){return Ll}function Cc(r,e){e&&(Ia("Patches"),r.u=[],r.s=[],r.v=e)}function as(r){wc(r),r.p.forEach(HC),r.p=null}function wc(r){r===Ll&&(Ll=r.l)}function Jp(r){return Ll={p:[],l:Ll,h:r,m:!0,_:0}}function HC(r){var e=r[Xe];e.i===0||e.i===1?e.j():e.g=!0}function Sc(r,e){e._=e.p.length;var n=e.p[0],o=r!==void 0&&r!==n;return e.h.O||Ia("ES5").S(e,r,o),o?(n[Xe].P&&(as(e),At(4)),Ua(r)&&(r=ns(e,r),e.l||rs(e,r)),e.u&&Ia("Patches").M(n[Xe].t,r,e.u,e.s)):r=ns(e,n,[]),as(e),e.u&&e.v(e.u,e.s),r!==kc?r:void 0}function ns(r,e,n){if(Nc(e))return e;var o=e[Xe];if(!o)return Wn(e,(function(f,p){return Wp(r,o,e,f,p,n)}),!0),e;if(o.A!==r)return e;if(!o.P)return rs(r,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var s=o.i===4||o.i===5?o.o=yc(o.k):o.o,i=s,d=!1;o.i===3&&(i=new Set(s),s.clear(),d=!0),Wn(i,(function(f,p){return Wp(r,o,s,f,p,n,d)})),rs(r,s,!1),n&&r.u&&Ia("Patches").N(o,n,r.u,r.s)}return o.o}function Wp(r,e,n,o,s,i,d){if(Jn(s)){var f=ns(r,s,i&&e&&e.i!==3&&!Ml(e.R,o)?i.concat(o):void 0);if(Vp(n,o,f),!Jn(f))return;r.m=!1}else d&&n.add(s);if(Ua(s)&&!Nc(s)){if(!r.h.D&&r._<1)return;ns(r,s),e&&e.A.l||rs(r,s)}}function rs(r,e,n){n===void 0&&(n=!1),!r.l&&r.h.D&&r.m&&jc(e,n)}function _c(r,e){var n=r[Xe];return(n?St(n):r)[e]}function Qp(r,e){if(e in r)for(var n=Object.getPrototypeOf(r);n;){var o=Object.getOwnPropertyDescriptor(n,e);if(o)return o;n=Object.getPrototypeOf(n)}}function Xa(r){r.P||(r.P=!0,r.l&&Xa(r.l))}function Tc(r){r.o||(r.o=yc(r.t))}function Dl(r,e,n){var o=Zo(e)?Ia("MapSet").F(e,n):es(e)?Ia("MapSet").T(e,n):r.O?(function(s,i){var d=Array.isArray(s),f={i:d?1:0,A:i?i.A:ts(),P:!1,I:!1,R:{},l:i,t:s,k:null,o:null,j:null,C:!1},p=f,m=Rc;d&&(p=[f],m=Il);var v=Proxy.revocable(p,m),b=v.revoke,y=v.proxy;return f.k=y,f.j=b,y})(e,n):Ia("ES5").J(e,n);return(n?n.A:ts()).p.push(o),o}function $C(r){return Jn(r)||At(22,r),(function e(n){if(!Ua(n))return n;var o,s=n[Xe],i=vn(n);if(s){if(!s.P&&(s.i<4||!Ia("ES5").K(s)))return s.t;s.I=!0,o=Zp(n,i),s.I=!1}else o=Zp(n,i);return Wn(o,(function(d,f){s&&Qo(s.t,d)===f||Vp(o,d,e(f))})),i===3?new Set(o):o})(r)}function Zp(r,e){switch(e){case 2:return new Map(r);case 3:return Array.from(r)}return yc(r)}function YC(){function r(o){if(!Ua(o))return o;if(Array.isArray(o))return o.map(r);if(Zo(o))return new Map(Array.from(o.entries()).map((function(d){return[d[0],r(d[1])]})));if(es(o))return new Set(Array.from(o).map(r));var s=Object.create(Object.getPrototypeOf(o));for(var i in o)s[i]=r(o[i]);return Ml(o,Ul)&&(s[Ul]=o[Ul]),s}function e(o){return Jn(o)?r(o):o}var n="add";Kp("Patches",{$:function(o,s){return s.forEach((function(i){for(var d=i.path,f=i.op,p=o,m=0;m<d.length-1;m++){var v=vn(p),b=d[m];typeof b!="string"&&typeof b!="number"&&(b=""+b),v!==0&&v!==1||b!=="__proto__"&&b!=="constructor"||At(24),typeof p=="function"&&b==="prototype"&&At(24),typeof(p=Qo(p,b))!="object"&&At(15,d.join("/"))}var y=vn(p),j=r(i.value),C=d[d.length-1];switch(f){case"replace":switch(y){case 2:return p.set(C,j);case 3:At(16);default:return p[C]=j}case n:switch(y){case 1:return C==="-"?p.push(j):p.splice(C,0,j);case 2:return p.set(C,j);case 3:return p.add(j);default:return p[C]=j}case"remove":switch(y){case 1:return p.splice(C,1);case 2:return p.delete(C);case 3:return p.delete(i.value);default:return delete p[C]}default:At(17,f)}})),o},N:function(o,s,i,d){switch(o.i){case 0:case 4:case 2:return(function(f,p,m,v){var b=f.t,y=f.o;Wn(f.R,(function(j,C){var w=Qo(b,j),_=Qo(y,j),z=C?Ml(b,j)?"replace":n:"remove";if(w!==_||z!=="replace"){var S=p.concat(j);m.push(z==="remove"?{op:z,path:S}:{op:z,path:S,value:_}),v.push(z===n?{op:"remove",path:S}:z==="remove"?{op:n,path:S,value:e(w)}:{op:"replace",path:S,value:e(w)})}}))})(o,s,i,d);case 5:case 1:return(function(f,p,m,v){var b=f.t,y=f.R,j=f.o;if(j.length<b.length){var C=[j,b];b=C[0],j=C[1];var w=[v,m];m=w[0],v=w[1]}for(var _=0;_<b.length;_++)if(y[_]&&j[_]!==b[_]){var z=p.concat([_]);m.push({op:"replace",path:z,value:e(j[_])}),v.push({op:"replace",path:z,value:e(b[_])})}for(var S=b.length;S<j.length;S++){var R=p.concat([S]);m.push({op:n,path:R,value:e(j[S])})}b.length<j.length&&v.push({op:"replace",path:p.concat(["length"]),value:b.length})})(o,s,i,d);case 3:return(function(f,p,m,v){var b=f.t,y=f.o,j=0;b.forEach((function(C){if(!y.has(C)){var w=p.concat([j]);m.push({op:"remove",path:w,value:C}),v.unshift({op:n,path:w,value:C})}j++})),j=0,y.forEach((function(C){if(!b.has(C)){var w=p.concat([j]);m.push({op:n,path:w,value:C}),v.unshift({op:"remove",path:w,value:C})}j++}))})(o,s,i,d)}},M:function(o,s,i,d){i.push({op:"replace",path:[],value:s===kc?void 0:s}),d.push({op:"replace",path:[],value:o})}})}function XC(){function r(f,p){function m(){this.constructor=f}s(f,p),f.prototype=(m.prototype=p.prototype,new m)}function e(f){f.o||(f.R=new Map,f.o=new Map(f.t))}function n(f){f.o||(f.o=new Set,f.t.forEach((function(p){if(Ua(p)){var m=Dl(f.A.h,p,f);f.p.set(p,m),f.o.add(m)}else f.o.add(p)})))}function o(f){f.g&&At(3,JSON.stringify(St(f)))}var s=function(f,p){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,v){m.__proto__=v}||function(m,v){for(var b in v)v.hasOwnProperty(b)&&(m[b]=v[b])})(f,p)},i=(function(){function f(m,v){return this[Xe]={i:2,l:v,A:v?v.A:ts(),P:!1,I:!1,o:void 0,R:void 0,t:m,k:this,C:!1,g:!1},this}r(f,Map);var p=f.prototype;return Object.defineProperty(p,"size",{get:function(){return St(this[Xe]).size}}),p.has=function(m){return St(this[Xe]).has(m)},p.set=function(m,v){var b=this[Xe];return o(b),St(b).has(m)&&St(b).get(m)===v||(e(b),Xa(b),b.R.set(m,!0),b.o.set(m,v),b.R.set(m,!0)),this},p.delete=function(m){if(!this.has(m))return!1;var v=this[Xe];return o(v),e(v),Xa(v),v.t.has(m)?v.R.set(m,!1):v.R.delete(m),v.o.delete(m),!0},p.clear=function(){var m=this[Xe];o(m),St(m).size&&(e(m),Xa(m),m.R=new Map,Wn(m.t,(function(v){m.R.set(v,!1)})),m.o.clear())},p.forEach=function(m,v){var b=this;St(this[Xe]).forEach((function(y,j){m.call(v,b.get(j),j,b)}))},p.get=function(m){var v=this[Xe];o(v);var b=St(v).get(m);if(v.I||!Ua(b)||b!==v.t.get(m))return b;var y=Dl(v.A.h,b,v);return e(v),v.o.set(m,y),y},p.keys=function(){return St(this[Xe]).keys()},p.values=function(){var m,v=this,b=this.keys();return(m={})[ls]=function(){return v.values()},m.next=function(){var y=b.next();return y.done?y:{done:!1,value:v.get(y.value)}},m},p.entries=function(){var m,v=this,b=this.keys();return(m={})[ls]=function(){return v.entries()},m.next=function(){var y=b.next();if(y.done)return y;var j=v.get(y.value);return{done:!1,value:[y.value,j]}},m},p[ls]=function(){return this.entries()},f})(),d=(function(){function f(m,v){return this[Xe]={i:3,l:v,A:v?v.A:ts(),P:!1,I:!1,o:void 0,t:m,k:this,p:new Map,g:!1,C:!1},this}r(f,Set);var p=f.prototype;return Object.defineProperty(p,"size",{get:function(){return St(this[Xe]).size}}),p.has=function(m){var v=this[Xe];return o(v),v.o?!!v.o.has(m)||!(!v.p.has(m)||!v.o.has(v.p.get(m))):v.t.has(m)},p.add=function(m){var v=this[Xe];return o(v),this.has(m)||(n(v),Xa(v),v.o.add(m)),this},p.delete=function(m){if(!this.has(m))return!1;var v=this[Xe];return o(v),n(v),Xa(v),v.o.delete(m)||!!v.p.has(m)&&v.o.delete(v.p.get(m))},p.clear=function(){var m=this[Xe];o(m),St(m).size&&(n(m),Xa(m),m.o.clear())},p.values=function(){var m=this[Xe];return o(m),n(m),m.o.values()},p.entries=function(){var m=this[Xe];return o(m),n(m),m.o.entries()},p.keys=function(){return this.values()},p[ls]=function(){return this.values()},p.forEach=function(m,v){for(var b=this.values(),y=b.next();!y.done;)m.call(v,y.value,y.value,this),y=b.next()},f})();Kp("MapSet",{F:function(f,p){return new i(f,p)},T:function(f,p){return new d(f,p)}})}var eg,Ll,Ec=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",FC=typeof Map<"u",GC=typeof Set<"u",tg=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",kc=Ec?Symbol.for("immer-nothing"):((eg={})["immer-nothing"]=!0,eg),Ul=Ec?Symbol.for("immer-draftable"):"__$immer_draftable",Xe=Ec?Symbol.for("immer-state"):"__$immer_state",ls=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",VC=""+Object.prototype.constructor,Oc=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,KC=Object.getOwnPropertyDescriptors||function(r){var e={};return Oc(r).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(r,n)})),e},Ac={},Rc={get:function(r,e){if(e===Xe)return r;var n=St(r);if(!Ml(n,e))return(function(s,i,d){var f,p=Qp(i,d);return p?"value"in p?p.value:(f=p.get)===null||f===void 0?void 0:f.call(s.k):void 0})(r,n,e);var o=n[e];return r.I||!Ua(o)?o:o===_c(r.t,e)?(Tc(r),r.o[e]=Dl(r.A.h,o,r)):o},has:function(r,e){return e in St(r)},ownKeys:function(r){return Reflect.ownKeys(St(r))},set:function(r,e,n){var o=Qp(St(r),e);if(o?.set)return o.set.call(r.k,n),!0;if(!r.P){var s=_c(St(r),e),i=s?.[Xe];if(i&&i.t===n)return r.o[e]=n,r.R[e]=!1,!0;if(BC(n,s)&&(n!==void 0||Ml(r.t,e)))return!0;Tc(r),Xa(r)}return r.o[e]===n&&(n!==void 0||e in r.o)||Number.isNaN(n)&&Number.isNaN(r.o[e])||(r.o[e]=n,r.R[e]=!0),!0},deleteProperty:function(r,e){return _c(r.t,e)!==void 0||e in r.t?(r.R[e]=!1,Tc(r),Xa(r)):delete r.R[e],r.o&&delete r.o[e],!0},getOwnPropertyDescriptor:function(r,e){var n=St(r),o=Reflect.getOwnPropertyDescriptor(n,e);return o&&{writable:!0,configurable:r.i!==1||e!=="length",enumerable:o.enumerable,value:n[e]}},defineProperty:function(){At(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){At(12)}},Il={};Wn(Rc,(function(r,e){Il[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Il.deleteProperty=function(r,e){return Il.set.call(this,r,e,void 0)},Il.set=function(r,e,n){return Rc.set.call(this,r[0],e,n,r[0])};var JC=(function(){function r(n){var o=this;this.O=tg,this.D=!0,this.produce=function(s,i,d){if(typeof s=="function"&&typeof i!="function"){var f=i;i=s;var p=o;return function(w){var _=this;w===void 0&&(w=f);for(var z=arguments.length,S=Array(z>1?z-1:0),R=1;R<z;R++)S[R-1]=arguments[R];return p.produce(w,(function(I){var $;return($=i).call.apply($,[_,I].concat(S))}))}}var m;if(typeof i!="function"&&At(6),d!==void 0&&typeof d!="function"&&At(7),Ua(s)){var v=Jp(o),b=Dl(o,s,void 0),y=!0;try{m=i(b),y=!1}finally{y?as(v):wc(v)}return typeof Promise<"u"&&m instanceof Promise?m.then((function(w){return Cc(v,d),Sc(w,v)}),(function(w){throw as(v),w})):(Cc(v,d),Sc(m,v))}if(!s||typeof s!="object"){if((m=i(s))===void 0&&(m=s),m===kc&&(m=void 0),o.D&&jc(m,!0),d){var j=[],C=[];Ia("Patches").M(s,m,j,C),d(j,C)}return m}At(21,s)},this.produceWithPatches=function(s,i){if(typeof s=="function")return function(m){for(var v=arguments.length,b=Array(v>1?v-1:0),y=1;y<v;y++)b[y-1]=arguments[y];return o.produceWithPatches(m,(function(j){return s.apply(void 0,[j].concat(b))}))};var d,f,p=o.produce(s,i,(function(m,v){d=m,f=v}));return typeof Promise<"u"&&p instanceof Promise?p.then((function(m){return[m,d,f]})):[p,d,f]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=r.prototype;return e.createDraft=function(n){Ua(n)||At(8),Jn(n)&&(n=$C(n));var o=Jp(this),s=Dl(this,n,void 0);return s[Xe].C=!0,wc(o),s},e.finishDraft=function(n,o){var s=n&&n[Xe],i=s.A;return Cc(i,o),Sc(void 0,i)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!tg&&At(20),this.O=n},e.applyPatches=function(n,o){var s;for(s=o.length-1;s>=0;s--){var i=o[s];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}s>-1&&(o=o.slice(s+1));var d=Ia("Patches").$;return Jn(n)?d(n,o):this.produce(n,(function(f){return d(f,o)}))},r})(),Zt=new JC,WC=Zt.produce,ag=Zt.produceWithPatches.bind(Zt);Zt.setAutoFreeze.bind(Zt),Zt.setUseProxies.bind(Zt);var ng=Zt.applyPatches.bind(Zt);Zt.createDraft.bind(Zt),Zt.finishDraft.bind(Zt);var zc,rg;function QC(){if(rg)return zc;rg=1;function r(){this.__data__=[],this.size=0}return zc=r,zc}var Mc,lg;function Dc(){if(lg)return Mc;lg=1;function r(e,n){return e===n||e!==e&&n!==n}return Mc=r,Mc}var Lc,og;function os(){if(og)return Lc;og=1;var r=Dc();function e(n,o){for(var s=n.length;s--;)if(r(n[s][0],o))return s;return-1}return Lc=e,Lc}var Uc,sg;function ZC(){if(sg)return Uc;sg=1;var r=os(),e=Array.prototype,n=e.splice;function o(s){var i=this.__data__,d=r(i,s);if(d<0)return!1;var f=i.length-1;return d==f?i.pop():n.call(i,d,1),--this.size,!0}return Uc=o,Uc}var Ic,ig;function ew(){if(ig)return Ic;ig=1;var r=os();function e(n){var o=this.__data__,s=r(o,n);return s<0?void 0:o[s][1]}return Ic=e,Ic}var qc,cg;function tw(){if(cg)return qc;cg=1;var r=os();function e(n){return r(this.__data__,n)>-1}return qc=e,qc}var Bc,ug;function aw(){if(ug)return Bc;ug=1;var r=os();function e(n,o){var s=this.__data__,i=r(s,n);return i<0?(++this.size,s.push([n,o])):s[i][1]=o,this}return Bc=e,Bc}var Pc,dg;function ss(){if(dg)return Pc;dg=1;var r=QC(),e=ZC(),n=ew(),o=tw(),s=aw();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=o,i.prototype.set=s,Pc=i,Pc}var Hc,fg;function nw(){if(fg)return Hc;fg=1;var r=ss();function e(){this.__data__=new r,this.size=0}return Hc=e,Hc}var $c,hg;function rw(){if(hg)return $c;hg=1;function r(e){var n=this.__data__,o=n.delete(e);return this.size=n.size,o}return $c=r,$c}var Yc,mg;function lw(){if(mg)return Yc;mg=1;function r(e){return this.__data__.get(e)}return Yc=r,Yc}var Xc,pg;function ow(){if(pg)return Xc;pg=1;function r(e){return this.__data__.has(e)}return Xc=r,Xc}var Fc,gg;function vg(){if(gg)return Fc;gg=1;var r=typeof window=="object"&&window&&window.Object===Object&&window;return Fc=r,Fc}var Gc,bg;function qa(){if(bg)return Gc;bg=1;var r=vg(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=r||e||Function("return this")();return Gc=n,Gc}var Vc,xg;function is(){if(xg)return Vc;xg=1;var r=qa(),e=r.Symbol;return Vc=e,Vc}var Kc,yg;function sw(){if(yg)return Kc;yg=1;var r=is(),e=Object.prototype,n=e.hasOwnProperty,o=e.toString,s=r?r.toStringTag:void 0;function i(d){var f=n.call(d,s),p=d[s];try{d[s]=void 0;var m=!0}catch{}var v=o.call(d);return m&&(f?d[s]=p:delete d[s]),v}return Kc=i,Kc}var Jc,jg;function iw(){if(jg)return Jc;jg=1;var r=Object.prototype,e=r.toString;function n(o){return e.call(o)}return Jc=n,Jc}var Wc,Ng;function cs(){if(Ng)return Wc;Ng=1;var r=is(),e=sw(),n=iw(),o="[object Null]",s="[object Undefined]",i=r?r.toStringTag:void 0;function d(f){return f==null?f===void 0?s:o:i&&i in Object(f)?e(f):n(f)}return Wc=d,Wc}var Qc,Cg;function ql(){if(Cg)return Qc;Cg=1;function r(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Qc=r,Qc}var Zc,wg;function eu(){if(wg)return Zc;wg=1;var r=cs(),e=ql(),n="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function d(f){if(!e(f))return!1;var p=r(f);return p==o||p==s||p==n||p==i}return Zc=d,Zc}var tu,Sg;function cw(){if(Sg)return tu;Sg=1;var r=qa(),e=r["__core-js_shared__"];return tu=e,tu}var au,_g;function uw(){if(_g)return au;_g=1;var r=cw(),e=(function(){var o=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""})();function n(o){return!!e&&e in o}return au=n,au}var nu,Tg;function Eg(){if(Tg)return nu;Tg=1;var r=Function.prototype,e=r.toString;function n(o){if(o!=null){try{return e.call(o)}catch{}try{return o+""}catch{}}return""}return nu=n,nu}var ru,kg;function dw(){if(kg)return ru;kg=1;var r=eu(),e=uw(),n=ql(),o=Eg(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,d=Function.prototype,f=Object.prototype,p=d.toString,m=f.hasOwnProperty,v=RegExp("^"+p.call(m).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b(y){if(!n(y)||e(y))return!1;var j=r(y)?v:i;return j.test(o(y))}return ru=b,ru}var lu,Og;function fw(){if(Og)return lu;Og=1;function r(e,n){return e?.[n]}return lu=r,lu}var ou,Ag;function Qn(){if(Ag)return ou;Ag=1;var r=dw(),e=fw();function n(o,s){var i=e(o,s);return r(i)?i:void 0}return ou=n,ou}var su,Rg;function iu(){if(Rg)return su;Rg=1;var r=Qn(),e=qa(),n=r(e,"Map");return su=n,su}var cu,zg;function us(){if(zg)return cu;zg=1;var r=Qn(),e=r(Object,"create");return cu=e,cu}var uu,Mg;function hw(){if(Mg)return uu;Mg=1;var r=us();function e(){this.__data__=r?r(null):{},this.size=0}return uu=e,uu}var du,Dg;function mw(){if(Dg)return du;Dg=1;function r(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return du=r,du}var fu,Lg;function pw(){if(Lg)return fu;Lg=1;var r=us(),e="__lodash_hash_undefined__",n=Object.prototype,o=n.hasOwnProperty;function s(i){var d=this.__data__;if(r){var f=d[i];return f===e?void 0:f}return o.call(d,i)?d[i]:void 0}return fu=s,fu}var hu,Ug;function gw(){if(Ug)return hu;Ug=1;var r=us(),e=Object.prototype,n=e.hasOwnProperty;function o(s){var i=this.__data__;return r?i[s]!==void 0:n.call(i,s)}return hu=o,hu}var mu,Ig;function vw(){if(Ig)return mu;Ig=1;var r=us(),e="__lodash_hash_undefined__";function n(o,s){var i=this.__data__;return this.size+=this.has(o)?0:1,i[o]=r&&s===void 0?e:s,this}return mu=n,mu}var pu,qg;function bw(){if(qg)return pu;qg=1;var r=hw(),e=mw(),n=pw(),o=gw(),s=vw();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=o,i.prototype.set=s,pu=i,pu}var gu,Bg;function xw(){if(Bg)return gu;Bg=1;var r=bw(),e=ss(),n=iu();function o(){this.size=0,this.__data__={hash:new r,map:new(n||e),string:new r}}return gu=o,gu}var vu,Pg;function yw(){if(Pg)return vu;Pg=1;function r(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return vu=r,vu}var bu,Hg;function ds(){if(Hg)return bu;Hg=1;var r=yw();function e(n,o){var s=n.__data__;return r(o)?s[typeof o=="string"?"string":"hash"]:s.map}return bu=e,bu}var xu,$g;function jw(){if($g)return xu;$g=1;var r=ds();function e(n){var o=r(this,n).delete(n);return this.size-=o?1:0,o}return xu=e,xu}var yu,Yg;function Nw(){if(Yg)return yu;Yg=1;var r=ds();function e(n){return r(this,n).get(n)}return yu=e,yu}var ju,Xg;function Cw(){if(Xg)return ju;Xg=1;var r=ds();function e(n){return r(this,n).has(n)}return ju=e,ju}var Nu,Fg;function ww(){if(Fg)return Nu;Fg=1;var r=ds();function e(n,o){var s=r(this,n),i=s.size;return s.set(n,o),this.size+=s.size==i?0:1,this}return Nu=e,Nu}var Cu,Gg;function Vg(){if(Gg)return Cu;Gg=1;var r=xw(),e=jw(),n=Nw(),o=Cw(),s=ww();function i(d){var f=-1,p=d==null?0:d.length;for(this.clear();++f<p;){var m=d[f];this.set(m[0],m[1])}}return i.prototype.clear=r,i.prototype.delete=e,i.prototype.get=n,i.prototype.has=o,i.prototype.set=s,Cu=i,Cu}var wu,Kg;function Sw(){if(Kg)return wu;Kg=1;var r=ss(),e=iu(),n=Vg(),o=200;function s(i,d){var f=this.__data__;if(f instanceof r){var p=f.__data__;if(!e||p.length<o-1)return p.push([i,d]),this.size=++f.size,this;f=this.__data__=new n(p)}return f.set(i,d),this.size=f.size,this}return wu=s,wu}var Su,Jg;function Wg(){if(Jg)return Su;Jg=1;var r=ss(),e=nw(),n=rw(),o=lw(),s=ow(),i=Sw();function d(f){var p=this.__data__=new r(f);this.size=p.size}return d.prototype.clear=e,d.prototype.delete=n,d.prototype.get=o,d.prototype.has=s,d.prototype.set=i,Su=d,Su}var _u,Qg;function _w(){if(Qg)return _u;Qg=1;var r="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,r),this}return _u=e,_u}var Tu,Zg;function Tw(){if(Zg)return Tu;Zg=1;function r(e){return this.__data__.has(e)}return Tu=r,Tu}var Eu,ev;function Ew(){if(ev)return Eu;ev=1;var r=Vg(),e=_w(),n=Tw();function o(s){var i=-1,d=s==null?0:s.length;for(this.__data__=new r;++i<d;)this.add(s[i])}return o.prototype.add=o.prototype.push=e,o.prototype.has=n,Eu=o,Eu}var ku,tv;function kw(){if(tv)return ku;tv=1;function r(e,n){for(var o=-1,s=e==null?0:e.length;++o<s;)if(n(e[o],o,e))return!0;return!1}return ku=r,ku}var Ou,av;function Ow(){if(av)return Ou;av=1;function r(e,n){return e.has(n)}return Ou=r,Ou}var Au,nv;function rv(){if(nv)return Au;nv=1;var r=Ew(),e=kw(),n=Ow(),o=1,s=2;function i(d,f,p,m,v,b){var y=p&o,j=d.length,C=f.length;if(j!=C&&!(y&&C>j))return!1;var w=b.get(d),_=b.get(f);if(w&&_)return w==f&&_==d;var z=-1,S=!0,R=p&s?new r:void 0;for(b.set(d,f),b.set(f,d);++z<j;){var I=d[z],$=f[z];if(m)var E=y?m($,I,z,f,d,b):m(I,$,z,d,f,b);if(E!==void 0){if(E)continue;S=!1;break}if(R){if(!e(f,function(D,P){if(!n(R,P)&&(I===D||v(I,D,p,m,b)))return R.push(P)})){S=!1;break}}else if(!(I===$||v(I,$,p,m,b))){S=!1;break}}return b.delete(d),b.delete(f),S}return Au=i,Au}var Ru,lv;function ov(){if(lv)return Ru;lv=1;var r=qa(),e=r.Uint8Array;return Ru=e,Ru}var zu,sv;function Aw(){if(sv)return zu;sv=1;function r(e){var n=-1,o=Array(e.size);return e.forEach(function(s,i){o[++n]=[i,s]}),o}return zu=r,zu}var Mu,iv;function Rw(){if(iv)return Mu;iv=1;function r(e){var n=-1,o=Array(e.size);return e.forEach(function(s){o[++n]=s}),o}return Mu=r,Mu}var Du,cv;function zw(){if(cv)return Du;cv=1;var r=is(),e=ov(),n=Dc(),o=rv(),s=Aw(),i=Rw(),d=1,f=2,p="[object Boolean]",m="[object Date]",v="[object Error]",b="[object Map]",y="[object Number]",j="[object RegExp]",C="[object Set]",w="[object String]",_="[object Symbol]",z="[object ArrayBuffer]",S="[object DataView]",R=r?r.prototype:void 0,I=R?R.valueOf:void 0;function $(E,D,P,X,W,F,H){switch(P){case S:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case z:return!(E.byteLength!=D.byteLength||!F(new e(E),new e(D)));case p:case m:case y:return n(+E,+D);case v:return E.name==D.name&&E.message==D.message;case j:case w:return E==D+"";case b:var G=s;case C:var se=X&d;if(G||(G=i),E.size!=D.size&&!se)return!1;var V=H.get(E);if(V)return V==D;X|=f,H.set(E,D);var O=o(G(E),G(D),X,W,F,H);return H.delete(E),O;case _:if(I)return I.call(E)==I.call(D)}return!1}return Du=$,Du}var Lu,uv;function dv(){if(uv)return Lu;uv=1;function r(e,n){for(var o=-1,s=n.length,i=e.length;++o<s;)e[i+o]=n[o];return e}return Lu=r,Lu}var Uu,fv;function fs(){if(fv)return Uu;fv=1;var r=Array.isArray;return Uu=r,Uu}var Iu,hv;function mv(){if(hv)return Iu;hv=1;var r=dv(),e=fs();function n(o,s,i){var d=s(o);return e(o)?d:r(d,i(o))}return Iu=n,Iu}var qu,pv;function Mw(){if(pv)return qu;pv=1;function r(e,n){for(var o=-1,s=e==null?0:e.length,i=0,d=[];++o<s;){var f=e[o];n(f,o,e)&&(d[i++]=f)}return d}return qu=r,qu}var Bu,gv;function vv(){if(gv)return Bu;gv=1;function r(){return[]}return Bu=r,Bu}var Pu,bv;function Hu(){if(bv)return Pu;bv=1;var r=Mw(),e=vv(),n=Object.prototype,o=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(d){return d==null?[]:(d=Object(d),r(s(d),function(f){return o.call(d,f)}))}:e;return Pu=i,Pu}var $u,xv;function Dw(){if(xv)return $u;xv=1;function r(e,n){for(var o=-1,s=Array(e);++o<e;)s[o]=n(o);return s}return $u=r,$u}var Yu,yv;function Tr(){if(yv)return Yu;yv=1;function r(e){return e!=null&&typeof e=="object"}return Yu=r,Yu}var Xu,jv;function Lw(){if(jv)return Xu;jv=1;var r=cs(),e=Tr(),n="[object Arguments]";function o(s){return e(s)&&r(s)==n}return Xu=o,Xu}var Fu,Nv;function Uw(){if(Nv)return Fu;Nv=1;var r=Lw(),e=Tr(),n=Object.prototype,o=n.hasOwnProperty,s=n.propertyIsEnumerable,i=r((function(){return arguments})())?r:function(d){return e(d)&&o.call(d,"callee")&&!s.call(d,"callee")};return Fu=i,Fu}var Bl={exports:{}},Gu,Cv;function Iw(){if(Cv)return Gu;Cv=1;function r(){return!1}return Gu=r,Gu}Bl.exports;var wv;function Vu(){return wv||(wv=1,(function(r,e){var n=qa(),o=Iw(),s=e&&!e.nodeType&&e,i=s&&!0&&r&&!r.nodeType&&r,d=i&&i.exports===s,f=d?n.Buffer:void 0,p=f?f.isBuffer:void 0,m=p||o;r.exports=m})(Bl,Bl.exports)),Bl.exports}var Ku,Sv;function qw(){if(Sv)return Ku;Sv=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(o,s){var i=typeof o;return s=s??r,!!s&&(i=="number"||i!="symbol"&&e.test(o))&&o>-1&&o%1==0&&o<s}return Ku=n,Ku}var Ju,_v;function Tv(){if(_v)return Ju;_v=1;var r=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=r}return Ju=e,Ju}var Wu,Ev;function Bw(){if(Ev)return Wu;Ev=1;var r=cs(),e=Tv(),n=Tr(),o="[object Arguments]",s="[object Array]",i="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Function]",m="[object Map]",v="[object Number]",b="[object Object]",y="[object RegExp]",j="[object Set]",C="[object String]",w="[object WeakMap]",_="[object ArrayBuffer]",z="[object DataView]",S="[object Float32Array]",R="[object Float64Array]",I="[object Int8Array]",$="[object Int16Array]",E="[object Int32Array]",D="[object Uint8Array]",P="[object Uint8ClampedArray]",X="[object Uint16Array]",W="[object Uint32Array]",F={};F[S]=F[R]=F[I]=F[$]=F[E]=F[D]=F[P]=F[X]=F[W]=!0,F[o]=F[s]=F[_]=F[i]=F[z]=F[d]=F[f]=F[p]=F[m]=F[v]=F[b]=F[y]=F[j]=F[C]=F[w]=!1;function H(G){return n(G)&&e(G.length)&&!!F[r(G)]}return Wu=H,Wu}var Qu,kv;function Zu(){if(kv)return Qu;kv=1;function r(e){return function(n){return e(n)}}return Qu=r,Qu}var Pl={exports:{}};Pl.exports;var Ov;function ed(){return Ov||(Ov=1,(function(r,e){var n=vg(),o=e&&!e.nodeType&&e,s=o&&!0&&r&&!r.nodeType&&r,i=s&&s.exports===o,d=i&&n.process,f=(function(){try{var p=s&&s.require&&s.require("util").types;return p||d&&d.binding&&d.binding("util")}catch{}})();r.exports=f})(Pl,Pl.exports)),Pl.exports}var td,Av;function Rv(){if(Av)return td;Av=1;var r=Bw(),e=Zu(),n=ed(),o=n&&n.isTypedArray,s=o?e(o):r;return td=s,td}var ad,zv;function Mv(){if(zv)return ad;zv=1;var r=Dw(),e=Uw(),n=fs(),o=Vu(),s=qw(),i=Rv(),d=Object.prototype,f=d.hasOwnProperty;function p(m,v){var b=n(m),y=!b&&e(m),j=!b&&!y&&o(m),C=!b&&!y&&!j&&i(m),w=b||y||j||C,_=w?r(m.length,String):[],z=_.length;for(var S in m)(v||f.call(m,S))&&!(w&&(S=="length"||j&&(S=="offset"||S=="parent")||C&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||s(S,z)))&&_.push(S);return _}return ad=p,ad}var nd,Dv;function rd(){if(Dv)return nd;Dv=1;var r=Object.prototype;function e(n){var o=n&&n.constructor,s=typeof o=="function"&&o.prototype||r;return n===s}return nd=e,nd}var ld,Lv;function Uv(){if(Lv)return ld;Lv=1;function r(e,n){return function(o){return e(n(o))}}return ld=r,ld}var od,Iv;function Pw(){if(Iv)return od;Iv=1;var r=Uv(),e=r(Object.keys,Object);return od=e,od}var sd,qv;function Hw(){if(qv)return sd;qv=1;var r=rd(),e=Pw(),n=Object.prototype,o=n.hasOwnProperty;function s(i){if(!r(i))return e(i);var d=[];for(var f in Object(i))o.call(i,f)&&f!="constructor"&&d.push(f);return d}return sd=s,sd}var id,Bv;function Pv(){if(Bv)return id;Bv=1;var r=eu(),e=Tv();function n(o){return o!=null&&e(o.length)&&!r(o)}return id=n,id}var cd,Hv;function ud(){if(Hv)return cd;Hv=1;var r=Mv(),e=Hw(),n=Pv();function o(s){return n(s)?r(s):e(s)}return cd=o,cd}var dd,$v;function Yv(){if($v)return dd;$v=1;var r=mv(),e=Hu(),n=ud();function o(s){return r(s,n,e)}return dd=o,dd}var fd,Xv;function $w(){if(Xv)return fd;Xv=1;var r=Yv(),e=1,n=Object.prototype,o=n.hasOwnProperty;function s(i,d,f,p,m,v){var b=f&e,y=r(i),j=y.length,C=r(d),w=C.length;if(j!=w&&!b)return!1;for(var _=j;_--;){var z=y[_];if(!(b?z in d:o.call(d,z)))return!1}var S=v.get(i),R=v.get(d);if(S&&R)return S==d&&R==i;var I=!0;v.set(i,d),v.set(d,i);for(var $=b;++_<j;){z=y[_];var E=i[z],D=d[z];if(p)var P=b?p(D,E,z,d,i,v):p(E,D,z,i,d,v);if(!(P===void 0?E===D||m(E,D,f,p,v):P)){I=!1;break}$||($=z=="constructor")}if(I&&!$){var X=i.constructor,W=d.constructor;X!=W&&"constructor"in i&&"constructor"in d&&!(typeof X=="function"&&X instanceof X&&typeof W=="function"&&W instanceof W)&&(I=!1)}return v.delete(i),v.delete(d),I}return fd=s,fd}var hd,Fv;function Yw(){if(Fv)return hd;Fv=1;var r=Qn(),e=qa(),n=r(e,"DataView");return hd=n,hd}var md,Gv;function Xw(){if(Gv)return md;Gv=1;var r=Qn(),e=qa(),n=r(e,"Promise");return md=n,md}var pd,Vv;function Fw(){if(Vv)return pd;Vv=1;var r=Qn(),e=qa(),n=r(e,"Set");return pd=n,pd}var gd,Kv;function Gw(){if(Kv)return gd;Kv=1;var r=Qn(),e=qa(),n=r(e,"WeakMap");return gd=n,gd}var vd,Jv;function hs(){if(Jv)return vd;Jv=1;var r=Yw(),e=iu(),n=Xw(),o=Fw(),s=Gw(),i=cs(),d=Eg(),f="[object Map]",p="[object Object]",m="[object Promise]",v="[object Set]",b="[object WeakMap]",y="[object DataView]",j=d(r),C=d(e),w=d(n),_=d(o),z=d(s),S=i;return(r&&S(new r(new ArrayBuffer(1)))!=y||e&&S(new e)!=f||n&&S(n.resolve())!=m||o&&S(new o)!=v||s&&S(new s)!=b)&&(S=function(R){var I=i(R),$=I==p?R.constructor:void 0,E=$?d($):"";if(E)switch(E){case j:return y;case C:return f;case w:return m;case _:return v;case z:return b}return I}),vd=S,vd}var bd,Wv;function Vw(){if(Wv)return bd;Wv=1;var r=Wg(),e=rv(),n=zw(),o=$w(),s=hs(),i=fs(),d=Vu(),f=Rv(),p=1,m="[object Arguments]",v="[object Array]",b="[object Object]",y=Object.prototype,j=y.hasOwnProperty;function C(w,_,z,S,R,I){var $=i(w),E=i(_),D=$?v:s(w),P=E?v:s(_);D=D==m?b:D,P=P==m?b:P;var X=D==b,W=P==b,F=D==P;if(F&&d(w)){if(!d(_))return!1;$=!0,X=!1}if(F&&!X)return I||(I=new r),$||f(w)?e(w,_,z,S,R,I):n(w,_,D,z,S,R,I);if(!(z&p)){var H=X&&j.call(w,"__wrapped__"),G=W&&j.call(_,"__wrapped__");if(H||G){var se=H?w.value():w,V=G?_.value():_;return I||(I=new r),R(se,V,z,S,I)}}return F?(I||(I=new r),o(w,_,z,S,R,I)):!1}return bd=C,bd}var xd,Qv;function Kw(){if(Qv)return xd;Qv=1;var r=Vw(),e=Tr();function n(o,s,i,d,f){return o===s?!0:o==null||s==null||!e(o)&&!e(s)?o!==o&&s!==s:r(o,s,i,d,n,f)}return xd=n,xd}var yd,Zv;function Jw(){if(Zv)return yd;Zv=1;var r=Kw();function e(n,o,s){s=typeof s=="function"?s:void 0;var i=s?s(n,o):void 0;return i===void 0?r(n,o,void 0,s):!!i}return yd=e,yd}var Ww=Jw();const Qw=_r(Ww);var jd,eb;function Zw(){return eb||(eb=1,jd=function(e,n,o,s){var i=o?o.call(s,e,n):void 0;if(i!==void 0)return!!i;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var d=Object.keys(e),f=Object.keys(n);if(d.length!==f.length)return!1;for(var p=Object.prototype.hasOwnProperty.bind(n),m=0;m<d.length;m++){var v=d[m];if(!p(v))return!1;var b=e[v],y=n[v];if(i=o?o.call(s,b,y,v):void 0,i===!1||i===void 0&&b!==y)return!1}return!0}),jd}var eS=Zw();const tS=_r(eS);let aS=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var nS="Invariant failed";function Qe(r,e){if(!r)throw new Error(nS)}var rS=Xp();const lS=_r(rS);typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/utils"]="0.2.5");var Fa="ROOT",tb="canvas-ROOT",oS="Attempting to add a node with duplicated id",sS="Node cannot be dropped into target parent",iS="Target parent rejects incoming node",cS="Current parent rejects outgoing node",ab="Cannot move node that is not a direct child of a Canvas node",uS="Cannot move node into a non-Canvas parent",nb="A top-level Node cannot be moved",dS="Cannot move node into a descendant",rb="The component type specified for this node (%node_type%) does not exist in the resolver",fS="The node has specified a canDrag() rule that prevents it from being dragged",hS=`An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />

Available components in resolver: %availableComponents%

More info: https://craft.js.org/r/docs/api/editor#props`;function lb(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.push.apply(n,o)}return n}function ha(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lb(Object(n),!0).forEach((function(o){xt(r,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach((function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))}))}return r}function Er(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function mS(r,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,ub(o.key),o)}}function kr(r,e,n){return e&&mS(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function xt(r,e,n){return(e=ub(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Or(r){return Or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Or(r)}function Nd(r,e){return Nd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Nd(r,e)}function Cd(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function wd(){return wd=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,n){var o=(function(i,d){for(;!Object.prototype.hasOwnProperty.call(i,d)&&(i=Or(i))!==null;);return i})(r,e);if(o){var s=Object.getOwnPropertyDescriptor(o,e);return s.get?s.get.call(arguments.length<3?r:n):s.value}},wd.apply(this,arguments)}function ob(r,e){return sb(r)||(function(n,o){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,d,f,p,m=[],v=!0,b=!1;try{if(f=(s=s.call(n)).next,o===0){if(Object(s)!==s)return;v=!1}else for(;!(v=(i=f.call(s)).done)&&(m.push(i.value),m.length!==o);v=!0);}catch(y){b=!0,d=y}finally{try{if(!v&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(b)throw d}}return m}})(r,e)||Sd(r,e)||cb()}function Pt(r){return(function(e){if(Array.isArray(e))return _d(e)})(r)||ib(r)||Sd(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function sb(r){if(Array.isArray(r))return r}function ib(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Sd(r,e){if(r){if(typeof r=="string")return _d(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(r,e):void 0}}function _d(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=r[n];return o}function cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ub(r){var e=(function(n,o){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,"string");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(r);return typeof e=="symbol"?e:String(e)}var st={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR"},pS=(function(){function r(){Er(this,r),xt(this,"timeline",[]),xt(this,"pointer",-1)}return kr(r,[{key:"add",value:function(e,n){e.length===0&&n.length===0||(this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:e,inversePatches:n,timestamp:Date.now()})}},{key:"throttleAdd",value:function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:500;if(e.length!==0||n.length!==0){if(this.timeline.length&&this.pointer>=0){var s=this.timeline[this.pointer],i=s.patches,d=s.inversePatches,f=s.timestamp;if(new Date().getTime()-f<o)return void(this.timeline[this.pointer]={timestamp:f,patches:[].concat(Pt(i),Pt(e)),inversePatches:[].concat(Pt(n),Pt(d))})}this.add(e,n)}}},{key:"merge",value:function(e,n){if(e.length!==0||n.length!==0)if(this.timeline.length&&this.pointer>=0){var o=this.timeline[this.pointer],s=o.inversePatches;this.timeline[this.pointer]={timestamp:o.timestamp,patches:[].concat(Pt(o.patches),Pt(e)),inversePatches:[].concat(Pt(n),Pt(s))}}else this.add(e,n)}},{key:"clear",value:function(){this.timeline=[],this.pointer=-1}},{key:"canUndo",value:function(){return this.pointer>=0}},{key:"canRedo",value:function(){return this.pointer<this.timeline.length-1}},{key:"undo",value:function(e){if(this.canUndo()){var n=this.timeline[this.pointer].inversePatches;return this.pointer=this.pointer-1,ng(e,n)}}},{key:"redo",value:function(e){if(this.canRedo())return this.pointer=this.pointer+1,ng(e,this.timeline[this.pointer].patches)}}]),r})();function gS(r,e,n,o){var s,i=L.useMemo((function(){return new pS}),[]),d=L.useRef([]),f=L.useRef((function(){}));typeof r=="function"?s=r:(s=r.methods,d.current=r.ignoreHistoryForActions,f.current=r.normalizeHistory);var p=L.useRef(o);p.current=o;var m=L.useRef(e),v=L.useMemo((function(){var _=f.current,z=d.current,S=p.current;return function(R,I){var $,E=n&&db(n,(function(){return R}),i),D=ob(ag(R,(function(F){var H,G;switch(I.type){case st.UNDO:return i.undo(F);case st.REDO:return i.redo(F);case st.CLEAR:return i.clear(),ha({},F);case st.IGNORE:case st.MERGE:case st.THROTTLE:var se,V=sb(G=I.payload)||ib(G)||Sd(G)||cb(),O=V[0],J=V.slice(1);(se=s(F,E))[O].apply(se,Pt(J));break;default:(H=s(F,E))[I.type].apply(H,Pt(I.payload))}})),3),P=D[0],X=D[1],W=D[2];return $=P,S&&S(P,R,{type:I.type,params:I.payload,patches:X},E,(function(F){var H=ag(P,F);$=H[0],X=[].concat(Pt(X),Pt(H[1])),W=[].concat(Pt(H[2]),Pt(W))})),[st.UNDO,st.REDO].includes(I.type)&&_&&($=WC($,_)),[].concat(Pt(z),[st.UNDO,st.REDO,st.IGNORE,st.CLEAR]).includes(I.type)||(I.type===st.THROTTLE?i.throttleAdd(X,W,I.config&&I.config.rate):I.type===st.MERGE?i.merge(X,W):i.add(X,W)),$}}),[i,s,n]),b=L.useCallback((function(){return m.current}),[]),y=L.useMemo((function(){return new vS(b)}),[b]),j=L.useCallback((function(_){var z=v(m.current,_);m.current=z,y.notify()}),[v,y]);L.useEffect((function(){y.notify()}),[y]);var C=L.useMemo((function(){return n?db(n,(function(){return m.current}),i):[]}),[i,n]),w=L.useMemo((function(){var _=Object.keys(s(null,null)),z=d.current;return ha(ha({},_.reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,$=new Array(I),E=0;E<I;E++)$[E]=arguments[E];return j({type:R,payload:$})},S}),{})),{},{history:{undo:function(){return j({type:st.UNDO})},redo:function(){return j({type:st.REDO})},clear:function(){return j({type:st.CLEAR})},throttle:function(S){return ha({},_.filter((function(R){return!z.includes(R)})).reduce((function(R,I){return R[I]=function(){for(var $=arguments.length,E=new Array($),D=0;D<$;D++)E[D]=arguments[D];return j({type:st.THROTTLE,payload:[I].concat(E),config:{rate:S}})},R}),{}))},ignore:function(){return ha({},_.filter((function(S){return!z.includes(S)})).reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,$=new Array(I),E=0;E<I;E++)$[E]=arguments[E];return j({type:st.IGNORE,payload:[R].concat($)})},S}),{}))},merge:function(){return ha({},_.filter((function(S){return!z.includes(S)})).reduce((function(S,R){return S[R]=function(){for(var I=arguments.length,$=new Array(I),E=0;E<I;E++)$[E]=arguments[E];return j({type:st.MERGE,payload:[R].concat($)})},S}),{}))}}})}),[j,s]);return L.useMemo((function(){return{getState:b,subscribe:function(_,z,S){return y.subscribe(_,z,S)},actions:w,query:C,history:i}}),[w,C,y,b,i])}function db(r,e,n){var o=Object.keys(r()).reduce((function(s,i){return ha(ha({},s),{},xt({},i,(function(){var d;return(d=r(e()))[i].apply(d,arguments)})))}),{});return ha(ha({},o),{},{history:{canUndo:function(){return n.canUndo()},canRedo:function(){return n.canRedo()}}})}XC(),YC();var vS=(function(){function r(e){Er(this,r),xt(this,"getState",void 0),xt(this,"subscribers",[]),this.getState=e}return kr(r,[{key:"subscribe",value:function(e,n,o){var s=this,i=new bS((function(){return e(s.getState())}),n,o);return this.subscribers.push(i),this.unsubscribe.bind(this,i)}},{key:"unsubscribe",value:function(e){if(this.subscribers.length){var n=this.subscribers.indexOf(e);if(n>-1)return this.subscribers.splice(n,1)}}},{key:"notify",value:function(){this.subscribers.forEach((function(e){return e.collect()}))}}]),r})(),bS=(function(){function r(e,n){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];Er(this,r),xt(this,"collected",void 0),xt(this,"collector",void 0),xt(this,"onChange",void 0),xt(this,"id",void 0),this.collector=e,this.onChange=n,o&&this.collect()}return kr(r,[{key:"collect",value:function(){try{var e=this.collector();Qw(e,this.collected)||(this.collected=e,this.onChange&&this.onChange(this.collected))}catch(n){console.warn(n)}}}]),r})(),Hl=function(r){var e=r.getBoundingClientRect(),n=e.x,o=e.y,s=e.top,i=e.left,d=e.bottom,f=e.right,p=e.width,m=e.height,v=window.getComputedStyle(r),b={left:parseInt(v.marginLeft),right:parseInt(v.marginRight),bottom:parseInt(v.marginBottom),top:parseInt(v.marginTop)},y={left:parseInt(v.paddingLeft),right:parseInt(v.paddingRight),bottom:parseInt(v.paddingBottom),top:parseInt(v.paddingTop)};return{x:n,y:o,top:s,left:i,bottom:d,right:f,width:p,height:m,outerWidth:Math.round(p+b.left+b.right),outerHeight:Math.round(m+b.top+b.bottom),margin:b,padding:y,inFlow:r.parentElement&&!!(function(j){var C=getComputedStyle(j);if(!(v.overflow&&v.overflow!=="visible"||C.float!=="none"||C.display==="grid"||C.display==="flex"&&C["flex-direction"]!=="column")){switch(v.position){case"static":case"relative":break;default:return}switch(r.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(v.display){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}})(r.parentElement)}};function xS(r,e){const{subscribe:n,getState:o,actions:s,query:i}=r,d=L.useRef(!0),f=L.useRef(null),p=L.useRef(e);p.current=e;const m=L.useCallback((y=>({...y,actions:s,query:i})),[s,i]);d.current&&e&&(f.current=e(o(),i),d.current=!1);const[v,b]=L.useState(m(f.current));return L.useEffect((()=>{let y;return p.current&&(y=n((j=>p.current(j,i)),(j=>{b(m(j))}))),()=>{y&&y()}}),[m,i,n]),v}var Ar,fb=function(){return aS(arguments.length>0&&arguments[0]!==void 0?arguments[0]:10)},yS=(function(){function r(){Er(this,r),xt(this,"isEnabled",!0),xt(this,"elementIdMap",new WeakMap),xt(this,"registry",new Map)}return kr(r,[{key:"getElementId",value:function(e){var n=this.elementIdMap.get(e);if(n)return n;var o=fb();return this.elementIdMap.set(e,o),o}},{key:"getConnectorId",value:function(e,n){var o=this.getElementId(e);return"".concat(n,"--").concat(o)}},{key:"register",value:function(e,n){var o=this,s=this.getByElement(e,n.name);if(s){if(tS(n.required,s.required))return s;this.getByElement(e,n.name).disable()}var i=null,d=this.getConnectorId(e,n.name);return this.registry.set(d,{id:d,required:n.required,enable:function(){i&&i(),i=n.connector(e,n.required,n.options)},disable:function(){i&&i()},remove:function(){return o.remove(d)}}),this.isEnabled&&this.registry.get(d).enable(),this.registry.get(d)}},{key:"get",value:function(e){return this.registry.get(e)}},{key:"remove",value:function(e){var n=this.get(e);n&&(n.disable(),this.registry.delete(n.id))}},{key:"enable",value:function(){this.isEnabled=!0,this.registry.forEach((function(e){e.enable()}))}},{key:"disable",value:function(){this.isEnabled=!1,this.registry.forEach((function(e){e.disable()}))}},{key:"getByElement",value:function(e,n){return this.get(this.getConnectorId(e,n))}},{key:"removeByElement",value:function(e,n){return this.remove(this.getConnectorId(e,n))}},{key:"clear",value:function(){this.disable(),this.elementIdMap=new WeakMap,this.registry=new Map}}]),r})();(function(r){r[r.HandlerDisabled=0]="HandlerDisabled",r[r.HandlerEnabled=1]="HandlerEnabled"})(Ar||(Ar={}));var hb=(function(){function r(e){Er(this,r),xt(this,"options",void 0),xt(this,"registry",new yS),xt(this,"subscribers",new Set),this.options=e}return kr(r,[{key:"listen",value:function(e){var n=this;return this.subscribers.add(e),function(){return n.subscribers.delete(e)}}},{key:"disable",value:function(){this.onDisable&&this.onDisable(),this.registry.disable(),this.subscribers.forEach((function(e){e(Ar.HandlerDisabled)}))}},{key:"enable",value:function(){this.onEnable&&this.onEnable(),this.registry.enable(),this.subscribers.forEach((function(e){e(Ar.HandlerEnabled)}))}},{key:"cleanup",value:function(){this.disable(),this.subscribers.clear(),this.registry.clear()}},{key:"addCraftEventListener",value:function(e,n,o,s){var i=function(d){(function(f,p,m){f.craft||(f.craft={stopPropagation:function(){},blockedEvents:{}});for(var v=f.craft&&f.craft.blockedEvents[p]||[],b=0;b<v.length;b++){var y=v[b];if(m!==y&&m.contains(y))return!0}return!1})(d,n,e)||(d.craft.stopPropagation=function(){d.craft.blockedEvents[n]||(d.craft.blockedEvents[n]=[]),d.craft.blockedEvents[n].push(e)},o(d))};return e.addEventListener(n,i,s),function(){return e.removeEventListener(n,i,s)}}},{key:"createConnectorsUsage",value:function(){var e=this,n=this.handlers(),o=new Set,s=!1,i=new Map;return{connectors:Object.entries(n).reduce((function(d,f){var p=ob(f,2),m=p[0],v=p[1];return ha(ha({},d),{},xt({},m,(function(b,y,j){var C=function(){var w=e.registry.register(b,{required:y,name:m,options:j,connector:v});return o.add(w.id),w};return i.set(e.registry.getConnectorId(b,m),C),s&&C(),b})))}),{}),register:function(){s=!0,i.forEach((function(d){d()}))},cleanup:function(){s=!1,o.forEach((function(d){return e.registry.remove(d)}))}}}},{key:"derive",value:function(e,n){return new e(this,n)}},{key:"createProxyHandlers",value:function(e,n){var o=[],s=e.handlers(),i=new Proxy(s,{get:function(d,f,p){return f in s==0?Reflect.get(d,f,p):function(m){for(var v=arguments.length,b=new Array(v>1?v-1:0),y=1;y<v;y++)b[y-1]=arguments[y];var j=s[f].apply(s,[m].concat(b));j&&o.push(j)}}});return n(i),function(){o.forEach((function(d){d()}))}}},{key:"reflect",value:function(e){return this.createProxyHandlers(this,e)}}]),r})(),jS=(function(r){(function(i,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),d&&Nd(i,d)})(s,hb);var e,n,o=(e=s,n=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})(),function(){var i,d=Or(e);if(n){var f=Or(this).constructor;i=Reflect.construct(d,arguments,f)}else i=d.apply(this,arguments);return(function(p,m){if(m&&(typeof m=="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cd(p)})(this,i)});function s(i,d){var f;return Er(this,s),xt(Cd(f=o.call(this,d)),"derived",void 0),xt(Cd(f),"unsubscribeParentHandlerListener",void 0),f.derived=i,f.options=d,f.unsubscribeParentHandlerListener=f.derived.listen((function(p){switch(p){case Ar.HandlerEnabled:return f.enable();case Ar.HandlerDisabled:return f.disable();default:return}})),f}return kr(s,[{key:"inherit",value:function(i){return this.createProxyHandlers(this.derived,i)}},{key:"cleanup",value:function(){wd(Or(s.prototype),"cleanup",this).call(this),this.unsubscribeParentHandlerListener()}}]),s})();function mb(r,e){e&&(typeof r=="function"?r(e):r.current=e)}function NS(r,e){const n=r.ref;return Qe(typeof n!="string"),L.cloneElement(r,n?{ref:o=>{mb(n,o),mb(e,o)}}:{ref:e})}function CS(r){return(e=null,...n)=>{if(!L.isValidElement(e)){if(!e)return;const s=e;return s&&r(s,...n),s}const o=e;return(function(s){if(typeof s.type!="string")throw new Error})(o),NS(o,r)}}function pb(r){return Object.keys(r).reduce(((e,n)=>(e[n]=CS(((...o)=>r[n](...o))),e)),{})}const wS=({style:r,className:e,parentDom:n})=>{const o=be.createElement("div",{className:e,style:{position:"fixed",display:"block",opacity:1,borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",zIndex:99999,...r}});return n&&n.ownerDocument!==document?lS.createPortal(o,n.ownerDocument.body):o};var bn=function(r,e){var n="Deprecation warning: ".concat(r," will be deprecated in future relases."),o=e.suggest,s=e.doc;o&&(n+=" Please use ".concat(o," instead.")),s&&(n+="(".concat(s,")")),console.warn(n)},gb=function(){return typeof window<"u"},SS=function(){return gb()&&/Linux/i.test(window.navigator.userAgent)},_S=function(){return gb()&&/Chrome/i.test(window.navigator.userAgent)},TS=eu();const ES=_r(TS);var Td,vb;function kS(){if(vb)return Td;vb=1;function r(e,n){for(var o=-1,s=e==null?0:e.length;++o<s&&n(e[o],o,e)!==!1;);return e}return Td=r,Td}var Ed,bb;function OS(){if(bb)return Ed;bb=1;var r=Qn(),e=(function(){try{var n=r(Object,"defineProperty");return n({},"",{}),n}catch{}})();return Ed=e,Ed}var kd,xb;function yb(){if(xb)return kd;xb=1;var r=OS();function e(n,o,s){o=="__proto__"&&r?r(n,o,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[o]=s}return kd=e,kd}var Od,jb;function Nb(){if(jb)return Od;jb=1;var r=yb(),e=Dc(),n=Object.prototype,o=n.hasOwnProperty;function s(i,d,f){var p=i[d];(!(o.call(i,d)&&e(p,f))||f===void 0&&!(d in i))&&r(i,d,f)}return Od=s,Od}var Ad,Cb;function ms(){if(Cb)return Ad;Cb=1;var r=Nb(),e=yb();function n(o,s,i,d){var f=!i;i||(i={});for(var p=-1,m=s.length;++p<m;){var v=s[p],b=d?d(i[v],o[v],v,i,o):void 0;b===void 0&&(b=o[v]),f?e(i,v,b):r(i,v,b)}return i}return Ad=n,Ad}var Rd,wb;function AS(){if(wb)return Rd;wb=1;var r=ms(),e=ud();function n(o,s){return o&&r(s,e(s),o)}return Rd=n,Rd}var zd,Sb;function RS(){if(Sb)return zd;Sb=1;function r(e){var n=[];if(e!=null)for(var o in Object(e))n.push(o);return n}return zd=r,zd}var Md,_b;function zS(){if(_b)return Md;_b=1;var r=ql(),e=rd(),n=RS(),o=Object.prototype,s=o.hasOwnProperty;function i(d){if(!r(d))return n(d);var f=e(d),p=[];for(var m in d)m=="constructor"&&(f||!s.call(d,m))||p.push(m);return p}return Md=i,Md}var Dd,Tb;function Ld(){if(Tb)return Dd;Tb=1;var r=Mv(),e=zS(),n=Pv();function o(s){return n(s)?r(s,!0):e(s)}return Dd=o,Dd}var Ud,Eb;function MS(){if(Eb)return Ud;Eb=1;var r=ms(),e=Ld();function n(o,s){return o&&r(s,e(s),o)}return Ud=n,Ud}var $l={exports:{}};$l.exports;var kb;function DS(){return kb||(kb=1,(function(r,e){var n=qa(),o=e&&!e.nodeType&&e,s=o&&!0&&r&&!r.nodeType&&r,i=s&&s.exports===o,d=i?n.Buffer:void 0,f=d?d.allocUnsafe:void 0;function p(m,v){if(v)return m.slice();var b=m.length,y=f?f(b):new m.constructor(b);return m.copy(y),y}r.exports=p})($l,$l.exports)),$l.exports}var Id,Ob;function LS(){if(Ob)return Id;Ob=1;function r(e,n){var o=-1,s=e.length;for(n||(n=Array(s));++o<s;)n[o]=e[o];return n}return Id=r,Id}var qd,Ab;function US(){if(Ab)return qd;Ab=1;var r=ms(),e=Hu();function n(o,s){return r(o,e(o),s)}return qd=n,qd}var Bd,Rb;function zb(){if(Rb)return Bd;Rb=1;var r=Uv(),e=r(Object.getPrototypeOf,Object);return Bd=e,Bd}var Pd,Mb;function Db(){if(Mb)return Pd;Mb=1;var r=dv(),e=zb(),n=Hu(),o=vv(),s=Object.getOwnPropertySymbols,i=s?function(d){for(var f=[];d;)r(f,n(d)),d=e(d);return f}:o;return Pd=i,Pd}var Hd,Lb;function IS(){if(Lb)return Hd;Lb=1;var r=ms(),e=Db();function n(o,s){return r(o,e(o),s)}return Hd=n,Hd}var $d,Ub;function qS(){if(Ub)return $d;Ub=1;var r=mv(),e=Db(),n=Ld();function o(s){return r(s,n,e)}return $d=o,$d}var Yd,Ib;function BS(){if(Ib)return Yd;Ib=1;var r=Object.prototype,e=r.hasOwnProperty;function n(o){var s=o.length,i=new o.constructor(s);return s&&typeof o[0]=="string"&&e.call(o,"index")&&(i.index=o.index,i.input=o.input),i}return Yd=n,Yd}var Xd,qb;function Fd(){if(qb)return Xd;qb=1;var r=ov();function e(n){var o=new n.constructor(n.byteLength);return new r(o).set(new r(n)),o}return Xd=e,Xd}var Gd,Bb;function PS(){if(Bb)return Gd;Bb=1;var r=Fd();function e(n,o){var s=o?r(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return Gd=e,Gd}var Vd,Pb;function HS(){if(Pb)return Vd;Pb=1;var r=/\w*$/;function e(n){var o=new n.constructor(n.source,r.exec(n));return o.lastIndex=n.lastIndex,o}return Vd=e,Vd}var Kd,Hb;function $S(){if(Hb)return Kd;Hb=1;var r=is(),e=r?r.prototype:void 0,n=e?e.valueOf:void 0;function o(s){return n?Object(n.call(s)):{}}return Kd=o,Kd}var Jd,$b;function YS(){if($b)return Jd;$b=1;var r=Fd();function e(n,o){var s=o?r(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return Jd=e,Jd}var Wd,Yb;function XS(){if(Yb)return Wd;Yb=1;var r=Fd(),e=PS(),n=HS(),o=$S(),s=YS(),i="[object Boolean]",d="[object Date]",f="[object Map]",p="[object Number]",m="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",j="[object ArrayBuffer]",C="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",z="[object Int8Array]",S="[object Int16Array]",R="[object Int32Array]",I="[object Uint8Array]",$="[object Uint8ClampedArray]",E="[object Uint16Array]",D="[object Uint32Array]";function P(X,W,F){var H=X.constructor;switch(W){case j:return r(X);case i:case d:return new H(+X);case C:return e(X,F);case w:case _:case z:case S:case R:case I:case $:case E:case D:return s(X,F);case f:return new H;case p:case b:return new H(X);case m:return n(X);case v:return new H;case y:return o(X)}}return Wd=P,Wd}var Qd,Xb;function FS(){if(Xb)return Qd;Xb=1;var r=ql(),e=Object.create,n=(function(){function o(){}return function(s){if(!r(s))return{};if(e)return e(s);o.prototype=s;var i=new o;return o.prototype=void 0,i}})();return Qd=n,Qd}var Zd,Fb;function GS(){if(Fb)return Zd;Fb=1;var r=FS(),e=zb(),n=rd();function o(s){return typeof s.constructor=="function"&&!n(s)?r(e(s)):{}}return Zd=o,Zd}var ef,Gb;function VS(){if(Gb)return ef;Gb=1;var r=hs(),e=Tr(),n="[object Map]";function o(s){return e(s)&&r(s)==n}return ef=o,ef}var tf,Vb;function KS(){if(Vb)return tf;Vb=1;var r=VS(),e=Zu(),n=ed(),o=n&&n.isMap,s=o?e(o):r;return tf=s,tf}var af,Kb;function JS(){if(Kb)return af;Kb=1;var r=hs(),e=Tr(),n="[object Set]";function o(s){return e(s)&&r(s)==n}return af=o,af}var nf,Jb;function WS(){if(Jb)return nf;Jb=1;var r=JS(),e=Zu(),n=ed(),o=n&&n.isSet,s=o?e(o):r;return nf=s,nf}var rf,Wb;function QS(){if(Wb)return rf;Wb=1;var r=Wg(),e=kS(),n=Nb(),o=AS(),s=MS(),i=DS(),d=LS(),f=US(),p=IS(),m=Yv(),v=qS(),b=hs(),y=BS(),j=XS(),C=GS(),w=fs(),_=Vu(),z=KS(),S=ql(),R=WS(),I=ud(),$=Ld(),E=1,D=2,P=4,X="[object Arguments]",W="[object Array]",F="[object Boolean]",H="[object Date]",G="[object Error]",se="[object Function]",V="[object GeneratorFunction]",O="[object Map]",J="[object Number]",te="[object Object]",ne="[object RegExp]",re="[object Set]",T="[object String]",k="[object Symbol]",M="[object WeakMap]",q="[object ArrayBuffer]",le="[object DataView]",ie="[object Float32Array]",he="[object Float64Array]",ae="[object Int8Array]",A="[object Int16Array]",Y="[object Int32Array]",de="[object Uint8Array]",me="[object Uint8ClampedArray]",ge="[object Uint16Array]",Ne="[object Uint32Array]",ve={};ve[X]=ve[W]=ve[q]=ve[le]=ve[F]=ve[H]=ve[ie]=ve[he]=ve[ae]=ve[A]=ve[Y]=ve[O]=ve[J]=ve[te]=ve[ne]=ve[re]=ve[T]=ve[k]=ve[de]=ve[me]=ve[ge]=ve[Ne]=!0,ve[G]=ve[se]=ve[M]=!1;function Te(ye,Ae,De,Nt,la,pa){var _t,mt=Ae&E,Wa=Ae&D,Gr=Ae&P;if(De&&(_t=la?De(ye,Nt,la,pa):De(ye)),_t!==void 0)return _t;if(!S(ye))return ye;var Tt=w(ye);if(Tt){if(_t=y(ye),!mt)return d(ye,_t)}else{var Rt=b(ye),Cn=Rt==se||Rt==V;if(_(ye))return i(ye,mt);if(Rt==te||Rt==X||Cn&&!la){if(_t=Wa||Cn?{}:C(ye),!mt)return Wa?p(ye,s(_t,ye)):f(ye,o(_t,ye))}else{if(!ve[Rt])return la?ye:{};_t=j(ye,Rt,mt)}}pa||(pa=new r);var za=pa.get(ye);if(za)return za;pa.set(ye,_t),R(ye)?ye.forEach(function(Ct){_t.add(Te(Ct,Ae,De,Ct,ye,pa))}):z(ye)&&ye.forEach(function(Ct,et){_t.set(et,Te(Ct,Ae,De,et,ye,pa))});var wn=Gr?Wa?v:m:Wa?$:I,Sn=Tt?void 0:wn(ye);return e(Sn||ye,function(Ct,et){Sn&&(et=Ct,Ct=ye[et]),n(_t,et,Te(Ct,Ae,De,et,ye,pa))}),_t}return rf=Te,rf}var lf,Qb;function ZS(){if(Qb)return lf;Qb=1;var r=QS(),e=1,n=4;function o(s){return r(s,e|n)}return lf=o,lf}ZS(),typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/core"]="0.2.12");const Zb=be.createContext(null),ex=({id:r,related:e=!1,children:n})=>be.createElement(Zb.Provider,{value:{id:r,related:e}},n);function tx(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);e&&(o=o.filter((function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable}))),n.push.apply(n,o)}return n}function tt(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tx(Object(n),!0).forEach((function(o){yt(r,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(n,o))}))}return r}function of(r){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(r)}function ps(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e_(r,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(r,rx(o.key),o)}}function gs(r,e,n){return e&&e_(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function yt(r,e,n){return(e=rx(e))in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function sf(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&cf(r,e)}function vs(r){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(r)}function cf(r,e){return cf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},cf(r,e)}function uf(r,e){if(r==null)return{};var n,o,s=(function(d,f){if(d==null)return{};var p,m,v={},b=Object.keys(d);for(m=0;m<b.length;m++)f.indexOf(p=b[m])>=0||(v[p]=d[p]);return v})(r,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);for(o=0;o<i.length;o++)e.indexOf(n=i[o])>=0||Object.prototype.propertyIsEnumerable.call(r,n)&&(s[n]=r[n])}return s}function Yl(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function df(r){var e=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var n,o=vs(r);if(e){var s=vs(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return(function(i,d){if(d&&(typeof d=="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yl(i)})(this,n)}}function ax(r,e){return(function(n){if(Array.isArray(n))return n})(r)||(function(n,o){var s=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s!=null){var i,d,f,p,m=[],v=!0,b=!1;try{if(f=(s=s.call(n)).next,o!==0)for(;!(v=(i=f.call(s)).done)&&(m.push(i.value),m.length!==o);v=!0);}catch(y){b=!0,d=y}finally{try{if(!v&&s.return!=null&&(p=s.return(),Object(p)!==p))return}finally{if(b)throw d}}return m}})(r,e)||nx(r,e)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Xl(r){return(function(e){if(Array.isArray(e))return ff(e)})(r)||(function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})(r)||nx(r)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function nx(r,e){if(r){if(typeof r=="string")return ff(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ff(r,e):void 0}}function ff(r,e){(e==null||e>r.length)&&(e=r.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=r[n];return o}function rx(r){var e=(function(n,o){if(typeof n!="object"||n===null)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var i=s.call(n,"string");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)})(r);return typeof e=="symbol"?e:String(e)}const hf=L.createContext(null);var lx=L.createContext(null),ox=function(){return L.useContext(lx)};function Zn(r){var e=ox(),n=L.useContext(hf);Qe(n);var o=xS(n,r),s=L.useMemo((function(){return e&&e.createConnectorsUsage()}),[e]);L.useEffect((function(){return s.register(),function(){s.cleanup()}}),[s]);var i=L.useMemo((function(){return s&&pb(s.connectors)}),[s]);return tt(tt({},o),{},{connectors:i,inContext:!!n,store:n})}var t_=["actions","query","connectors"];function bs(r){var e=L.useContext(Zb);Qe(e);var n=e.id,o=e.related,s=Zn((function(v){return n&&v.nodes[n]&&r&&r(v.nodes[n])})),i=s.actions,d=s.connectors,f=uf(s,t_),p=L.useMemo((function(){return pb({connect:function(v){return d.connect(v,n)},drag:function(v){return d.drag(v,n)}})}),[d,n]),m=L.useMemo((function(){return{setProp:function(v,b){b?i.history.throttle(b).setProp(n,v):i.setProp(n,v)},setCustom:function(v,b){b?i.history.throttle(b).setCustom(n,v):i.setCustom(n,v)},setHidden:function(v){return i.setHidden(n,v)}}}),[i,n]);return tt(tt({},f),{},{id:n,related:o,inNodeContext:!!e,actions:m,connectors:p})}var a_=["id","related","actions","inNodeContext","connectors"];function pe(r){var e=bs(r),n=e.id,o=e.related,s=e.actions,i=e.inNodeContext,d=e.connectors;return tt(tt({},uf(e,a_)),{},{actions:s,id:n,related:o,setProp:function(f,p){return bn("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),s.setProp(f,p)},inNodeContext:i,connectors:d})}const n_=({render:r})=>{const{connectors:{connect:e,drag:n}}=pe();return typeof r.type=="string"?e(n(be.cloneElement(r))):r},r_=()=>{const{type:r,props:e,nodes:n,hydrationTimestamp:o}=bs((s=>({type:s.data.type,props:s.data.props,nodes:s.data.nodes,hydrationTimestamp:s._hydrationTimestamp})));return L.useMemo((()=>{let s=e.children;n&&n.length>0&&(s=be.createElement(be.Fragment,null,n.map((d=>be.createElement(mf,{id:d,key:d})))));const i=be.createElement(r,e,s);return typeof r=="string"?be.createElement(n_,{render:i}):i}),[r,e,o,n])},l_=({render:r})=>{const{hidden:e}=bs((o=>({hidden:o.data.hidden}))),{onRender:n}=Zn((o=>({onRender:o.options.onRender})));return e?null:be.createElement(n,{render:r||be.createElement(r_,null)})},mf=({id:r,render:e})=>be.createElement(ex,{id:r},be.createElement(l_,{render:e})),pf={is:"div",canvas:!1,custom:{},hidden:!1},o_={is:"type",canvas:"isCanvas"};function xe({id:r,children:e,...n}){const{is:o}={...pf,...n},{query:s,actions:i}=Zn(),{id:d,inNodeContext:f}=bs(),[p]=L.useState((()=>{Qe(!!r);const m=s.node(d).get();if(f){const v=m.data.linkedNodes[r]?s.node(m.data.linkedNodes[r]).get():null;if(v&&v.data.type===o)return v.id;const b=be.createElement(xe,n,e),y=s.parseReactElement(b).toNodeTree();return i.history.ignore().addLinkedNodeFromTree(y,d,r),y.rootNodeId}return null}));return p?be.createElement(mf,{id:p}):null}const sx=()=>bn("<Canvas />",{suggest:"<Element canvas={true} />"});function gf({...r}){return L.useEffect((()=>sx()),[]),be.createElement(xe,{...r,canvas:!0})}const s_=()=>{const{timestamp:r}=Zn((e=>({timestamp:e.nodes[Fa]&&e.nodes[Fa]._hydrationTimestamp})));return r?be.createElement(mf,{id:Fa,key:r}):null},ix=({children:r,json:e,data:n})=>{const{actions:o,query:s}=Zn();e&&bn("<Frame json={...} />",{suggest:"<Frame data={...} />"});const i=L.useRef(!1);if(!i.current){const d=n||e;if(d)o.history.ignore().deserialize(d);else if(r){const f=be.Children.only(r),p=s.parseReactElement(f).toNodeTree(((m,v)=>(v===f&&(m.id=Fa),m)));o.history.ignore().addNodeTree(p)}i.current=!0}return be.createElement(s_,null)};var cx;(function(r){r[r.Any=0]="Any",r[r.Id=1]="Id",r[r.Obj=2]="Obj"})(cx||(cx={}));const vf=r=>{const{addLinkedNodeFromTree:e,setDOM:n,setNodeEvent:o,replaceNodes:s,reset:i,...d}=r;return d};function Me(r){const{connectors:e,actions:n,query:o,store:s,...i}=Zn(r),d=vf(n);return{connectors:e,actions:L.useMemo((()=>({...d,history:{...d.history,ignore:(...f)=>vf(d.history.ignore(...f)),throttle:(...f)=>vf(d.history.throttle(...f))}})),[d]),query:o,store:s,...i}}var ux=function(r){return Object.fromEntries?Object.fromEntries(r):r.reduce((function(e,n){var o=ax(n,2),s=o[0],i=o[1];return tt(tt({},e),{},yt({},s,i))}),{})},Ga=function(r,e,n){var o=Array.isArray(e)?e:[e],s=tt({existOnly:!1,idOnly:!1},n||{}),i=o.filter((function(d){return!!d})).map((function(d){return typeof d=="string"?{node:r[d],exists:!!r[d]}:of(d)!=="object"||s.idOnly?{node:null,exists:!1}:{node:d,exists:!!r[d.id]}}));return s.existOnly&&Qe(i.filter((function(d){return!d.exists})).length===0),i},i_=["history"],Rr=null,xs=function(r,e){if(typeof e=="string")return e;var n,o=(function(s,i){var d=(function(f){if(Rr&&Rr.resolver===f)return Rr.reversed;Rr={resolver:f,reversed:new Map};for(var p=0,m=Object.entries(f);p<m.length;p++){var v=ax(m[p],2);Rr.reversed.set(v[1],v[0])}return Rr.reversed})(s).get(i);return d!==void 0?d:null})(r,e);return Qe(o,rb.replace("%node_type%",(n=e).name||n.displayName)),o};const c_=(r,e)=>typeof r=="string"?r:{resolvedName:xs(e,r)},bf=(r,e)=>{let{type:n,isCanvas:o,props:s}=r;return s=Object.keys(s).reduce(((i,d)=>{const f=s[d];return f==null||typeof f=="function"||(i[d]=d==="children"&&typeof f!="string"?L.Children.map(f,(p=>typeof p=="string"?p:bf(p,e))):typeof f.type=="function"?bf(f,e):f),i}),{}),{type:c_(n,e),isCanvas:!!o,props:s}},u_=(r,e)=>{const{type:n,props:o,isCanvas:s,name:i,...d}=r;return{...bf({type:n,isCanvas:s,props:o},e),...d}};function xf(r,e){Qe(typeof e=="string");var n=r.nodes[e],o=function(s){return xf(r,s)};return{isCanvas:function(){return!!n.data.isCanvas},isRoot:function(){return n.id===Fa},isLinkedNode:function(){return n.data.parent&&o(n.data.parent).linkedNodes().includes(n.id)},isTopLevelNode:function(){return this.isRoot()||this.isLinkedNode()},isDeletable:function(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:function(){return n.data.linkedNodes&&Object.keys(n.data.linkedNodes).length>0},isParentOfTopLevelCanvas:function(){return bn("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:function(){return r.events.selected.has(e)},isHovered:function(){return r.events.hovered.has(e)},isDragged:function(){return r.events.dragged.has(e)},get:function(){return n},ancestors:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(function i(d){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,m=r.nodes[d];return m?(f.push(d),m.data.parent&&(s||!s&&p===0)&&(f=i(m.data.parent,f,p+1)),f):f})(n.data.parent)},descendants:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0;return(function d(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return(s||!s&&m===0)&&r.nodes[f]&&(i!=="childNodes"&&o(f).linkedNodes().forEach((function(v){p.push(v),p=d(v,p,m+1)})),i!=="linkedNodes"&&o(f).childNodes().forEach((function(v){p.push(v),p=d(v,p,m+1)}))),p})(e)},linkedNodes:function(){return Object.values(n.data.linkedNodes||{})},childNodes:function(){return n.data.nodes||[]},isDraggable:function(s){try{var i=n;return Qe(!this.isTopLevelNode(),nb),Qe(xf(r,i.data.parent).isCanvas(),ab),Qe(i.rules.canDrag(i,o),fS),!0}catch(d){return s&&s(d),!1}},isDroppable:function(s,i){var d=Ga(r.nodes,s),f=n;try{Qe(this.isCanvas(),uS),Qe(f.rules.canMoveIn(d.map((function(m){return m.node})),f,o),iS);var p={};return d.forEach((function(m){var v=m.node,b=m.exists;if(Qe(v.rules.canDrop(f,v,o),sS),b){Qe(!o(v.id).isTopLevelNode(),nb);var y=o(v.id).descendants(!0);Qe(!y.includes(f.id)&&f.id!==v.id,dS);var j=v.data.parent&&r.nodes[v.data.parent];Qe(j.data.isCanvas,ab),Qe(j||!j&&!r.nodes[v.id],oS),j.id!==f.id&&(p[j.id]||(p[j.id]=[]),p[j.id].push(v))}})),Object.keys(p).forEach((function(m){var v=r.nodes[m];Qe(v.rules.canMoveOut(p[m],v,o),cS)})),!0}catch(m){return i&&i(m),!1}},toSerializedNode:function(){return u_(n.data,r.options.resolver)},toNodeTree:function(s){var i=[e].concat(Xl(this.descendants(!0,s))).reduce((function(d,f){return d[f]=o(f).get(),d}),{});return{rootNodeId:e,nodes:i}},decendants:function(){var s=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return bn("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(s)},isTopLevelCanvas:function(){return!this.isRoot()&&!n.data.parent}}}function dx(r,e,n,o){for(var s={parent:r,index:0,where:"before"},i=0,d=0,f=0,p=0,m=0,v=0,b=0,y=e.length;b<y;b++){var j=e[b];if(v=j.top+j.outerHeight,p=j.left+j.outerWidth/2,m=j.top+j.outerHeight/2,!(d&&j.left>d||f&&m>=f||i&&j.left+j.outerWidth<i))if(s.index=b,j.inFlow){if(o<m){s.where="before";break}s.where="after"}else o<v&&(f=v),n<p?(d=p,s.where="before"):(i=p,s.where="after")}return s}var ys=function(r){return typeof r=="string"?r:r.name};function fx(r,e){var n=r.data.type,o={id:r.id||fb(),_hydrationTimestamp:Date.now(),data:tt({type:n,name:ys(n),displayName:ys(n),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},r.data),info:{},related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:function(){return!0},canDrop:function(){return!0},canMoveIn:function(){return!0},canMoveOut:function(){return!0}},dom:null};if(o.data.type===xe||o.data.type===gf){var s=tt(tt({},pf),o.data.props);o.data.props=Object.keys(o.data.props).reduce((function(f,p){return Object.keys(pf).includes(p)?o.data[o_[p]||p]=s[p]:f[p]=o.data.props[p],f}),{}),o.data.name=ys(n=o.data.type),o.data.displayName=ys(n),o.data.type===gf&&(o.data.isCanvas=!0,sx())}e&&e(o);var i=n.craft;if(i){if(o.data.displayName=i.displayName||i.name||o.data.displayName,o.data.props=tt(tt({},i.props||i.defaultProps||{}),o.data.props),o.data.custom=tt(tt({},i.custom||{}),o.data.custom),i.isCanvas!=null&&(o.data.isCanvas=i.isCanvas),i.rules&&Object.keys(i.rules).forEach((function(f){["canDrag","canDrop","canMoveIn","canMoveOut"].includes(f)&&(o.rules[f]=i.rules[f])})),i.related){var d={id:o.id,related:!0};Object.keys(i.related).forEach((function(f){o.related[f]=function(p){return be.createElement(ex,d,be.createElement(i.related[f],p))}}))}i.info&&(o.info=i.info)}return o}const yf=(r,e,n)=>{let{type:o,props:s}=r;const i=((f,p)=>typeof f=="object"&&f.resolvedName?f.resolvedName==="Canvas"?gf:p[f.resolvedName]:typeof f=="string"?f:null)(o,e);if(!i)return;s=Object.keys(s).reduce(((f,p)=>{const m=s[p];return f[p]=m==null?null:typeof m=="object"&&m.resolvedName?yf(m,e):p==="children"&&Array.isArray(m)?m.map((v=>typeof v=="string"?v:yf(v,e))):m,f}),{});const d={...be.createElement(i,{...s})};return{...d,name:xs(e,d.type)}},d_=(r,e)=>{const{type:n,props:o,...s}=r;Qe(n!==void 0&&typeof n=="string"||n!==void 0&&n.resolvedName!==void 0,hS.replace("%displayName%",r.displayName).replace("%availableComponents%",Object.keys(e).join(", ")));const{type:i,name:d,props:f}=yf(r,e),{parent:p,custom:m,displayName:v,isCanvas:b,nodes:y,hidden:j}=s;return{type:i,name:d,displayName:v||d,props:f,custom:m||{},isCanvas:!!b,hidden:!!j,parent:p,linkedNodes:s.linkedNodes||s._childCanvas||{},nodes:y||[]}},f_=(r,e)=>{if(e.length<1)return{[r.id]:r};const n=e.map((({rootNodeId:s})=>s)),o={...r,data:{...r.data,nodes:n}};return e.reduce(((s,i)=>{const d=i.nodes[i.rootNodeId];return{...s,...i.nodes,[d.id]:{...d,data:{...d.data,parent:r.id}}}}),{[r.id]:o})},h_=(r,e)=>({rootNodeId:r.id,nodes:f_(r,e)});function hx(r){const e=r&&r.options,n=()=>hx(r);return{getDropPlaceholder:(o,s,i,d=(f=>r.nodes[f.id].dom))=>{const f=r.nodes[s],p=n().node(f.id).isCanvas()?f:r.nodes[f.data.parent];if(!p)return;const m=p.data.nodes||[],v=dx(p,m?m.reduce(((j,C)=>{const w=d(r.nodes[C]);if(w){const _={id:C,...Hl(w)};j.push(_)}return j}),[]):[],i.x,i.y),b=m.length&&r.nodes[m[v.index]],y={placement:{...v,currentNode:b},error:null};return Ga(r.nodes,o).forEach((({node:j,exists:C})=>{C&&n().node(j.id).isDraggable((w=>y.error=w))})),n().node(p.id).isDroppable(o,(j=>y.error=j)),y},getOptions:()=>e,getNodes:()=>r.nodes,node:o=>xf(r,o),getSerializedNodes(){const o=Object.keys(r.nodes).map((s=>[s,this.node(s).toSerializedNode()]));return ux(o)},getEvent:o=>(function(s,i){var d=s.events[i];return{contains:function(f){return d.has(f)},isEmpty:function(){return this.all().length===0},first:function(){return this.all()[0]},last:function(){var f=this.all();return f[f.length-1]},all:function(){return Array.from(d)},size:function(){return this.all().length},at:function(f){return this.all()[f]},raw:function(){return d}}})(r,o),serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:o=>({toNodeTree(s){let i=(function(f,p){let m=f;return typeof m=="string"&&(m=be.createElement(L.Fragment,{},m)),fx({data:{type:m.type,props:{...m.props}}},(v=>{p&&p(v,m)}))})(o,((f,p)=>{const m=xs(r.options.resolver,f.data.type);f.data.displayName=f.data.displayName||m,f.data.name=m,s&&s(f,p)})),d=[];return o.props&&o.props.children&&(d=be.Children.toArray(o.props.children).reduce(((f,p)=>(be.isValidElement(p)&&f.push(n().parseReactElement(p).toNodeTree(s)),f)),[])),h_(i,d)}}),parseSerializedNode:o=>({toNode(s){const i=d_(o,r.options.resolver);Qe(i.type);const d=typeof s=="string"&&s;return d&&bn("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),n().parseFreshNode({...d?{id:d}:{},data:i}).toNode(!d&&s)}}),parseFreshNode:o=>({toNode:s=>fx(o,(i=>{i.data.parent===tb&&(i.data.parent=Fa);const d=xs(r.options.resolver,i.data.type);Qe(d!==null),i.data.displayName=i.data.displayName||d,i.data.name=d,s&&s(i)}))}),createNode(o,s){bn(`query.createNode(${o})`,{suggest:`query.parseReactElement(${o}).toNodeTree()`});const i=this.parseReactElement(o).toNodeTree(),d=i.nodes[i.rootNodeId];return s&&(s.id&&(d.id=s.id),s.data&&(d.data={...d.data,...s.data})),d},getState:()=>r}}var m_=(function(r){sf(n,hb);var e=df(n);function n(){return ps(this,n),e.apply(this,arguments)}return gs(n,[{key:"handlers",value:function(){return{connect:function(o,s){},select:function(o,s){},hover:function(o,s){},drag:function(o,s){},drop:function(o,s){},create:function(o,s,i){}}}}]),n})();(function(r){sf(n,jS);var e=df(n);function n(){return ps(this,n),e.apply(this,arguments)}return gs(n)})();var mx=function(r){r.preventDefault()},jf=(function(){function r(e,n){ps(this,r),yt(this,"store",void 0),yt(this,"dragTarget",void 0),yt(this,"currentDropTargetId",void 0),yt(this,"currentDropTargetCanvasAncestorId",void 0),yt(this,"currentIndicator",null),yt(this,"currentTargetId",void 0),yt(this,"currentTargetChildDimensions",void 0),yt(this,"dragError",void 0),yt(this,"draggedNodes",void 0),yt(this,"onScrollListener",void 0),this.store=e,this.dragTarget=n,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0),window.addEventListener("dragover",mx,!1)}return gs(r,[{key:"cleanup",value:function(){window.removeEventListener("scroll",this.onScrollListener,!0),window.removeEventListener("dragover",mx,!1)}},{key:"onScroll",value:function(e){var n=e.target,o=this.store.query.node(Fa).get();n instanceof Element&&o&&o.dom&&n.contains(o.dom)&&(this.currentTargetChildDimensions=null)}},{key:"getDraggedNodes",value:function(){return Ga(this.store.query.getNodes(),this.dragTarget.type==="new"?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}},{key:"validateDraggedNodes",value:function(){var e=this;this.dragTarget.type!=="new"&&this.draggedNodes.forEach((function(n){n.exists&&e.store.query.node(n.node.id).isDraggable((function(o){e.dragError=o}))}))}},{key:"isNearBorders",value:function(e,n,o){return e.top+r.BORDER_OFFSET>o||e.bottom-r.BORDER_OFFSET<o||e.left+r.BORDER_OFFSET>n||e.right-r.BORDER_OFFSET<n}},{key:"isDiff",value:function(e){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==e.parent.id||this.currentIndicator.placement.index!==e.index||this.currentIndicator.placement.where!==e.where}},{key:"getChildDimensions",value:function(e){var n=this,o=this.currentTargetChildDimensions;return this.currentTargetId===e.id&&o?o:e.data.nodes.reduce((function(s,i){var d=n.store.query.node(i).get().dom;return d&&s.push(tt({id:i},Hl(d))),s}),[])}},{key:"getCanvasAncestor",value:function(e){var n=this;if(e===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){var o=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(o)return o}return(function s(i){var d=n.store.query.node(i).get();return d&&d.data.isCanvas?d:d.data.parent?s(d.data.parent):null})(e)}},{key:"computeIndicator",value:function(e,n,o){var s=this.getCanvasAncestor(e);if(s&&(this.currentDropTargetId=e,this.currentDropTargetCanvasAncestorId=s.id,s.data.parent&&this.isNearBorders(Hl(s.dom),n,o)&&!this.store.query.node(s.id).isLinkedNode()&&(s=this.store.query.node(s.data.parent).get()),s)){this.currentTargetChildDimensions=this.getChildDimensions(s),this.currentTargetId=s.id;var i=dx(s,this.currentTargetChildDimensions,n,o);if(this.isDiff(i)){var d=this.dragError;d||this.store.query.node(s.id).isDroppable(this.draggedNodes.map((function(m){return m.node})),(function(m){d=m}));var f=s.data.nodes[i.index],p=f&&this.store.query.node(f).get();return this.currentIndicator={placement:tt(tt({},i),{},{currentNode:p}),error:d},this.currentIndicator}}}},{key:"getIndicator",value:function(){return this.currentIndicator}}]),r})();yt(jf,"BORDER_OFFSET",10);var px=function(r,e){if(e.length===1||arguments.length>2&&arguments[2]!==void 0&&arguments[2]){var n=e[0].getBoundingClientRect(),o=n.width,s=n.height,i=e[0].cloneNode(!0);return i.style.position="absolute",i.style.left="-100%",i.style.top="-100%",i.style.width="".concat(o,"px"),i.style.height="".concat(s,"px"),i.style.pointerEvents="none",i.classList.add("drag-shadow"),document.body.appendChild(i),r.dataTransfer.setDragImage(i,0,0),i}var d=document.createElement("div");return d.style.position="absolute",d.style.left="-100%",d.style.top="-100%",d.style.width="100%",d.style.height="100%",d.style.pointerEvents="none",d.classList.add("drag-shadow-container"),e.forEach((function(f){var p=f.getBoundingClientRect(),m=p.width,v=p.height,b=p.top,y=p.left,j=f.cloneNode(!0);j.style.position="absolute",j.style.left="".concat(y,"px"),j.style.top="".concat(b,"px"),j.style.width="".concat(m,"px"),j.style.height="".concat(v,"px"),j.classList.add("drag-shadow"),d.appendChild(j)})),document.body.appendChild(d),r.dataTransfer.setDragImage(d,r.clientX,r.clientY),d},gx=(function(r){sf(n,m_);var e=df(n);function n(){var o;ps(this,n);for(var s=arguments.length,i=new Array(s),d=0;d<s;d++)i[d]=arguments[d];return yt(Yl(o=e.call.apply(e,[this].concat(i))),"draggedElementShadow",void 0),yt(Yl(o),"dragTarget",void 0),yt(Yl(o),"positioner",null),yt(Yl(o),"currentSelectedElementIds",[]),o}return gs(n,[{key:"onDisable",value:function(){this.options.store.actions.clearEvents()}},{key:"handlers",value:function(){var o=this,s=this.options.store;return{connect:function(i,d){return s.actions.setDOM(d,i),o.reflect((function(f){f.select(i,d),f.hover(i,d),f.drop(i,d)}))},select:function(i,d){var f=o.addCraftEventListener(i,"mousedown",(function(m){m.craft.stopPropagation();var v=[];if(d){var b=s.query,y=b.getEvent("selected").all();(o.options.isMultiSelectEnabled(m)||y.includes(d))&&(v=y.filter((function(j){var C=b.node(j).descendants(!0),w=b.node(j).ancestors(!0);return!C.includes(d)&&!w.includes(d)}))),v.includes(d)||v.push(d)}s.actions.setNodeEvent("selected",v)})),p=o.addCraftEventListener(i,"click",(function(m){m.craft.stopPropagation();var v=s.query.getEvent("selected").all(),b=o.options.isMultiSelectEnabled(m),y=o.currentSelectedElementIds.includes(d),j=Xl(v);b&&y?(j.splice(j.indexOf(d),1),s.actions.setNodeEvent("selected",j)):!b&&v.length>1&&s.actions.setNodeEvent("selected",j=[d]),o.currentSelectedElementIds=j}));return function(){f(),p()}},hover:function(i,d){var f=o.addCraftEventListener(i,"mouseover",(function(m){m.craft.stopPropagation(),s.actions.setNodeEvent("hovered",d)})),p=null;return o.options.removeHoverOnMouseleave&&(p=o.addCraftEventListener(i,"mouseleave",(function(m){m.craft.stopPropagation(),s.actions.setNodeEvent("hovered",null)}))),function(){f(),p&&p()}},drop:function(i,d){var f=o.addCraftEventListener(i,"dragover",(function(m){if(m.craft.stopPropagation(),m.preventDefault(),o.positioner){var v=o.positioner.computeIndicator(d,m.clientX,m.clientY);v&&s.actions.setIndicator(v)}})),p=o.addCraftEventListener(i,"dragenter",(function(m){m.craft.stopPropagation(),m.preventDefault()}));return function(){p(),f()}},drag:function(i,d){if(!s.query.node(d).isDraggable())return function(){};i.setAttribute("draggable","true");var f=o.addCraftEventListener(i,"dragstart",(function(m){m.craft.stopPropagation();var v=s.query,b=s.actions,y=v.getEvent("selected").all(),j=o.options.isMultiSelectEnabled(m);o.currentSelectedElementIds.includes(d)||(y=j?[].concat(Xl(y),[d]):[d],s.actions.setNodeEvent("selected",y)),b.setNodeEvent("dragged",y);var C=y.map((function(w){return v.node(w).get().dom}));o.draggedElementShadow=px(m,C,n.forceSingleDragShadow),o.dragTarget={type:"existing",nodes:y},o.positioner=new jf(o.options.store,o.dragTarget)})),p=o.addCraftEventListener(i,"dragend",(function(m){m.craft.stopPropagation(),o.dropElement((function(v,b){v.type!=="new"&&s.actions.move(v.nodes,b.placement.parent.id,b.placement.index+(b.placement.where==="after"?1:0))}))}));return function(){i.setAttribute("draggable","false"),f(),p()}},create:function(i,d,f){i.setAttribute("draggable","true");var p=o.addCraftEventListener(i,"dragstart",(function(v){var b;if(v.craft.stopPropagation(),typeof d=="function"){var y=d();b=be.isValidElement(y)?s.query.parseReactElement(y).toNodeTree():y}else b=s.query.parseReactElement(d).toNodeTree();o.draggedElementShadow=px(v,[v.currentTarget],n.forceSingleDragShadow),o.dragTarget={type:"new",tree:b},o.positioner=new jf(o.options.store,o.dragTarget)})),m=o.addCraftEventListener(i,"dragend",(function(v){v.craft.stopPropagation(),o.dropElement((function(b,y){b.type!=="existing"&&(s.actions.addNodeTree(b.tree,y.placement.parent.id,y.placement.index+(y.placement.where==="after"?1:0)),f&&ES(f.onCreate)&&f.onCreate(b.tree))}))}));return function(){i.removeAttribute("draggable"),p(),m()}}}}},{key:"dropElement",value:function(o){var s=this.options.store;if(this.positioner){var i=this.draggedElementShadow,d=this.positioner.getIndicator();this.dragTarget&&d&&!d.error&&o(this.dragTarget,d),i&&(i.parentNode.removeChild(i),this.draggedElementShadow=null),this.dragTarget=null,s.actions.setIndicator(null),s.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}}]),n})();function p_(r,e,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,s=0,i=0,d=0,f=0,p=r.where;return n?n.inFlow?(d=n.outerWidth,f=o,s=p==="before"?n.top:n.bottom,i=n.left):(d=o,f=n.outerHeight,s=n.top,i=p==="before"?n.left:n.left+n.outerWidth):e&&(s=e.top+e.padding.top,i=e.left+e.padding.left,d=e.outerWidth-e.padding.right-e.padding.left-e.margin.left-e.margin.right,f=o),{top:"".concat(s,"px"),left:"".concat(i,"px"),width:"".concat(d,"px"),height:"".concat(f,"px")}}yt(gx,"forceSingleDragShadow",_S()&&SS());const g_=()=>{const{indicator:r,indicatorOptions:e,enabled:n}=Zn((s=>({indicator:s.indicator,indicatorOptions:s.options.indicator,enabled:s.options.enabled}))),o=ox();return L.useEffect((()=>{o&&(n?o.enable():o.disable())}),[n,o]),r?be.createElement(wS,{className:e.className,style:{...p_(r.placement,Hl(r.placement.parent.dom),r.placement.currentNode&&Hl(r.placement.currentNode.dom),e.thickness),backgroundColor:r.error?e.error:e.success,transition:e.transition||"0.2s ease-in",...e.style??{}},parentDom:r.placement.parent.dom}):null},v_=({children:r})=>{const e=L.useContext(hf),n=L.useMemo((()=>e.query.getOptions().handlers(e)),[e]);return n?be.createElement(lx.Provider,{value:n},be.createElement(g_,null),r):null},vx={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:r})=>r,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},handlers:r=>new gx({store:r,removeHoverOnMouseleave:!1,isMultiSelectEnabled:e=>!!e.metaKey}),normalizeNodes:()=>{}}},b_={methods:function(r,e){return tt(tt({},(function(n,o){var s=function(f,p,m){if((function y(j,C){var w=f.nodes[j];typeof w.data.type!="string"&&Qe(n.options.resolver[w.data.name],rb.replace("%node_type%","".concat(w.data.type.name))),n.nodes[j]=tt(tt({},w),{},{data:tt(tt({},w.data),{},{parent:C})}),w.data.nodes.length>0&&(delete n.nodes[j].data.props.children,w.data.nodes.forEach((function(_){return y(_,w.id)}))),Object.values(w.data.linkedNodes).forEach((function(_){return y(_,w.id)}))})(f.rootNodeId,p),p||f.rootNodeId!==Fa){var v=i(p);if(m.type!=="child")v.data.linkedNodes[m.id]=f.rootNodeId;else{var b=m.index;b!=null?v.data.nodes.splice(b,0,f.rootNodeId):v.data.nodes.push(f.rootNodeId)}}},i=function(f){Qe(f);var p=n.nodes[f];return Qe(p),p},d=function f(p){var m=n.nodes[p],v=n.nodes[m.data.parent];if(m.data.nodes&&Xl(m.data.nodes).forEach((function(j){return f(j)})),m.data.linkedNodes&&Object.values(m.data.linkedNodes).map((function(j){return f(j)})),v.data.nodes.includes(p)){var b=v.data.nodes;b.splice(b.indexOf(p),1)}else{var y=Object.keys(v.data.linkedNodes).find((function(j){return v.data.linkedNodes[j]===j}));y&&delete v.data.linkedNodes[y]}(function(j,C){Object.keys(j.events).forEach((function(w){var _=j.events[w];_&&_.has&&_.has(C)&&(j.events[w]=new Set(Array.from(_).filter((function(z){return C!==z}))))}))})(n,p),delete n.nodes[p]};return{addLinkedNodeFromTree:function(f,p,m){var v=i(p).data.linkedNodes[m];v&&d(v),s(f,p,{type:"linked",id:m})},add:function(f,p,m){var v=[f];Array.isArray(f)&&(bn("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),v=f),v.forEach((function(b){s({nodes:yt({},b.id,b),rootNodeId:b.id},p,{type:"child",index:m})}))},addNodeTree:function(f,p,m){s(f,p,{type:"child",index:m})},delete:function(f){Ga(n.nodes,f,{existOnly:!0,idOnly:!0}).forEach((function(p){var m=p.node;Qe(!o.node(m.id).isTopLevelNode()),d(m.id)}))},deserialize:function(f){var p=typeof f=="string"?JSON.parse(f):f,m=Object.keys(p).map((function(v){var b=v;return v===tb&&(b=Fa),[b,o.parseSerializedNode(p[v]).toNode((function(y){return y.id=b}))]}));this.replaceNodes(ux(m))},move:function(f,p,m){var v=Ga(n.nodes,f,{existOnly:!0}),b=n.nodes[p],y=new Set;v.forEach((function(j,C){var w=j.node,_=w.id,z=w.data.parent;o.node(p).isDroppable([_],(function(I){throw new Error(I)})),n.options.onBeforeMoveEnd(w,b,n.nodes[z]);var S=n.nodes[z].data.nodes;y.add(S);var R=S.indexOf(_);S[R]="$$",b.data.nodes.splice(m+C,0,_),n.nodes[_].data.parent=p})),y.forEach((function(j){var C=j.length;Xl(j).reverse().forEach((function(w,_){w==="$$"&&j.splice(C-1-_,1)}))}))},replaceNodes:function(f){this.clearEvents(),n.nodes=f},clearEvents:function(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset:function(){this.clearEvents(),this.replaceNodes({})},setOptions:function(f){f(n.options)},setNodeEvent:function(f,p){if(n.events[f].forEach((function(b){n.nodes[b]&&(n.nodes[b].events[f]=!1)})),n.events[f]=new Set,p){var m=Ga(n.nodes,p,{idOnly:!0,existOnly:!0}),v=new Set(m.map((function(b){return b.node.id})));v.forEach((function(b){n.nodes[b].events[f]=!0})),n.events[f]=v}},setCustom:function(f,p){Ga(n.nodes,f,{idOnly:!0,existOnly:!0}).forEach((function(m){return p(n.nodes[m.node.id].data.custom)}))},setDOM:function(f,p){n.nodes[f]&&(n.nodes[f].dom=p)},setIndicator:function(f){f&&(!f.placement.parent.dom||f.placement.currentNode&&!f.placement.currentNode.dom)||(n.indicator=f)},setHidden:function(f,p){n.nodes[f].data.hidden=p},setProp:function(f,p){Ga(n.nodes,f,{idOnly:!0,existOnly:!0}).forEach((function(m){return p(n.nodes[m.node.id].data.props)}))},selectNode:function(f){if(f){var p=Ga(n.nodes,f,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",p.map((function(m){return m.node.id})))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}}})(r,e)),{},{setState:function(n){var o=uf(this,i_);n(r,o)}})},ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:r=>{Object.keys(r.events).forEach((e=>{Array.from(r.events[e]||[]).forEach((n=>{r.nodes[n]||r.events[e].delete(n)}))})),Object.keys(r.nodes).forEach((e=>{const n=r.nodes[e];Object.keys(n.events).forEach((o=>{n.events[o]&&r.events[o]&&!r.events[o].has(n.id)&&(n.events[o]=!1)}))}))}},x_=(r,e)=>gS(b_,{...vx,options:{...vx.options,...r}},hx,e),y_=({children:r,...e})=>{e.resolver!==void 0&&Qe(typeof e.resolver=="object"&&!Array.isArray(e.resolver)&&e.resolver!==null);const n=L.useRef(e),o=x_(n.current,((s,i,d,f,p)=>{if(!d)return;const{patches:m,...v}=d;for(let b=0;b<m.length;b++){const{path:y}=m[b],j=y.length>2&&y[0]==="nodes"&&y[2]==="data";if([st.IGNORE,st.THROTTLE].includes(v.type)&&v.params&&(v.type=v.params[0]),["setState","deserialize"].includes(v.type)||j){p((C=>{s.options.normalizeNodes&&s.options.normalizeNodes(C,i,v,f)}));break}}}));return L.useEffect((()=>{o&&e.enabled!==void 0&&o.query.getOptions().enabled!==e.enabled&&o.actions.setOptions((s=>{s.enabled=e.enabled}))}),[o,e.enabled]),L.useEffect((()=>{o.subscribe((s=>({json:o.query.serialize()})),(()=>{o.query.getOptions().onNodesChange(o.query)}))}),[o]),o?L.createElement(hf.Provider,{value:o},L.createElement(v_,null,r)):null};/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var bx="popstate";function j_(r={}){function e(s,i){let{pathname:d="/",search:f="",hash:p=""}=er(s.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Nf("",{pathname:d,search:f,hash:p},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let d=s.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=s.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof i=="string"?i:Fl(i))}function o(s,i){Xt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return C_(e,n,o,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Xt(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N_(){return Math.random().toString(36).substring(2,10)}function xx(r,e){return{usr:r.state,key:r.key,idx:e}}function Nf(r,e,n=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?er(e):e,state:n,key:e&&e.key||o||N_()}}function Fl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function er(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let o=r.indexOf("?");o>=0&&(e.search=r.substring(o),r=r.substring(0,o)),r&&(e.pathname=r)}return e}function C_(r,e,n,o={}){let{window:s=document.defaultView,v5Compat:i=!1}=o,d=s.history,f="POP",p=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function b(){f="POP";let _=v(),z=_==null?null:_-m;m=_,p&&p({action:f,location:w.location,delta:z})}function y(_,z){f="PUSH";let S=Nf(w.location,_,z);n&&n(S,_),m=v()+1;let R=xx(S,m),I=w.createHref(S);try{d.pushState(R,"",I)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;s.location.assign(I)}i&&p&&p({action:f,location:w.location,delta:1})}function j(_,z){f="REPLACE";let S=Nf(w.location,_,z);n&&n(S,_),m=v();let R=xx(S,m),I=w.createHref(S);d.replaceState(R,"",I),i&&p&&p({action:f,location:w.location,delta:0})}function C(_){return w_(_)}let w={get action(){return f},get location(){return r(s,d)},listen(_){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(bx,b),p=_,()=>{s.removeEventListener(bx,b),p=null}},createHref(_){return e(s,_)},createURL:C,encodeLocation(_){let z=C(_);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:y,replace:j,go(_){return d.go(_)}};return w}function w_(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),rt(n,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:Fl(r);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=n+o),new URL(o,n)}function yx(r,e,n="/"){return S_(r,e,n,!1)}function S_(r,e,n,o){let s=typeof e=="string"?er(e):e,i=Va(s.pathname||"/",n);if(i==null)return null;let d=jx(r);__(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let m=U_(i);f=D_(d[p],m,o)}return f}function jx(r,e=[],n=[],o="",s=!1){let i=(d,f,p=s,m)=>{let v={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(o)&&p)return;rt(v.relativePath.startsWith(o),`Absolute route path "${v.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(o.length)}let b=Ka([o,v.relativePath]),y=n.concat(v);d.children&&d.children.length>0&&(rt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),jx(d.children,e,y,b,p)),!(d.path==null&&!d.index)&&e.push({path:b,score:z_(b,d.index),routesMeta:y})};return r.forEach((d,f)=>{if(d.path===""||!d.path?.includes("?"))i(d,f);else for(let p of Nx(d.path))i(d,f,!0,p)}),e}function Nx(r){let e=r.split("/");if(e.length===0)return[];let[n,...o]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(o.length===0)return s?[i,""]:[i];let d=Nx(o.join("/")),f=[];return f.push(...d.map(p=>p===""?i:[i,p].join("/"))),s&&f.push(...d),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function __(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:M_(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var T_=/^:[\w-]+$/,E_=3,k_=2,O_=1,A_=10,R_=-2,Cx=r=>r==="*";function z_(r,e){let n=r.split("/"),o=n.length;return n.some(Cx)&&(o+=R_),e&&(o+=k_),n.filter(s=>!Cx(s)).reduce((s,i)=>s+(T_.test(i)?E_:i===""?O_:A_),o)}function M_(r,e){return r.length===e.length&&r.slice(0,-1).every((o,s)=>o===e[s])?r[r.length-1]-e[e.length-1]:0}function D_(r,e,n=!1){let{routesMeta:o}=r,s={},i="/",d=[];for(let f=0;f<o.length;++f){let p=o[f],m=f===o.length-1,v=i==="/"?e:e.slice(i.length)||"/",b=js({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),y=p.route;if(!b&&m&&n&&!o[o.length-1].route.index&&(b=js({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(s,b.params),d.push({params:s,pathname:Ka([i,b.pathname]),pathnameBase:P_(Ka([i,b.pathnameBase])),route:y}),b.pathnameBase!=="/"&&(i=Ka([i,b.pathnameBase]))}return d}function js(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,o]=L_(r.path,r.caseSensitive,r.end),s=e.match(n);if(!s)return null;let i=s[0],d=i.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((m,{paramName:v,isOptional:b},y)=>{if(v==="*"){let C=f[y]||"";d=i.slice(0,i.length-C.length).replace(/(.)\/+$/,"$1")}const j=f[y];return b&&!j?m[v]=void 0:m[v]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:d,pattern:r}}function L_(r,e=!1,n=!0){Xt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],s="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),s+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":r!==""&&r!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function U_(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Va(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=r.charAt(n);return o&&o!=="/"?null:r.slice(n)||"/"}var wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I_=r=>wx.test(r);function q_(r,e="/"){let{pathname:n,search:o="",hash:s=""}=typeof r=="string"?er(r):r,i;if(n)if(I_(n))i=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?i=Sx(n.substring(1),"/"):i=Sx(n,e)}else i=e;return{pathname:i,search:H_(o),hash:$_(s)}}function Sx(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Cf(r,e,n,o){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B_(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wf(r){let e=B_(r);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function Sf(r,e,n,o=!1){let s;typeof r=="string"?s=er(r):(s={...r},rt(!s.pathname||!s.pathname.includes("?"),Cf("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),Cf("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),Cf("#","search","hash",s)));let i=r===""||s.pathname==="",d=i?"/":s.pathname,f;if(d==null)f=n;else{let b=e.length-1;if(!o&&d.startsWith("..")){let y=d.split("/");for(;y[0]==="..";)y.shift(),b-=1;s.pathname=y.join("/")}f=b>=0?e[b]:"/"}let p=q_(s,f),m=d&&d!=="/"&&d.endsWith("/"),v=(i||d===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Ka=r=>r.join("/").replace(/\/\/+/g,"/"),P_=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),H_=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$_=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Y_=class{constructor(r,e,n,o=!1){this.status=r,this.statusText=e||"",this.internal=o,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function X_(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function F_(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tx(r,e){let n=r;if(typeof n!="string"||!wx.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let o=n,s=!1;if(_x)try{let i=new URL(window.location.href),d=n.startsWith("//")?new URL(i.protocol+n):new URL(n),f=Va(d.pathname,e);d.origin===i.origin&&f!=null?n=f+d.search+d.hash:s=!0}catch{Xt(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ex=["POST","PUT","PATCH","DELETE"];new Set(Ex);var G_=["GET",...Ex];new Set(G_);var zr=L.createContext(null);zr.displayName="DataRouter";var Ns=L.createContext(null);Ns.displayName="DataRouterState";var V_=L.createContext(!1),kx=L.createContext({isTransitioning:!1});kx.displayName="ViewTransition";var K_=L.createContext(new Map);K_.displayName="Fetchers";var J_=L.createContext(null);J_.displayName="Await";var ea=L.createContext(null);ea.displayName="Navigation";var Gl=L.createContext(null);Gl.displayName="Location";var Ta=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ta.displayName="Route";var _f=L.createContext(null);_f.displayName="RouteError";var Ox="REACT_ROUTER_ERROR",W_="REDIRECT",Q_="ROUTE_ERROR_RESPONSE";function Z_(r){if(r.startsWith(`${Ox}:${W_}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eT(r){if(r.startsWith(`${Ox}:${Q_}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Y_(e.status,e.statusText,e.data)}catch{}}function tT(r,{relative:e}={}){rt(Mr(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=L.useContext(ea),{hash:s,pathname:i,search:d}=Vl(r,{relative:e}),f=i;return n!=="/"&&(f=i==="/"?n:Ka([n,i])),o.createHref({pathname:f,search:d,hash:s})}function Mr(){return L.useContext(Gl)!=null}function Ba(){return rt(Mr(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Gl).location}var Ax="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rx(r){L.useContext(ea).static||L.useLayoutEffect(r)}function ft(){let{isDataRoute:r}=L.useContext(Ta);return r?pT():aT()}function aT(){rt(Mr(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(zr),{basename:e,navigator:n}=L.useContext(ea),{matches:o}=L.useContext(Ta),{pathname:s}=Ba(),i=JSON.stringify(wf(o)),d=L.useRef(!1);return Rx(()=>{d.current=!0}),L.useCallback((p,m={})=>{if(Xt(d.current,Ax),!d.current)return;if(typeof p=="number"){n.go(p);return}let v=Sf(p,JSON.parse(i),s,m.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ka([e,v.pathname])),(m.replace?n.replace:n.push)(v,m.state,m)},[e,n,i,s,r])}L.createContext(null);function nT(){let{matches:r}=L.useContext(Ta),e=r[r.length-1];return e?e.params:{}}function Vl(r,{relative:e}={}){let{matches:n}=L.useContext(Ta),{pathname:o}=Ba(),s=JSON.stringify(wf(n));return L.useMemo(()=>Sf(r,JSON.parse(s),o,e==="path"),[r,s,o,e])}function rT(r,e){return zx(r,e)}function zx(r,e,n,o,s){rt(Mr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=L.useContext(ea),{matches:d}=L.useContext(Ta),f=d[d.length-1],p=f?f.params:{},m=f?f.pathname:"/",v=f?f.pathnameBase:"/",b=f&&f.route;{let S=b&&b.path||"";Lx(m,!b||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let y=Ba(),j;if(e){let S=typeof e=="string"?er(e):e;rt(v==="/"||S.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${S.pathname}" was given in the \`location\` prop.`),j=S}else j=y;let C=j.pathname||"/",w=C;if(v!=="/"){let S=v.replace(/^\//,"").split("/");w="/"+C.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=yx(r,{pathname:w});Xt(b||_!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Xt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=cT(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},p,S.params),pathname:Ka([v,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?v:Ka([v,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),d,n,o,s);return e&&z?L.createElement(Gl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},z):z}function lT(){let r=mT(),e=X_(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:i},"ErrorBoundary")," or"," ",L.createElement("code",{style:i},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,d)}var oT=L.createElement(lT,null),Mx=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=eT(r.digest);n&&(r=n)}let e=r!==void 0?L.createElement(Ta.Provider,{value:this.props.routeContext},L.createElement(_f.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?L.createElement(sT,{error:r},e):e}};Mx.contextType=V_;var Tf=new WeakMap;function sT({children:r,error:e}){let{basename:n}=L.useContext(ea);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let o=Z_(e.digest);if(o){let s=Tf.get(e);if(s)throw s;let i=Tx(o.location,n);if(_x&&!Tf.get(e))if(i.isExternal||o.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:o.replace}));throw Tf.set(e,d),d}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return r}function iT({routeContext:r,match:e,children:n}){let o=L.useContext(zr);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ta.Provider,{value:r},n)}function cT(r,e=[],n=null,o=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let i=r,d=n?.errors;if(d!=null){let v=i.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);rt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),i=i.slice(0,Math.min(i.length,v+1))}let f=!1,p=-1;if(n)for(let v=0;v<i.length;v++){let b=i[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:y,errors:j}=n,C=b.route.loader&&!y.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||C){f=!0,p>=0?i=i.slice(0,p+1):i=[i[0]];break}}}let m=n&&o?(v,b)=>{o(v,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:F_(n.matches),errorInfo:b})}:void 0;return i.reduceRight((v,b,y)=>{let j,C=!1,w=null,_=null;n&&(j=d&&b.route.id?d[b.route.id]:void 0,w=b.route.errorElement||oT,f&&(p<0&&y===0?(Lx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,_=null):p===y&&(C=!0,_=b.route.hydrateFallbackElement||null)));let z=e.concat(i.slice(0,y+1)),S=()=>{let R;return j?R=w:C?R=_:b.route.Component?R=L.createElement(b.route.Component,null):b.route.element?R=b.route.element:R=v,L.createElement(iT,{match:b,routeContext:{outlet:v,matches:z,isDataRoute:n!=null},children:R})};return n&&(b.route.ErrorBoundary||b.route.errorElement||y===0)?L.createElement(Mx,{location:n.location,revalidation:n.revalidation,component:w,error:j,children:S(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:m}):S()},null)}function Ef(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(r){let e=L.useContext(zr);return rt(e,Ef(r)),e}function dT(r){let e=L.useContext(Ns);return rt(e,Ef(r)),e}function fT(r){let e=L.useContext(Ta);return rt(e,Ef(r)),e}function kf(r){let e=fT(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hT(){return kf("useRouteId")}function mT(){let r=L.useContext(_f),e=dT("useRouteError"),n=kf("useRouteError");return r!==void 0?r:e.errors?.[n]}function pT(){let{router:r}=uT("useNavigate"),e=kf("useNavigate"),n=L.useRef(!1);return Rx(()=>{n.current=!0}),L.useCallback(async(s,i={})=>{Xt(n.current,Ax),n.current&&(typeof s=="number"?await r.navigate(s):await r.navigate(s,{fromRouteId:e,...i}))},[r,e])}var Dx={};function Lx(r,e,n){!e&&!Dx[r]&&(Dx[r]=!0,Xt(!1,n))}L.memo(gT);function gT({routes:r,future:e,state:n,onError:o}){return zx(r,void 0,n,o,e)}function vT({to:r,replace:e,state:n,relative:o}){rt(Mr(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=L.useContext(ea);Xt(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=L.useContext(Ta),{pathname:d}=Ba(),f=ft(),p=Sf(r,wf(i),d,o==="path"),m=JSON.stringify(p);return L.useEffect(()=>{f(JSON.parse(m),{replace:e,state:n,relative:o})},[f,m,o,e,n]),null}function Kl(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bT({basename:r="/",children:e=null,location:n,navigationType:o="POP",navigator:s,static:i=!1,unstable_useTransitions:d}){rt(!Mr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:f,navigator:s,static:i,unstable_useTransitions:d,future:{}}),[f,s,i,d]);typeof n=="string"&&(n=er(n));let{pathname:m="/",search:v="",hash:b="",state:y=null,key:j="default"}=n,C=L.useMemo(()=>{let w=Va(m,f);return w==null?null:{location:{pathname:w,search:v,hash:b,state:y,key:j},navigationType:o}},[f,m,v,b,y,j,o]);return Xt(C!=null,`<Router basename="${f}"> is not able to match the URL "${m}${v}${b}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:L.createElement(ea.Provider,{value:p},L.createElement(Gl.Provider,{children:e,value:C}))}function xT({children:r,location:e}){return rT(Of(r),e)}function Of(r,e=[]){let n=[];return L.Children.forEach(r,(o,s)=>{if(!L.isValidElement(o))return;let i=[...e,s];if(o.type===L.Fragment){n.push.apply(n,Of(o.props.children,i));return}rt(o.type===Kl,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let d={id:o.props.id||i.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=Of(o.props.children,i)),n.push(d)}),n}var Cs="get",ws="application/x-www-form-urlencoded";function Ss(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function yT(r){return Ss(r)&&r.tagName.toLowerCase()==="button"}function jT(r){return Ss(r)&&r.tagName.toLowerCase()==="form"}function NT(r){return Ss(r)&&r.tagName.toLowerCase()==="input"}function CT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wT(r,e){return r.button===0&&(!e||e==="_self")&&!CT(r)}function Af(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let o=r[n];return e.concat(Array.isArray(o)?o.map(s=>[n,s]):[[n,o]])},[]))}function ST(r,e){let n=Af(r);return e&&e.forEach((o,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}var _s=null;function _T(){if(_s===null)try{new FormData(document.createElement("form"),0),_s=!1}catch{_s=!0}return _s}var TT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rf(r){return r!=null&&!TT.has(r)?(Xt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ws}"`),null):r}function ET(r,e){let n,o,s,i,d;if(jT(r)){let f=r.getAttribute("action");o=f?Va(f,e):null,n=r.getAttribute("method")||Cs,s=Rf(r.getAttribute("enctype"))||ws,i=new FormData(r)}else if(yT(r)||NT(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(o=p?Va(p,e):null,n=r.getAttribute("formmethod")||f.getAttribute("method")||Cs,s=Rf(r.getAttribute("formenctype"))||Rf(f.getAttribute("enctype"))||ws,i=new FormData(f,r),!_T()){let{name:m,type:v,value:b}=r;if(v==="image"){let y=m?`${m}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else m&&i.append(m,b)}}else{if(Ss(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cs,o=null,s=ws,d=r}return i&&s==="text/plain"&&(d=i,i=void 0),{action:o,method:n.toLowerCase(),encType:s,formData:i,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kT(r,e,n,o){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${o}`:s.pathname=`${s.pathname}.${o}`:s.pathname==="/"?s.pathname=`_root.${o}`:e&&Va(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${o}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${o}`,s}async function OT(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AT(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function RT(r,e,n){let o=await Promise.all(r.map(async s=>{let i=e.routes[s.route.id];if(i){let d=await OT(i,n);return d.links?d.links():[]}return[]}));return LT(o.flat(1).filter(AT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Ux(r,e,n,o,s,i){let d=(p,m)=>n[m]?p.route.id!==n[m].route.id:!0,f=(p,m)=>n[m].pathname!==p.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==p.params["*"];return i==="assets"?e.filter((p,m)=>d(p,m)||f(p,m)):i==="data"?e.filter((p,m)=>{let v=o.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function zT(r,e,{includeHydrateFallback:n}={}){return MT(r.map(o=>{let s=e.routes[o.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function MT(r){return[...new Set(r)]}function DT(r){let e={},n=Object.keys(r).sort();for(let o of n)e[o]=r[o];return e}function LT(r,e){let n=new Set;return new Set(e),r.reduce((o,s)=>{let i=JSON.stringify(DT(s));return n.has(i)||(n.add(i),o.push({key:i,link:s})),o},[])}function Ix(){let r=L.useContext(zr);return zf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function UT(){let r=L.useContext(Ns);return zf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Mf=L.createContext(void 0);Mf.displayName="FrameworkContext";function qx(){let r=L.useContext(Mf);return zf(r,"You must render this element inside a <HydratedRouter> element"),r}function IT(r,e){let n=L.useContext(Mf),[o,s]=L.useState(!1),[i,d]=L.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:b}=e,y=L.useRef(null);L.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let w=z=>{z.forEach(S=>{d(S.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[r]),L.useEffect(()=>{if(o){let w=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(w)}}},[o]);let j=()=>{s(!0)},C=()=>{s(!1),d(!1)};return n?r!=="intent"?[i,y,{}]:[i,y,{onFocus:Jl(f,j),onBlur:Jl(p,C),onMouseEnter:Jl(m,j),onMouseLeave:Jl(v,C),onTouchStart:Jl(b,j)}]:[!1,y,{}]}function Jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function qT({page:r,...e}){let{router:n}=Ix(),o=L.useMemo(()=>yx(n.routes,r,n.basename),[n.routes,r,n.basename]);return o?L.createElement(PT,{page:r,matches:o,...e}):null}function BT(r){let{manifest:e,routeModules:n}=qx(),[o,s]=L.useState([]);return L.useEffect(()=>{let i=!1;return RT(r,e,n).then(d=>{i||s(d)}),()=>{i=!0}},[r,e,n]),o}function PT({page:r,matches:e,...n}){let o=Ba(),{future:s,manifest:i,routeModules:d}=qx(),{basename:f}=Ix(),{loaderData:p,matches:m}=UT(),v=L.useMemo(()=>Ux(r,e,m,i,o,"data"),[r,e,m,i,o]),b=L.useMemo(()=>Ux(r,e,m,i,o,"assets"),[r,e,m,i,o]),y=L.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let w=new Set,_=!1;if(e.forEach(S=>{let R=i.routes[S.route.id];!R||!R.hasLoader||(!v.some(I=>I.route.id===S.route.id)&&S.route.id in p&&d[S.route.id]?.shouldRevalidate||R.hasClientLoader?_=!0:w.add(S.route.id))}),w.size===0)return[];let z=kT(r,f,s.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&z.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[z.pathname+z.search]},[f,s.unstable_trailingSlashAwareDataRequests,p,o,i,v,e,r,d]),j=L.useMemo(()=>zT(b,i),[b,i]),C=BT(b);return L.createElement(L.Fragment,null,y.map(w=>L.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),j.map(w=>L.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),C.map(({key:w,link:_})=>L.createElement("link",{key:w,nonce:n.nonce,..._})))}function HT(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var $T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$T&&(window.__reactRouterVersion="7.12.0")}catch{}function YT({basename:r,children:e,unstable_useTransitions:n,window:o}){let s=L.useRef();s.current==null&&(s.current=j_({window:o,v5Compat:!0}));let i=s.current,[d,f]=L.useState({action:i.action,location:i.location}),p=L.useCallback(m=>{n===!1?f(m):L.startTransition(()=>f(m))},[n]);return L.useLayoutEffect(()=>i.listen(p),[i,p]),L.createElement(bT,{basename:r,children:e,location:d.location,navigationType:d.action,navigator:i,unstable_useTransitions:n})}var Bx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Px=L.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:s,reloadDocument:i,replace:d,state:f,target:p,to:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...j},C){let{basename:w,unstable_useTransitions:_}=L.useContext(ea),z=typeof m=="string"&&Bx.test(m),S=Tx(m,w);m=S.to;let R=tT(m,{relative:s}),[I,$,E]=IT(o,j),D=VT(m,{replace:d,state:f,target:p,preventScrollReset:v,relative:s,viewTransition:b,unstable_defaultShouldRevalidate:y,unstable_useTransitions:_});function P(W){e&&e(W),W.defaultPrevented||D(W)}let X=L.createElement("a",{...j,...E,href:S.absoluteURL||R,onClick:S.isExternal||i?e:P,ref:HT(C,$),target:p,"data-discover":!z&&n==="render"?"true":void 0});return I&&!z?L.createElement(L.Fragment,null,X,L.createElement(qT,{page:R})):X});Px.displayName="Link";var XT=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:s=!1,style:i,to:d,viewTransition:f,children:p,...m},v){let b=Vl(d,{relative:m.relative}),y=Ba(),j=L.useContext(Ns),{navigator:C,basename:w}=L.useContext(ea),_=j!=null&&eE(b)&&f===!0,z=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,S=y.pathname,R=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(S=S.toLowerCase(),R=R?R.toLowerCase():null,z=z.toLowerCase()),R&&w&&(R=Va(R,w)||R);const I=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let $=S===z||!s&&S.startsWith(z)&&S.charAt(I)==="/",E=R!=null&&(R===z||!s&&R.startsWith(z)&&R.charAt(z.length)==="/"),D={isActive:$,isPending:E,isTransitioning:_},P=$?e:void 0,X;typeof o=="function"?X=o(D):X=[o,$?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let W=typeof i=="function"?i(D):i;return L.createElement(Px,{...m,"aria-current":P,className:X,ref:v,style:W,to:d,viewTransition:f},typeof p=="function"?p(D):p)});XT.displayName="NavLink";var FT=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:s,state:i,method:d=Cs,action:f,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y,...j},C)=>{let{unstable_useTransitions:w}=L.useContext(ea),_=QT(),z=ZT(f,{relative:m}),S=d.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&Bx.test(f),I=$=>{if(p&&p($),$.defaultPrevented)return;$.preventDefault();let E=$.nativeEvent.submitter,D=E?.getAttribute("formmethod")||d,P=()=>_(E||$.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:s,state:i,relative:m,preventScrollReset:v,viewTransition:b,unstable_defaultShouldRevalidate:y});w&&n!==!1?L.startTransition(()=>P()):P()};return L.createElement("form",{ref:C,method:S,action:z,onSubmit:o?p:I,...j,"data-discover":!R&&r==="render"?"true":void 0})});FT.displayName="Form";function GT(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hx(r){let e=L.useContext(zr);return rt(e,GT(r)),e}function VT(r,{target:e,replace:n,state:o,preventScrollReset:s,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:p}={}){let m=ft(),v=Ba(),b=Vl(r,{relative:i});return L.useCallback(y=>{if(wT(y,e)){y.preventDefault();let j=n!==void 0?n:Fl(v)===Fl(b),C=()=>m(r,{replace:j,state:o,preventScrollReset:s,relative:i,viewTransition:d,unstable_defaultShouldRevalidate:f});p?L.startTransition(()=>C()):C()}},[v,m,b,n,o,e,r,s,i,d,f,p])}function KT(r){Xt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Af(r)),n=L.useRef(!1),o=Ba(),s=L.useMemo(()=>ST(o.search,n.current?null:e.current),[o.search]),i=ft(),d=L.useCallback((f,p)=>{const m=Af(typeof f=="function"?f(new URLSearchParams(s)):f);n.current=!0,i("?"+m,p)},[i,s]);return[s,d]}var JT=0,WT=()=>`__${String(++JT)}__`;function QT(){let{router:r}=Hx("useSubmit"),{basename:e}=L.useContext(ea),n=hT(),o=r.fetch,s=r.navigate;return L.useCallback(async(i,d={})=>{let{action:f,method:p,encType:m,formData:v,body:b}=ET(i,e);if(d.navigate===!1){let y=d.fetcherKey||WT();await o(y,n,d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||p,formEncType:d.encType||m,flushSync:d.flushSync})}else await s(d.action||f,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:b,formMethod:d.method||p,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[o,s,e,n])}function ZT(r,{relative:e}={}){let{basename:n}=L.useContext(ea),o=L.useContext(Ta);rt(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),i={...Vl(r||".",{relative:e})},d=Ba();if(r==null){i.search=d.search;let f=new URLSearchParams(i.search),p=f.getAll("index");if(p.some(v=>v==="")){f.delete("index"),p.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();i.search=v?`?${v}`:""}}return(!r||r===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ka([n,i.pathname])),Fl(i)}function eE(r,{relative:e}={}){let n=L.useContext(kx);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Hx("useViewTransitionState"),s=Vl(r,{relative:e});if(!n.isTransitioning)return!1;let i=Va(n.currentLocation.pathname,o)||n.currentLocation.pathname,d=Va(n.nextLocation.pathname,o)||n.nextLocation.pathname;return js(s.pathname,d)!=null||js(s.pathname,i)!=null}const Be=({tabs:r=[]})=>{const[e,n]=L.useState(0);return a.jsxs("div",{children:[a.jsx("ul",{className:"nav nav-tabs nav-fill mb-2",style:{fontSize:"0.7rem"},children:r.map((o,s)=>{const i=e===s;return a.jsx("li",{className:"nav-item",children:a.jsx("button",{className:`nav-link w-100 py-1 px-1 ${i?"active fw-bold":"text-secondary"}`,onClick:d=>{d.preventDefault(),n(s)},style:{cursor:"pointer",borderRadius:"4px 4px 0 0"},children:o.label})},s)})}),a.jsx("div",{className:"tab-content",children:r[e]&&r[e].content})]})};var Df=function(r,e){return Df=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(n[s]=o[s])},Df(r,e)};function $x(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Df(r,e);function n(){this.constructor=r}r.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ts=function(){return Ts=Object.assign||function(e){for(var n,o=1,s=arguments.length;o<s;o++){n=arguments[o];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ts.apply(this,arguments)};function Dr(r,e){var n={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&e.indexOf(o)<0&&(n[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(r);s<o.length;s++)e.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(r,o[s])&&(n[o[s]]=r[o[s]]);return n}function Yx(r,e,n,o){var s=arguments.length,i=s<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,n):o,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,n,o);else for(var f=r.length-1;f>=0;f--)(d=r[f])&&(i=(s<3?d(i):s>3?d(e,n,i):d(e,n))||i);return s>3&&i&&Object.defineProperty(e,n,i),i}function Xx(r,e){return function(n,o){e(n,o,r)}}function Fx(r,e,n,o,s,i){function d(z){if(z!==void 0&&typeof z!="function")throw new TypeError("Function expected");return z}for(var f=o.kind,p=f==="getter"?"get":f==="setter"?"set":"value",m=!e&&r?o.static?r:r.prototype:null,v=e||(m?Object.getOwnPropertyDescriptor(m,o.name):{}),b,y=!1,j=n.length-1;j>=0;j--){var C={};for(var w in o)C[w]=w==="access"?{}:o[w];for(var w in o.access)C.access[w]=o.access[w];C.addInitializer=function(z){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(d(z||null))};var _=(0,n[j])(f==="accessor"?{get:v.get,set:v.set}:v[p],C);if(f==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(b=d(_.get))&&(v.get=b),(b=d(_.set))&&(v.set=b),(b=d(_.init))&&s.unshift(b)}else(b=d(_))&&(f==="field"?s.unshift(b):v[p]=b)}m&&Object.defineProperty(m,o.name,v),y=!0}function Gx(r,e,n){for(var o=arguments.length>2,s=0;s<e.length;s++)n=o?e[s].call(r,n):e[s].call(r);return o?n:void 0}function Vx(r){return typeof r=="symbol"?r:"".concat(r)}function Kx(r,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Jx(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Ce(r,e,n,o){function s(i){return i instanceof n?i:new n(function(d){d(i)})}return new(n||(n=Promise))(function(i,d){function f(v){try{m(o.next(v))}catch(b){d(b)}}function p(v){try{m(o.throw(v))}catch(b){d(b)}}function m(v){v.done?i(v.value):s(v.value).then(f,p)}m((o=o.apply(r,e||[])).next())})}function Wx(r,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},o,s,i,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(v){return p([m,v])}}function p(m){if(o)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(n=0)),n;)try{if(o=1,s&&(i=m[0]&2?s.return:m[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,m[1])).done)return i;switch(s=0,i&&(m=[m[0]&2,i.value]),m[0]){case 0:case 1:i=m;break;case 4:return n.label++,{value:m[1],done:!1};case 5:n.label++,s=m[1],m=[0];continue;case 7:m=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(m[0]===6||m[0]===2)){n=0;continue}if(m[0]===3&&(!i||m[1]>i[0]&&m[1]<i[3])){n.label=m[1];break}if(m[0]===6&&n.label<i[1]){n.label=i[1],i=m;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(m);break}i[2]&&n.ops.pop(),n.trys.pop();continue}m=e.call(r,n)}catch(v){m=[6,v],s=0}finally{o=i=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Es=Object.create?(function(r,e,n,o){o===void 0&&(o=n);var s=Object.getOwnPropertyDescriptor(e,n);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(r,o,s)}):(function(r,e,n,o){o===void 0&&(o=n),r[o]=e[n]});function Qx(r,e){for(var n in r)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Es(e,r,n)}function ks(r){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&r[e],o=0;if(n)return n.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lf(r,e){var n=typeof Symbol=="function"&&r[Symbol.iterator];if(!n)return r;var o=n.call(r),s,i=[],d;try{for(;(e===void 0||e-- >0)&&!(s=o.next()).done;)i.push(s.value)}catch(f){d={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(d)throw d.error}}return i}function Zx(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Lf(arguments[e]));return r}function e0(){for(var r=0,e=0,n=arguments.length;e<n;e++)r+=arguments[e].length;for(var o=Array(r),s=0,e=0;e<n;e++)for(var i=arguments[e],d=0,f=i.length;d<f;d++,s++)o[s]=i[d];return o}function t0(r,e,n){if(n||arguments.length===2)for(var o=0,s=e.length,i;o<s;o++)(i||!(o in e))&&(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return r.concat(i||Array.prototype.slice.call(e))}function Lr(r){return this instanceof Lr?(this.v=r,this):new Lr(r)}function a0(r,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(r,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(j){return function(C){return Promise.resolve(C).then(j,b)}}function f(j,C){o[j]&&(s[j]=function(w){return new Promise(function(_,z){i.push([j,w,_,z])>1||p(j,w)})},C&&(s[j]=C(s[j])))}function p(j,C){try{m(o[j](C))}catch(w){y(i[0][3],w)}}function m(j){j.value instanceof Lr?Promise.resolve(j.value.v).then(v,b):y(i[0][2],j)}function v(j){p("next",j)}function b(j){p("throw",j)}function y(j,C){j(C),i.shift(),i.length&&p(i[0][0],i[0][1])}}function n0(r){var e,n;return e={},o("next"),o("throw",function(s){throw s}),o("return"),e[Symbol.iterator]=function(){return this},e;function o(s,i){e[s]=r[s]?function(d){return(n=!n)?{value:Lr(r[s](d)),done:!1}:i?i(d):d}:i}}function r0(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],n;return e?e.call(r):(r=typeof ks=="function"?ks(r):r[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=r[i]&&function(d){return new Promise(function(f,p){d=r[i](d),s(f,p,d.done,d.value)})}}function s(i,d,f,p){Promise.resolve(p).then(function(m){i({value:m,done:f})},d)}}function l0(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var tE=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},Uf=function(r){return Uf=Object.getOwnPropertyNames||function(e){var n=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[n.length]=o);return n},Uf(r)};function o0(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var n=Uf(r),o=0;o<n.length;o++)n[o]!=="default"&&Es(e,r,n[o]);return tE(e,r),e}function s0(r){return r&&r.__esModule?r:{default:r}}function i0(r,e,n,o){if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!o:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?o:n==="a"?o.call(r):o?o.value:e.get(r)}function c0(r,e,n,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(r,n):s?s.value=n:e.set(r,n),n}function u0(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function d0(r,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var o,s;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");o=e[Symbol.asyncDispose]}if(o===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");o=e[Symbol.dispose],n&&(s=o)}if(typeof o!="function")throw new TypeError("Object not disposable.");s&&(o=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),r.stack.push({value:e,dispose:o,async:n})}else n&&r.stack.push({async:!0});return e}var aE=typeof SuppressedError=="function"?SuppressedError:function(r,e,n){var o=new Error(n);return o.name="SuppressedError",o.error=r,o.suppressed=e,o};function f0(r){function e(i){r.error=r.hasError?new aE(i,r.error,"An error was suppressed during disposal."):i,r.hasError=!0}var n,o=0;function s(){for(;n=r.stack.pop();)try{if(!n.async&&o===1)return o=0,r.stack.push(n),Promise.resolve().then(s);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return o|=2,Promise.resolve(i).then(s,function(d){return e(d),s()})}else o|=1}catch(d){e(d)}if(o===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return s()}function h0(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,o,s,i,d){return o?e?".jsx":".js":s&&(!i||!d)?n:s+i+"."+d.toLowerCase()+"js"}):r}const nE=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:d0,get __assign(){return Ts},__asyncDelegator:n0,__asyncGenerator:a0,__asyncValues:r0,__await:Lr,__awaiter:Ce,__classPrivateFieldGet:i0,__classPrivateFieldIn:u0,__classPrivateFieldSet:c0,__createBinding:Es,__decorate:Yx,__disposeResources:f0,__esDecorate:Fx,__exportStar:Qx,__extends:$x,__generator:Wx,__importDefault:s0,__importStar:o0,__makeTemplateObject:l0,__metadata:Jx,__param:Xx,__propKey:Vx,__read:Lf,__rest:Dr,__rewriteRelativeImportExtension:h0,__runInitializers:Gx,__setFunctionName:Kx,__spread:Zx,__spreadArray:t0,__spreadArrays:e0,__values:ks,default:{__extends:$x,__assign:Ts,__rest:Dr,__decorate:Yx,__param:Xx,__esDecorate:Fx,__runInitializers:Gx,__propKey:Vx,__setFunctionName:Kx,__metadata:Jx,__awaiter:Ce,__generator:Wx,__createBinding:Es,__exportStar:Qx,__values:ks,__read:Lf,__spread:Zx,__spreadArrays:e0,__spreadArray:t0,__await:Lr,__asyncGenerator:a0,__asyncDelegator:n0,__asyncValues:r0,__makeTemplateObject:l0,__importStar:o0,__importDefault:s0,__classPrivateFieldGet:i0,__classPrivateFieldSet:c0,__classPrivateFieldIn:u0,__addDisposableResource:d0,__disposeResources:f0,__rewriteRelativeImportExtension:h0}},Symbol.toStringTag,{value:"Module"})),rE=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)};class If extends Error{constructor(e,n="FunctionsError",o){super(e),this.name=n,this.context=o}}class m0 extends If{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p0 extends If{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g0 extends If{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qf;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qf||(qf={}));class lE{constructor(e,{headers:n={},customFetch:o,region:s=qf.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=rE(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ce(this,arguments,void 0,function*(n,o={}){var s;try{const{headers:i,method:d,body:f,signal:p}=o;let m={},{region:v}=o;v||(v=this.region);const b=new URL(`${this.url}/${n}`);v&&v!=="any"&&(m["x-region"]=v,b.searchParams.set("forceFunctionRegion",v));let y;f&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",y=f):typeof f=="string"?(m["Content-Type"]="text/plain",y=f):typeof FormData<"u"&&f instanceof FormData?y=f:(m["Content-Type"]="application/json",y=JSON.stringify(f)):y=f;const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),i),body:y,signal:p}).catch(z=>{throw z.name==="AbortError"?z:new m0(z)}),C=j.headers.get("x-relay-error");if(C&&C==="true")throw new p0(j);if(!j.ok)throw new g0(j);let w=((s=j.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield j.json():w==="application/octet-stream"||w==="application/pdf"?_=yield j.blob():w==="text/event-stream"?_=j:w==="multipart/form-data"?_=yield j.formData():_=yield j.text(),{data:_,error:null,response:j}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new m0(i)}:{data:null,error:i,response:i instanceof g0||i instanceof p0?i.context:void 0}}})}}var qt={};const Ur=Lp(nE);var Os={},As={},Rs={},zs={},Ms={},oE=function(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")},Ir=oE();const sE=Ir.fetch,v0=Ir.fetch.bind(Ir),b0=Ir.Headers,iE=Ir.Request,cE=Ir.Response,tr=Object.freeze(Object.defineProperty({__proto__:null,Headers:b0,Request:iE,Response:cE,default:v0,fetch:sE},Symbol.toStringTag,{value:"Module"})),uE=Lp(tr);var Ds={},x0;function y0(){if(x0)return Ds;x0=1,Object.defineProperty(Ds,"__esModule",{value:!0});class r extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Ds.default=r,Ds}var j0;function N0(){if(j0)return Ms;j0=1,Object.defineProperty(Ms,"__esModule",{value:!0});const r=Ur,e=r.__importDefault(uE),n=r.__importDefault(y0());class o{constructor(i){var d,f;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(d=i.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=i.signal,this.isMaybeSingle=(f=i.isMaybeSingle)!==null&&f!==void 0?f:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,d){return this.headers=new Headers(this.headers),this.headers.set(i,d),this}then(i,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var v,b,y,j;let C=null,w=null,_=null,z=m.status,S=m.statusText;if(m.ok){if(this.method!=="HEAD"){const E=await m.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?w=E:w=JSON.parse(E))}const I=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),$=(y=m.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");I&&$&&$.length>1&&(_=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(C={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,_=null,z=406,S="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const I=await m.text();try{C=JSON.parse(I),Array.isArray(C)&&m.status===404&&(w=[],C=null,z=200,S="OK")}catch{m.status===404&&I===""?(z=204,S="No Content"):C={message:I}}if(C&&this.isMaybeSingle&&(!((j=C?.details)===null||j===void 0)&&j.includes("0 rows"))&&(C=null,z=200,S="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:w,count:_,status:z,statusText:S}});return this.shouldThrowOnError||(p=p.catch(m=>{var v,b,y;return{error:{message:`${(v=m?.name)!==null&&v!==void 0?v:"FetchError"}: ${m?.message}`,details:`${(b=m?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(y=m?.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),p.then(i,d)}returns(){return this}overrideTypes(){return this}}return Ms.default=o,Ms}var C0;function w0(){if(C0)return zs;C0=1,Object.defineProperty(zs,"__esModule",{value:!0});const e=Ur.__importDefault(N0());class n extends e.default{select(s){let i=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!i?"":(f==='"'&&(i=!i),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:d,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",v=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${v?`${v},`:""}${s}.${i?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:d=i}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${s}`),this}range(s,i,{foreignTable:d,referencedTable:f=d}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(m,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:d=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var v;const b=[s?"analyze":null,i?"verbose":null,d?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),y=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${y}"; options=${b};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return zs.default=n,zs}var S0;function Bf(){if(S0)return Rs;S0=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=Ur.__importDefault(w0()),n=new RegExp("[,()]");class o extends e.default{eq(i,d){return this.url.searchParams.append(i,`eq.${d}`),this}neq(i,d){return this.url.searchParams.append(i,`neq.${d}`),this}gt(i,d){return this.url.searchParams.append(i,`gt.${d}`),this}gte(i,d){return this.url.searchParams.append(i,`gte.${d}`),this}lt(i,d){return this.url.searchParams.append(i,`lt.${d}`),this}lte(i,d){return this.url.searchParams.append(i,`lte.${d}`),this}like(i,d){return this.url.searchParams.append(i,`like.${d}`),this}likeAllOf(i,d){return this.url.searchParams.append(i,`like(all).{${d.join(",")}}`),this}likeAnyOf(i,d){return this.url.searchParams.append(i,`like(any).{${d.join(",")}}`),this}ilike(i,d){return this.url.searchParams.append(i,`ilike.${d}`),this}ilikeAllOf(i,d){return this.url.searchParams.append(i,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(i,d){return this.url.searchParams.append(i,`ilike(any).{${d.join(",")}}`),this}is(i,d){return this.url.searchParams.append(i,`is.${d}`),this}in(i,d){const f=Array.from(new Set(d)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(i,`in.(${f})`),this}contains(i,d){return typeof d=="string"?this.url.searchParams.append(i,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(i,`cs.{${d.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(d)}`),this}containedBy(i,d){return typeof d=="string"?this.url.searchParams.append(i,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(i,`cd.{${d.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(d)}`),this}rangeGt(i,d){return this.url.searchParams.append(i,`sr.${d}`),this}rangeGte(i,d){return this.url.searchParams.append(i,`nxl.${d}`),this}rangeLt(i,d){return this.url.searchParams.append(i,`sl.${d}`),this}rangeLte(i,d){return this.url.searchParams.append(i,`nxr.${d}`),this}rangeAdjacent(i,d){return this.url.searchParams.append(i,`adj.${d}`),this}overlaps(i,d){return typeof d=="string"?this.url.searchParams.append(i,`ov.${d}`):this.url.searchParams.append(i,`ov.{${d.join(",")}}`),this}textSearch(i,d,{config:f,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=f===void 0?"":`(${f})`;return this.url.searchParams.append(i,`${m}fts${v}.${d}`),this}match(i){return Object.entries(i).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(i,d,f){return this.url.searchParams.append(i,`not.${d}.${f}`),this}or(i,{foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${i})`),this}filter(i,d,f){return this.url.searchParams.append(i,`${d}.${f}`),this}}return Rs.default=o,Rs}var _0;function T0(){if(_0)return As;_0=1,Object.defineProperty(As,"__esModule",{value:!0});const e=Ur.__importDefault(Bf());class n{constructor(s,{headers:i={},schema:d,fetch:f}){this.url=s,this.headers=new Headers(i),this.schema=d,this.fetch=f}select(s,i){const{head:d=!1,count:f}=i??{},p=d?"HEAD":"GET";let m=!1;const v=(s??"*").split("").map(b=>/\s/.test(b)&&!m?"":(b==='"'&&(m=!m),b)).join("");return this.url.searchParams.set("select",v),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:d=!0}={}){var f;const p="POST";if(i&&this.headers.append("Prefer",`count=${i}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(m.length>0){const v=[...new Set(m)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:d=!1,count:f,defaultToNull:p=!0}={}){var m;const v="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const b=s.reduce((y,j)=>y.concat(Object.keys(j)),[]);if(b.length>0){const y=[...new Set(b)].map(j=>`"${j}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:i}={}){var d;const f="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:s}={}){var i;const d="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return As.default=n,As}var E0;function dE(){if(E0)return Os;E0=1,Object.defineProperty(Os,"__esModule",{value:!0});const r=Ur,e=r.__importDefault(T0()),n=r.__importDefault(Bf());class o{constructor(i,{headers:d={},schema:f,fetch:p}={}){this.url=i,this.headers=new Headers(d),this.schemaName=f,this.fetch=p}from(i){const d=new URL(`${this.url}/${i}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new o(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,d={},{head:f=!1,get:p=!1,count:m}={}){var v;let b;const y=new URL(`${this.url}/rpc/${i}`);let j;f||p?(b=f?"HEAD":"GET",Object.entries(d).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(b="POST",j=d);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new n.default({method:b,url:y,headers:C,schema:this.schemaName,body:j,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Os.default=o,Os}var k0;function fE(){if(k0)return qt;k0=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const r=Ur,e=r.__importDefault(dE());qt.PostgrestClient=e.default;const n=r.__importDefault(T0());qt.PostgrestQueryBuilder=n.default;const o=r.__importDefault(Bf());qt.PostgrestFilterBuilder=o.default;const s=r.__importDefault(w0());qt.PostgrestTransformBuilder=s.default;const i=r.__importDefault(N0());qt.PostgrestBuilder=i.default;const d=r.__importDefault(y0());return qt.PostgrestError=d.default,qt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:i.default,PostgrestError:d.default},qt}var O0=fE();const A0=_r(O0),hE=OC({__proto__:null,default:A0},[O0]),{PostgrestClient:mE,PostgrestQueryBuilder:Lz,PostgrestFilterBuilder:Uz,PostgrestTransformBuilder:Iz,PostgrestBuilder:qz,PostgrestError:Bz}=A0||hE;class pE{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof window<"u"&&typeof window.WebSocket<"u")return{type:"native",constructor:window.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const o=n.node,s=parseInt(o.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const o=this.getWebSocketConstructor();return new o(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gE="realtime-js/2.77.0",vE="1.0.0",Pf=1e4,bE=1e3,xE=100;var Wl;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Wl||(Wl={}));var jt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(jt||(jt={}));var Ea;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ea||(Ea={}));var Hf;(function(r){r.websocket="websocket"})(Hf||(Hf={}));var ar;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ar||(ar={}));class yE{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,n,o)}_decodeBroadcast(e,n,o){const s=n.getUint8(1),i=n.getUint8(2);let d=this.HEADER_LENGTH+2;const f=o.decode(e.slice(d,d+s));d=d+s;const p=o.decode(e.slice(d,d+i));d=d+i;const m=JSON.parse(o.decode(e.slice(d,e.byteLength)));return{ref:null,topic:f,event:p,payload:m}}}class R0{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(Ze||(Ze={}));const z0=(r,e,n={})=>{var o;const s=(o=n.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((i,d)=>(i[d]=jE(d,r,e,s),i),{}):{}},jE=(r,e,n,o)=>{const s=e.find(f=>f.name===r),i=s?.type,d=n[r];return i&&!o.includes(i)?M0(i,d):$f(d)},M0=(r,e)=>{if(r.charAt(0)==="_"){const n=r.slice(1,r.length);return SE(e,n)}switch(r){case Ze.bool:return NE(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return CE(e);case Ze.json:case Ze.jsonb:return wE(e);case Ze.timestamp:return _E(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return $f(e);default:return $f(e)}},$f=r=>r,NE=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},CE=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},wE=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},SE=(r,e)=>{if(typeof r!="string")return r;const n=r.length-1,o=r[n];if(r[0]==="{"&&o==="}"){let i;const d=r.slice(1,n);try{i=JSON.parse("["+d+"]")}catch{i=d?d.split(","):[]}return i.map(f=>M0(e,f))}return r},_E=r=>typeof r=="string"?r.replace(" ","T"):r,D0=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Yf{constructor(e,n,o={},s=Pf){this.channel=e,this.event=n,this.payload=o,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var o;return this._hasReceived(e)&&n((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var L0;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(L0||(L0={}));class Ql{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},s=>{const{onJoin:i,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ql.syncState(this.state,s,i,d),this.pendingDiffs.forEach(p=>{this.state=Ql.syncDiff(this.state,p,i,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},s=>{const{onJoin:i,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ql.syncDiff(this.state,s,i,d),f())}),this.onJoin((s,i,d)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:d})}),this.onLeave((s,i,d)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,o,s){const i=this.cloneDeep(e),d=this.transformState(n),f={},p={};return this.map(i,(m,v)=>{d[m]||(p[m]=v)}),this.map(d,(m,v)=>{const b=i[m];if(b){const y=v.map(_=>_.presence_ref),j=b.map(_=>_.presence_ref),C=v.filter(_=>j.indexOf(_.presence_ref)<0),w=b.filter(_=>y.indexOf(_.presence_ref)<0);C.length>0&&(f[m]=C),w.length>0&&(p[m]=w)}else f[m]=v}),this.syncDiff(i,{joins:f,leaves:p},o,s)}static syncDiff(e,n,o,s){const{joins:i,leaves:d}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return o||(o=()=>{}),s||(s=()=>{}),this.map(i,(f,p)=>{var m;const v=(m=e[f])!==null&&m!==void 0?m:[];if(e[f]=this.cloneDeep(p),v.length>0){const b=e[f].map(j=>j.presence_ref),y=v.filter(j=>b.indexOf(j.presence_ref)<0);e[f].unshift(...y)}o(f,v,p)}),this.map(d,(f,p)=>{let m=e[f];if(!m)return;const v=p.map(b=>b.presence_ref);m=m.filter(b=>v.indexOf(b.presence_ref)<0),e[f]=m,s(f,m,p),m.length===0&&delete e[f]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(o=>n(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,o)=>{const s=e[o];return"metas"in s?n[o]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[o]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var U0;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(U0||(U0={}));var Zl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Zl||(Zl={}));var Ja;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class Xf{constructor(e,n={config:{}},o){var s,i;if(this.topic=e,this.params=n,this.socket=o,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yf(this,Ea.join,this.params,this.timeout),this.rejoinTimer=new R0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ea.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new Ql(this),this.broadcastEndpointURL=D0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var o,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,m=(s=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&s!==void 0?s:[],v=!!this.bindings[Zl.PRESENCE]&&this.bindings[Zl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,b={},y={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>e?.(Ja.CHANNEL_ERROR,j)),this._onClose(()=>e?.(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:y},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:j})=>{var C;if(this.socket.setAuth(),j===void 0){e?.(Ja.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(C=w?.length)!==null&&C!==void 0?C:0,z=[];for(let S=0;S<_;S++){const R=w[S],{filter:{event:I,schema:$,table:E,filter:D}}=R,P=j&&j[S];if(P&&P.event===I&&P.schema===$&&P.table===E&&P.filter===D)z.push(Object.assign(Object.assign({},R),{id:P.id}));else{this.unsubscribe(),this.state=jt.errored,e?.(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,e&&e(Ja.SUBSCRIBED);return}}).receive("error",j=>{this.state=jt.errored,e?.(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,o){return this.state===jt.joined&&e===Zl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,o)}async httpSend(e,n,o={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(s=o.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const m=await f.json();p=m.error||m.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var o,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var d,f,p;const m=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&i("ok"),m.receive("ok",()=>i("ok")),m.receive("error",()=>i("error")),m.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=jt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ea.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(s=>{o=new Yf(this,Ea.leave,{},e),o.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(e,n,o){const s=new AbortController,i=setTimeout(()=>s.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),d}_push(e,n,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Yf(this,e,n,o);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>xE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,o){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,o){var s,i;const d=e.toLocaleLowerCase(),{close:f,error:p,leave:m,join:v}=Ea;if(o&&[f,p,m,v].indexOf(d)>=0&&o!==this._joinRef())return;let y=this._onMessage(d,n,o);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(j=>{var C,w,_;return((C=j.filter)===null||C===void 0?void 0:C.event)==="*"||((_=(w=j.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(j=>j.callback(y,o)):(i=this.bindings[d])===null||i===void 0||i.filter(j=>{var C,w,_,z,S,R;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in j){const I=j.id,$=(C=j.filter)===null||C===void 0?void 0:C.event;return I&&((w=n.ids)===null||w===void 0?void 0:w.includes(I))&&($==="*"||$?.toLocaleLowerCase()===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const I=(S=(z=j?.filter)===null||z===void 0?void 0:z.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return I==="*"||I===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===d}).map(j=>{if(typeof y=="object"&&"ids"in y){const C=y.data,{schema:w,table:_,commit_timestamp:z,type:S,errors:R}=C;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:z,eventType:S,new:{},old:{},errors:R}),this._getPayloadRecords(C))}j.callback(y,o)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,o){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:o};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===o&&Xf.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const o in e)if(e[o]!==n[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ea.close,{},e)}_onError(e){this._on(Ea.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=z0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=z0(e.columns,e.old_record)),n}}const Ff=()=>{},Ls={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},TE=[1e3,2e3,5e3,1e4],EE=1e4,kE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OE{constructor(e,n){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pf,this.transport=null,this.heartbeatIntervalMs=Ls.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ff,this.ref=0,this.reconnectTimer=null,this.logger=Ff,this.conn=null,this.sendBuffer=[],this.serializer=new yE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...d)=>Promise.resolve().then(()=>tr).then(({default:f})=>f(...d)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...d)=>i(...d)},!(!((o=n?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Hf.websocket}`,this.httpEndpoint=D0(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=pE.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:vE}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,o){this.logger(e,n,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Wl.connecting:return ar.Connecting;case Wl.open:return ar.Open;case Wl.closing:return ar.Closing;default:return ar.Closed}}isConnected(){return this.connectionState()===ar.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const o=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===o);if(s)return s;{const i=new Xf(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:o,payload:s,ref:i}=e,d=()=>{this.encode(e,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${n} ${o} (${i})`,s),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(bE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ls.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:s,payload:i,ref:d}=n,f=d?`(${d})`:"",p=i.status||"";this.log("receive",`${p} ${o} ${s} ${f}`.trim(),i),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(s,i,d)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ea.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const o=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${o}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const o=new Blob([kE],{type:"application/javascript"});n=URL.createObjectURL(o)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const s={access_token:n,version:gE};n&&o.updateJoinPayload(s),o.joinedOnce&&o._isJoined()&&o._push(Ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new R0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ls.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,o,s,i,d,f,p,m,v;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(o=e?.timeout)!==null&&o!==void 0?o:Pf,this.heartbeatIntervalMs=(s=e?.heartbeatIntervalMs)!==null&&s!==void 0?s:Ls.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=e?.heartbeatCallback)!==null&&f!==void 0?f:Ff,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(b=>TE[b-1]||EE),this.encode=(m=e?.encode)!==null&&m!==void 0?m:((b,y)=>y(JSON.stringify(b))),this.decode=(v=e?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Gf extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ot(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class AE extends Gf{constructor(e,n,o){super(e),this.name="StorageApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vf extends Gf{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Kf=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)},RE=()=>Ce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(()=>tr)).Response:Response}),Jf=r=>{if(Array.isArray(r))return r.map(n=>Jf(n));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([n,o])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Jf(o)}),e},zE=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Wf=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ME=(r,e,n)=>Ce(void 0,void 0,void 0,function*(){const o=yield RE();r instanceof o&&!n?.noResolveJson?r.json().then(s=>{const i=r.status||500,d=s?.statusCode||i+"";e(new AE(Wf(s),i,d))}).catch(s=>{e(new Vf(Wf(s),s))}):e(new Vf(Wf(r),r))}),DE=(r,e,n,o)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"||!o?s:(zE(o)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(o)):s.body=o,e?.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function eo(r,e,n,o,s,i){return Ce(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,DE(e,o,s,i)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>ME(p,f,o))})})}function to(r,e,n,o){return Ce(this,void 0,void 0,function*(){return eo(r,"GET",e,n,o)})}function ka(r,e,n,o,s){return Ce(this,void 0,void 0,function*(){return eo(r,"POST",e,o,s,n)})}function Qf(r,e,n,o,s){return Ce(this,void 0,void 0,function*(){return eo(r,"PUT",e,o,s,n)})}function LE(r,e,n,o){return Ce(this,void 0,void 0,function*(){return eo(r,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),o)})}function Zf(r,e,n,o,s){return Ce(this,void 0,void 0,function*(){return eo(r,"DELETE",e,o,s,n)})}class UE{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}var I0;class IE{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[I0]="BlobDownloadBuilder",this.promise=null}asStream(){return new UE(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ce(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ot(e))return{data:null,error:e};throw e}})}}I0=Symbol.toStringTag;const qE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},q0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BE{constructor(e,n={},o,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=o,this.fetch=Kf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,o,s){return Ce(this,void 0,void 0,function*(){try{let i;const d=Object.assign(Object.assign({},q0),s);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&o instanceof Blob?(i=new FormData,i.append("cacheControl",d.cacheControl),p&&i.append("metadata",this.encodeMetadata(p)),i.append("",o)):typeof FormData<"u"&&o instanceof FormData?(i=o,i.append("cacheControl",d.cacheControl),p&&i.append("metadata",this.encodeMetadata(p))):(i=o,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s?.headers&&(f=Object.assign(Object.assign({},f),s.headers));const m=this._removeEmptyFolders(n),v=this._getFinalPath(m),b=yield(e=="PUT"?Qf:ka)(this.fetch,`${this.url}/object/${v}`,i,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:b.Id,fullPath:b.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ot(i))return{data:null,error:i};throw i}})}upload(e,n,o){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,o)})}uploadToSignedUrl(e,n,o,s){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),d=this._getFinalPath(i),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",n);try{let p;const m=Object.assign({upsert:q0.upsert},s),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType);const b=yield Qf(this.fetch,f.toString(),p,{headers:v});return{data:{path:i,fullPath:b.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(ot(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Ce(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const s=Object.assign({},this.headers);n?.upsert&&(s["x-upsert"]="true");const i=yield ka(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:s}),d=new URL(this.url+i.url),f=d.searchParams.get("token");if(!f)throw new Gf("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:f},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}update(e,n,o){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,o)})}move(e,n,o){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}copy(e,n,o){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield ka(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,o){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ka(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o?.download?`&download=${o.download===!0?"":o.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${d}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,o){return Ce(this,void 0,void 0,function*(){try{const s=yield ka(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:s.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}download(e,n){const s=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),d=i?`?${i}`:"",f=this._getFinalPath(e),p=()=>to(this.fetch,`${this.url}/${s}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new IE(p,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const o=yield to(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Jf(o),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}exists(e){return Ce(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield LE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o)&&o instanceof Vf){const s=o.originalError;if([400,404].includes(s?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,n){const o=this._getFinalPath(e),s=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const f=typeof n?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(n?.transform||{});p!==""&&s.push(p);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${m}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}list(e,n,o){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qE),n),{prefix:e||""});return{data:yield ka(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},o),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ce(this,void 0,void 0,function*(){try{const o=Object.assign({},e);return{data:yield ka(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},n),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const B0="2.77.0",P0={"X-Client-Info":`storage-js/${B0}`};class PE{constructor(e,n={},o,s){this.shouldThrowOnError=!1;const i=new URL(e);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P0),n),this.fetch=Kf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield to(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield to(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}createBucket(e){return Ce(this,arguments,void 0,function*(n,o={public:!1}){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:o.type,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ot(s))return{data:null,error:s};throw s}})}updateBucket(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Qf(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ot(o))return{data:null,error:o};throw o}})}emptyBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class HE{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},P0),n),this.fetch=Kf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}listBuckets(e){return Ce(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const o=n.toString(),s=o?`${this.url}/bucket?${o}`:`${this.url}/bucket`;return{data:yield to(this.fetch,s,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield Zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ot(n))return{data:null,error:n};throw n}})}}const eh={"X-Client-Info":`storage-js/${B0}`,"Content-Type":"application/json"};class H0 extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ta(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class th extends H0{constructor(e,n,o){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $E extends H0{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var $0;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})($0||($0={}));const ah=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)},YE=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Y0=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),XE=(r,e,n)=>Ce(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!n?.noResolveJson){const s=r.status||500,i=r;if(typeof i.json=="function")i.json().then(d=>{const f=d?.statusCode||d?.code||s+"";e(new th(Y0(d),s,f))}).catch(()=>{const d=s+"",f=i.statusText||`HTTP ${s} error`;e(new th(f,s,d))});else{const d=s+"",f=i.statusText||`HTTP ${s} error`;e(new th(f,s,d))}}else e(new $E(Y0(r),r))}),FE=(r,e,n,o)=>{const s={method:r,headers:e?.headers||{}};return o?(YE(o)?(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(o)):s.body=o,Object.assign(Object.assign({},s),n)):s};function GE(r,e,n,o,s,i){return Ce(this,void 0,void 0,function*(){return new Promise((d,f)=>{r(n,FE(e,o,s,i)).then(p=>{if(!p.ok)throw p;if(o?.noResolveJson)return p;const m=p.headers.get("content-type");return!m||!m.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>XE(p,f,o))})})}function aa(r,e,n,o,s){return Ce(this,void 0,void 0,function*(){return GE(r,"POST",e,o,s,n)})}class VE{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ta(o))return{data:null,error:o};throw o}})}listIndexes(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(ta(o))return{data:null,error:o};throw o}})}}class KE{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(o)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield aa(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield aa(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}queryVectors(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Ce(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield aa(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class JE{constructor(e,n={},o){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},eh),n),this.fetch=ah(o)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}getBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield aa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}listBuckets(){return Ce(this,arguments,void 0,function*(e={}){try{return{data:yield aa(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ce(this,void 0,void 0,function*(){try{return{data:(yield aa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ta(n))return{data:null,error:n};throw n}})}}class WE extends JE{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new QE(this.url,this.headers,e,this.fetch)}}class QE extends VE{constructor(e,n,o,s){super(e,n,s),this.vectorBucketName=o}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ce(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ce(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ce(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ce(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ZE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ZE extends KE{constructor(e,n,o,s,i){super(e,n,i),this.vectorBucketName=o,this.indexName=s}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ce(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ce(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ce(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ce(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ce(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ek extends PE{constructor(e,n={},o,s){super(e,n,o,s)}from(e){return new BE(this.url,this.headers,e,this.fetch)}get vectors(){return new WE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new HE(this.url+"/iceberg",this.headers,this.fetch)}}const tk="2.77.0";let ao="";typeof Deno<"u"?ao="deno":typeof document<"u"?ao="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ao="react-native":ao="node";const ak={headers:{"X-Client-Info":`supabase-js-${ao}/${tk}`}},nk={schema:"public"},rk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lk={},ok=r=>{let e;return r?e=r:typeof fetch>"u"?e=v0:e=fetch,(...n)=>e(...n)},sk=()=>typeof Headers>"u"?b0:Headers,ik=(r,e,n)=>{const o=ok(n),s=sk();return async(i,d)=>{var f;const p=(f=await e())!==null&&f!==void 0?f:r;let m=new s(d?.headers);return m.has("apikey")||m.set("apikey",r),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),o(i,Object.assign(Object.assign({},d),{headers:m}))}};function ck(r){return r.endsWith("/")?r:r+"/"}function uk(r,e){var n,o;const{db:s,auth:i,realtime:d,global:f}=r,{db:p,auth:m,realtime:v,global:b}=e,y={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},m),i),realtime:Object.assign(Object.assign({},v),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),f),{headers:Object.assign(Object.assign({},(n=b?.headers)!==null&&n!==void 0?n:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?y.accessToken=r.accessToken:delete y.accessToken,y}function dk(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ck(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const X0="2.77.0",qr=30*1e3,nh=3,rh=nh*qr,fk="http://localhost:9999",hk="supabase.auth.token",mk={"X-Client-Info":`gotrue-js/${X0}`},lh="X-Supabase-Api-Version",F0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gk=600*1e3;class no extends Error{constructor(e,n,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=o}}function _e(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class vk extends no{constructor(e,n,o){super(e,n,o),this.name="AuthApiError",this.status=n,this.code=o}}function bk(r){return _e(r)&&r.name==="AuthApiError"}class nr extends no{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class xn extends no{constructor(e,n,o,s){super(e,o,s),this.name=n,this.status=o}}class yn extends xn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xk(r){return _e(r)&&r.name==="AuthSessionMissingError"}class Br extends xn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Us extends xn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Is extends xn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yk(r){return _e(r)&&r.name==="AuthImplicitGrantRedirectError"}class G0 extends xn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oh extends xn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function sh(r){return _e(r)&&r.name==="AuthRetryableFetchError"}class V0 extends xn{constructor(e,n,o){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=o}}class ih extends xn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),K0=` 	
\r=`.split(""),jk=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<K0.length;e+=1)r[K0[e].charCodeAt(0)]=-2;for(let e=0;e<qs.length;e+=1)r[qs[e].charCodeAt(0)]=e;return r})();function J0(r,e,n){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(qs[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;n(qs[o]),e.queuedBits-=6}}function W0(r,e,n){const o=jk[r];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Q0(r){const e=[],n=d=>{e.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=d=>{wk(d,o,n)};for(let d=0;d<r.length;d+=1)W0(r.charCodeAt(d),s,i);return e.join("")}function Nk(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Ck(r,e){for(let n=0;n<r.length;n+=1){let o=r.charCodeAt(n);if(o>55295&&o<=56319){const s=(o-55296)*1024&65535;o=(r.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Nk(o,e)}}function wk(r,e,n){if(e.utf8seq===0){if(r<=127){n(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Pr(r){const e=[],n={queue:0,queuedBits:0},o=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)W0(r.charCodeAt(s),n,o);return new Uint8Array(e)}function Sk(r){const e=[];return Ck(r,n=>e.push(n)),new Uint8Array(e)}function rr(r){const e=[],n={queue:0,queuedBits:0},o=s=>{e.push(s)};return r.forEach(s=>J0(s,n,o)),J0(null,n,o),e.join("")}function _k(r){return Math.round(Date.now()/1e3)+r}function Tk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const na=()=>typeof window<"u"&&typeof document<"u",lr={tested:!1,writable:!1},Z0=()=>{if(!na())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lr.tested)return lr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),lr.tested=!0,lr.writable=!0}catch{lr.tested=!0,lr.writable=!1}return lr.writable};function Ek(r){const e={},n=new URL(r);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((o,s)=>{e[s]=o}),e}const ey=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...n)=>Promise.resolve().then(()=>tr).then(({default:o})=>o(...n)):e=fetch,(...n)=>e(...n)},kk=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Hr=async(r,e,n)=>{await r.setItem(e,JSON.stringify(n))},or=async(r,e)=>{const n=await r.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},jn=async(r,e)=>{await r.removeItem(e)};class Bs{constructor(){this.promise=new Bs.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Bs.promiseConstructor=Promise;function ch(r){const e=r.split(".");if(e.length!==3)throw new ih("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!pk.test(e[o]))throw new ih("JWT not in base64url format");return{header:JSON.parse(Q0(e[0])),payload:JSON.parse(Q0(e[1])),signature:Pr(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ok(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Ak(r,e){return new Promise((o,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const d=await r(i);if(!e(i,null,d)){o(d);return}}catch(d){if(!e(i,d)){s(d);return}}})()})}function Rk(r){return("0"+r.toString(16)).substr(-2)}function zk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*o));return s}return crypto.getRandomValues(e),Array.from(e,Rk).join("")}async function Mk(r){const n=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(o);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dk(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const n=await Mk(r);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $r(r,e,n=!1){const o=zk();let s=o;n&&(s+="/PASSWORD_RECOVERY"),await Hr(r,`${e}-code-verifier`,s);const i=await Dk(o);return[i,o===i?"plain":"s256"]}const Lk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uk(r){const e=r.headers.get(lh);if(!e||!e.match(Lk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ik(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function qk(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Bk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(r){if(!Bk.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uh(){const r={};return new Proxy(r,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ty(r){return JSON.parse(JSON.stringify(r))}const sr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Pk=[502,503,504];async function ay(r){var e;if(!kk(r))throw new oh(sr(r),0);if(Pk.includes(r.status))throw new oh(sr(r),r.status);let n;try{n=await r.json()}catch(i){throw new nr(sr(i),i)}let o;const s=Uk(r);if(s&&s.getTime()>=F0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?o=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(o=n.error_code),o){if(o==="weak_password")throw new V0(sr(n),r.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new yn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,d)=>i&&typeof d=="string",!0))throw new V0(sr(n),r.status,n.weak_password.reasons);throw new vk(sr(n),r.status||500,o)}const Hk=(r,e,n,o)=>{const s={method:r,headers:e?.headers||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(o),Object.assign(Object.assign({},s),n))};async function Oe(r,e,n,o){var s;const i=Object.assign({},o?.headers);i[lh]||(i[lh]=F0["2024-01-01"].name),o?.jwt&&(i.Authorization=`Bearer ${o.jwt}`);const d=(s=o?.query)!==null&&s!==void 0?s:{};o?.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await $k(r,e,n+f,{headers:i,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function $k(r,e,n,o,s,i){const d=Hk(e,o,s,i);let f;try{f=await r(n,Object.assign({},d))}catch(p){throw console.error(p),new oh(sr(p),0)}if(f.ok||await ay(f),o?.noResolveJson)return f;try{return await f.json()}catch(p){await ay(p)}}function Oa(r){var e;let n=null;Fk(r)&&(n=Object.assign({},r),r.expires_at||(n.expires_at=_k(r.expires_in)));const o=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:n,user:o},error:null}}function ny(r){const e=Oa(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Nn(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Yk(r){return{data:r,error:null}}function Xk(r){const{action_link:e,email_otp:n,hashed_token:o,redirect_to:s,verification_type:i}=r,d=Dr(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:n,hashed_token:o,redirect_to:s,verification_type:i},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function ry(r){return r}function Fk(r){return r.access_token&&r.refresh_token&&r.expires_in}const dh=["global","local","others"];class Gk{constructor({url:e="",headers:n={},fetch:o}){this.url=e,this.headers=n,this.fetch=ey(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=dh[0]){if(dh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dh.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,n={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Nn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:n}=e,o=Dr(e,["options"]),s=Object.assign(Object.assign({},o),n);return"newEmail"in o&&(s.new_email=o?.newEmail,delete s.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Xk,redirectTo:n?.redirectTo})}catch(n){if(_e(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Nn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,o,s,i,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ry});if(v.error)throw v.error;const b=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(C.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){Yr(e);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Nn})}catch(n){if(_e(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Yr(e);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Nn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,n=!1){Yr(e);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Nn})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){Yr(e.userId);try{const{data:n,error:o}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:o}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Yr(e.userId),Yr(e.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,o,s,i,d,f,p;try{const m={nextPage:null,lastPage:0,total:0},v=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&o!==void 0?o:"",per_page:(i=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ry});if(v.error)throw v.error;const b=await v.json(),y=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,j=(p=(f=v.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(C=>{const w=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(C.split(";")[1].split("=")[1]);m[`${_}Page`]=w}),m.total=parseInt(y)),{data:Object.assign(Object.assign({},b),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}}function ly(r={}){return{getItem:e=>r[e]||null,setItem:(e,n)=>{r[e]=n},removeItem:e=>{delete r[e]}}}const Xr={debug:!!(globalThis&&Z0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vk extends oy{}async function Kk(r,e,n){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async s=>{if(s){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await n()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Vk(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Jk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function sy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Wk(r){return parseInt(r,16)}function Qk(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function Zk(r){var e;const{chainId:n,domain:o,expirationTime:s,issuedAt:i=new Date,nonce:d,notBefore:f,requestId:p,resources:m,scheme:v,uri:b,version:y}=r;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const j=sy(r.address),C=v?`${v}://${o}`:o,w=r.statement?`${r.statement}
`:"",_=`${C} wants you to sign in with your Ethereum account:
${j}

${w}`;let z=`URI: ${b}
Version: ${y}
Chain ID: ${n}${d?`
Nonce: ${d}`:""}
Issued At: ${i.toISOString()}`;if(s&&(z+=`
Expiration Time: ${s.toISOString()}`),f&&(z+=`
Not Before: ${f.toISOString()}`),p&&(z+=`
Request ID: ${p}`),m){let S=`
Resources:`;for(const R of m){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);S+=`
- ${R}`}z+=S}return`${_}
${z}`}class ht extends Error{constructor({message:e,code:n,cause:o,name:s}){var i;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(i=s??(o instanceof Error?o.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ps extends ht{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function eO({error:r,options:e}){var n,o,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ht({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ht({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ht({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new ht({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new ht({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return i.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ht({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new ht({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const d=window.location.hostname;if(iy(d)){if(i.rp.id!==d)return new ht({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ht({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function tO({error:r,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new ht({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new ht({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(iy(o)){if(n.rpId!==o)return new ht({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new ht({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new ht({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new ht({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class aO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const nO=new aO;function rO(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:n,excludeCredentials:o}=r,s=Dr(r,["challenge","user","excludeCredentials"]),i=Pr(e).buffer,d=Object.assign(Object.assign({},n),{id:Pr(n.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:i,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const m=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},m),{id:Pr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function lO(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:n}=r,o=Dr(r,["challenge","allowCredentials"]),s=Pr(e).buffer,i=Object.assign(Object.assign({},o),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];i.allowCredentials[d]=Object.assign(Object.assign({},f),{id:Pr(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return i}function oO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r;return{id:r.id,rawId:r.id,response:{attestationObject:rr(new Uint8Array(r.response.attestationObject)),clientDataJSON:rr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sO(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const n=r,o=r.getClientExtensionResults(),s=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:rr(new Uint8Array(s.authenticatorData)),clientDataJSON:rr(new Uint8Array(s.clientDataJSON)),signature:rr(new Uint8Array(s.signature)),userHandle:s.userHandle?rr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iy(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function cy(){var r,e;return!!(na()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function iO(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",e)}:{data:null,error:new Ps("Empty credential response",e)}}catch(e){return{data:null,error:eO({error:e,options:r})}}}async function cO(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",e)}:{data:null,error:new Ps("Empty credential response",e)}}catch(e){return{data:null,error:tO({error:e,options:r})}}}const uO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},dO={userVerification:"preferred",hints:["security-key"]};function Hs(...r){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),o={};for(const s of r)if(s)for(const i in s){const d=s[i];if(d!==void 0)if(Array.isArray(d))o[i]=d;else if(n(d))o[i]=d;else if(e(d)){const f=o[i];e(f)?o[i]=Hs(f,d):o[i]=Hs(d)}else o[i]=d}return o}function fO(r,e){return Hs(uO,r,e||{})}function hO(r,e){return Hs(dO,r,e||{})}class mO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:o,signal:s},i){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!d)return{data:null,error:f};const p=s??nO.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${o}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=fO(d.webauthn.credential_options.publicKey,i?.create),{data:v,error:b}=await iO({publicKey:m,signal:p});return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}case"request":{const m=hO(d.webauthn.credential_options.publicKey,i?.request),{data:v,error:b}=await cO(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:p}));return v?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:v}},error:null}:{data:null,error:b}}}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:n,webauthn:o}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new no("rpId is required for WebAuthn authentication")};try{if(!cy())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:o},signal:s},{request:i});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:o,credential_response:p.credential_response}})}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new no("rpId is required for WebAuthn registration")};try{if(!cy())return{data:null,error:new nr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:f};const{data:p,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:n,rpOrigins:o},signal:s},{create:i});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:m}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new nr("Unexpected error in register",d)}}}}Jk();const pO={url:fk,storageKey:hk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function uy(r,e,n){return await n()}const Fr={};class ro{get jwks(){var e,n;return(n=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Fr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Fr[this.storageKey]=Object.assign(Object.assign({},Fr[this.storageKey]),{cachedAt:e})}constructor(e){var n,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ro.nextInstanceID,ro.nextInstanceID+=1,this.instanceID>0&&na()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pO),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Gk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ey(s.fetch),this.lock=s.lock||uy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:na()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Kk:this.lock=uy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mO(this)},this.persistSession?(s.storage?this.storage=s.storage:Z0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ly(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=ly(this.memoryStorage)),na()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Ek(window.location.href);let o="none";if(this._isImplicitGrantCallback(n)?o="implicit":await this._isPKCECallback(n)&&(o="pkce"),na()&&this.detectSessionInUrl&&o!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,o);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yk(i)){const p=(e=i.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:d,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return _e(n)?{error:n}:{error:new nr("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,o,s;try{const i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:Oa}),{data:d,error:f}=i;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,o,s;try{let i;if("email"in e){const{email:v,password:b,options:y}=e;let j=null,C=null;this.flowType==="pkce"&&([j,C]=await $r(this.storage,this.storageKey)),i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:b,data:(n=y?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:j,code_challenge_method:C},xform:Oa})}else if("phone"in e){const{phone:v,password:b,options:y}=e;i=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(o=y?.data)!==null&&o!==void 0?o:{},channel:(s=y?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Oa})}else throw new Us("You must provide either an email or phone number and a password");const{data:d,error:f}=i;if(f||!d)return{data:{user:null,session:null},error:f};const p=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(i){if(_e(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:d,options:f}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ny})}else if("phone"in e){const{phone:i,password:d,options:f}=e;n=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ny})}else throw new Us("You must provide either an email or phone number and a password");const{data:o,error:s}=n;return s?{data:{user:null,session:null},error:s}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Br}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,o,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,o,s,i,d,f,p,m,v,b,y;let j,C;if("message"in e)j=e.message,C=e.signature;else{const{chain:w,wallet:_,statement:z,options:S}=e;let R;if(na())if(typeof _=="object")R=_;else{const X=window;if("ethereum"in X&&typeof X.ethereum=="object"&&"request"in X.ethereum&&typeof X.ethereum.request=="function")R=X.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const I=new URL((n=S?.url)!==null&&n!==void 0?n:window.location.href),$=await R.request({method:"eth_requestAccounts"}).then(X=>X).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=sy($[0]);let D=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!D){const X=await R.request({method:"eth_chainId"});D=Wk(X)}const P={domain:I.host,address:E,statement:z,uri:I.href,version:"1",chainId:D,nonce:(s=S?.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(d=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=S?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(v=S?.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=Zk(P),C=await R.request({method:"personal_sign",params:[Qk(j),E]})}try{const{data:w,error:_}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:C},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Oa});if(_)throw _;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Br}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:_})}catch(w){if(_e(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var n,o,s,i,d,f,p,m,v,b,y,j;let C,w;if("message"in e)C=e.message,w=e.signature;else{const{chain:_,wallet:z,statement:S,options:R}=e;let I;if(na())if(typeof z=="object")I=z;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))I=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=z}const $=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in I&&I.signIn){const E=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),S?{statement:S}:null));let D;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")D=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)D=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)C=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),w=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${$.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(s=(o=R?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=R?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((m=R?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((b=(v=R?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...R.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const E=await I.signMessage(new TextEncoder().encode(C),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:z}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:rr(w)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Oa});if(z)throw z;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Br}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:z})}catch(_){if(_e(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const n=await or(this.storage,`${this.storageKey}-code-verifier`),[o,s]=(n??"").split("/");try{const{data:i,error:d}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Oa});if(await jn(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Br}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:d})}catch(i){if(_e(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:o,token:s,access_token:i,nonce:d}=e,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:s,access_token:i,nonce:d,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Oa}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Br}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,o,s,i,d;try{if("email"in e){const{email:f,options:p}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await $r(this.storage,this.storageKey));const{error:b}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=p?.data)!==null&&n!==void 0?n:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:f,options:p}=e,{data:m,error:v}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=p?.data)!==null&&s!==void 0?s:{},create_user:(i=p?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(d=p?.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:v}}throw new Us("You must provide either an email or phone number.")}catch(f){if(_e(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var n,o;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Oa});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,m=d.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,o,s;try{let i=null,d=null;return this.flowType==="pkce"&&([i,d]=await $r(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&o!==void 0?o:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:d}),headers:this.headers,xform:Yk})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:o}=e;if(o)throw o;if(!n)throw new yn;const{error:s}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:o,type:s,options:i}=e,{error:d}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:o,type:s,options:i}=e,{data:d,error:f}=await Oe(this.fetch,"POST",n,{headers:this.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Us("You must provide either an email or phone number and a type")}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await o,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=n();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const d=await or(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=uh()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,m,v)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,v))})}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Nn}):await this._useSession(async n=>{var o,s,i;const{data:d,error:f}=n;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=d.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Nn})})}catch(n){if(_e(n))return xk(n)&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async o=>{const{data:s,error:i}=o;if(i)throw i;if(!s.session)throw new yn;const d=s.session;let f=null,p=null;this.flowType==="pkce"&&e.email!=null&&([f,p]=await $r(this.storage,this.storageKey));const{data:m,error:v}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:Nn});if(v)throw v;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(_e(o))return{data:{user:null},error:o};throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yn;const n=Date.now()/1e3;let o=n,s=!0,i=null;const{payload:d}=ch(e.access_token);if(d.exp&&(o=d.exp,s=o<=n),s){const{data:f,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};i=f}else{const{data:f,error:p}=await this._getUser(e.access_token);if(p)throw p;i={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:o-n,expires_at:o},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(_e(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var o;if(!e){const{data:d,error:f}=n;if(f)throw f;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!e?.refresh_token)throw new yn;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(_e(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!na())throw new Is("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Is(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new G0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new G0("No code detected.");const{data:S,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:i,refresh_token:d,expires_in:f,expires_at:p,token_type:m}=e;if(!i||!f||!d||!m)throw new Is("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(f);let y=v+b;p&&(y=parseInt(p));const j=y-v;j*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const C=y-b;v-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,y,v):v-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,y,v);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const z={provider_token:o,provider_refresh_token:s,access_token:i,expires_in:b,expires_at:y,refresh_token:d,token_type:m,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:e.type},error:null}}catch(o){if(_e(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var o;const{data:s,error:i}=n;if(i)return{error:i};const d=(o=s.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,e);if(f&&!(bk(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await jn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Tk(),o={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async n=>{var o,s;try{const{data:{session:i},error:d}=n;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let o=null,s=null;this.flowType==="pkce"&&([o,s]=await $r(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:o,error:s}=await this._useSession(async i=>{var d,f,p,m,v;const{data:b,error:y}=i;if(y)throw y;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(m=b.session)===null||m===void 0?void 0:m.access_token)!==null&&v!==void 0?v:void 0})});if(s)throw s;return na()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:e.provider,url:o?.url},error:null}}catch(o){if(_e(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var o;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:d,provider:f,token:p,access_token:m,nonce:v}=e,b=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=i?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:m,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Oa}),{data:y,error:j}=b;return j?{data:{user:null,session:null},error:j}:!y||!y.session||!y.user?{data:{user:null,session:null},error:new Br}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),{data:y,error:j})}catch(s){if(_e(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var o,s;const{data:i,error:d}=n;if(d)throw d;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(o=i.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const o=Date.now();return await Ak(async s=>(s>0&&await Ok(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Oa})),(s,i)=>{const d=200*Math.pow(2,s);return i&&sh(i)&&Date.now()+d-o<qr})}catch(o){if(this._debug(n,"error",o),_e(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",o),na()&&!n.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,n;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let d=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:s.user},await Hr(this.userStorage,this.storageKey+"-user",d)),s.user=(e=d?.user)!==null&&e!==void 0?e:uh()}else if(s&&!s.user&&!s.user){const d=await or(this.storage,this.storageKey+"-user");d&&d?.user?(s.user=d.user,await jn(this.storage,this.storageKey+"-user"),await Hr(this.storage,this.storageKey,s)):s.user=uh()}if(this._debug(o,"session from storage",s),!this._isValidSession(s)){this._debug(o,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rh;if(this._debug(o,`session has${i?"":" not"} expired with margin of ${rh}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:d}=await this._callRefreshToken(s.refresh_token);d&&(console.error(d),sh(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(s.access_token);!f&&d?.user?(s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(o,"error",s),console.error(s);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var n,o;if(!e)throw new yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bs;const{data:i,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!i.session)throw new yn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const f={data:i.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(i){if(this._debug(s,"error",i),_e(i)){const d={data:null,error:i};return sh(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,o=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,n)}catch(p){i.push(p)}});if(await Promise.all(d),i.length>0){for(let f=0;f<i.length;f+=1)console.error(i[f]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),o=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&n.user&&await Hr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ty(s);await Hr(this.storage,this.storageKey,i)}else{const s=ty(n);await Hr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await jn(this.storage,this.storageKey),await jn(this.storage,this.storageKey+"-code-verifier"),await jn(this.storage,this.storageKey+"-user"),this.userStorage&&await jn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&na()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:o}}=n;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((o.expires_at*1e3-e)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${nh} ticks`),s<=nh&&await this._callRefreshToken(o.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof oy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!na()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,o){const s=[`provider=${encodeURIComponent(n)}`];if(o?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[i,d]=await $r(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(d)}`});s.push(f.toString())}if(o?.queryParams){const i=new URLSearchParams(o.queryParams);s.push(i.toString())}return o?.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var o;const{data:s,error:i}=n;return i?{data:null,error:i}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var o,s;const{data:i,error:d}=n;if(d)return{data:null,error:d};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:m}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&p.type==="totp"&&(!((s=p?.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(_e(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:s,error:i}=n;if(i)return{data:null,error:i};const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?oO(e.webauthn.credential_response):sO(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:p}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var o;const{data:s,error:i}=n;if(i)return{data:null,error:i};const d=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:rO(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:lO(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(_e(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:o}=await this.getUser();if(o)return{data:null,error:o};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=n?.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,o;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ch(s.access_token);let f=null;d.aal&&(f=d.aal);let p=f;((o=(n=s.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,n={keys:[]}){let o=n.keys.find(f=>f.kid===e);if(o)return o;const s=Date.now();if(o=this.jwks.keys.find(f=>f.kid===e),o&&this.jwks_cached_at+gk>s)return o;const{data:i,error:d}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,o=i.keys.find(f=>f.kid===e),!o)?null:o}async getClaims(e,n={}){try{let o=e;if(!o){const{data:j,error:C}=await this.getSession();if(C||!j.session)return{data:null,error:C};o=j.session.access_token}const{header:s,payload:i,signature:d,raw:{header:f,payload:p}}=ch(o);n?.allowExpired||Ik(i.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!m){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:i,header:s,signature:d},error:null}}const v=qk(s.alg),b=await crypto.subtle.importKey("jwk",m,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,d,Sk(`${f}.${p}`)))throw new ih("Invalid JWT signature");return{data:{claims:i,header:s,signature:d},error:null}}catch(o){if(_e(o))return{data:null,error:o};throw o}}}ro.nextInstanceID=0;const gO=ro;class vO extends gO{constructor(e){super(e)}}class bO{constructor(e,n,o){var s,i,d;this.supabaseUrl=e,this.supabaseKey=n;const f=dk(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:nk,realtime:lk,auth:Object.assign(Object.assign({},rk),{storageKey:p}),global:ak},v=uk(o??{},m);this.storageKey=(s=v.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=v.global.headers)!==null&&i!==void 0?i:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(b,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=v.auth)!==null&&d!==void 0?d:{},this.headers,v.global.fetch),this.fetch=ik(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new mE(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new ek(this.storageUrl.href,this.headers,this.fetch,o?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new lE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},o={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,o)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:o}=await this.auth.getSession();return(n=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:s,userStorage:i,storageKey:d,flowType:f,lock:p,debug:m},v,b){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vO({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),v),storageKey:d,autoRefreshToken:e,persistSession:n,detectSessionInUrl:o,storage:s,userStorage:i,flowType:f,lock:p,debug:m,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new OE(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,o)=>{this._handleTokenChanged(n,"CLIENT",o?.access_token)})}_handleTokenChanged(e,n,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.changedAccessToken=o,this.realtime.setAuth(o)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xO=(r,e,n)=>new bO(r,e,n);function yO(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Aa=xO("https://fcdxcuacwcwqcpyubkie.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZjZHhjdWFjd2N3cWNweXVia2llIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA0NjAyMTMsImV4cCI6MjA3NjAzNjIxM30.Xq0CIH48dbRnaPE_HhH39w-DfSN6GfWUuHuA-2AW5YA"),jO=async(r,e,n)=>{try{const o=r.name.split(".").pop(),s=`${Math.random().toString(36).substring(2,15)}.${o}`,i=n?`${n}/${s}`:s,{data:d,error:f}=await Aa.storage.from(e).upload(i,r,{cacheControl:"3600",upsert:!1}),{data:p}=Aa.storage.from(e).getPublicUrl(i);return p.publicUrl}catch(o){return console.error("Error uploading image:",o),null}};function Bt(r="Assets"){const[e,n]=L.useState(!1),[o,s]=L.useState(null);return{upload:async d=>{if(!d)return null;try{return s(null),n(!0),await jO(d,r)}catch(f){return s(f?.message??String(f)),null}finally{n(!1)}},isUploading:e,error:o}}const fh=({background:r,backgroundImage:e="",backgroundSize:n="cover",padding:o=0,borderRadius:s=0,boxShadow:i="",translateX:d=0,translateY:f=0,zIndex:p=0,margin:m=5,opacity:v=1,layout:b="flex",direction:y="column",justify:j="flex-start",align:C="flex-start",wrap:w="nowrap",gap:_=8,gridColumns:z=2,gridJustifyItems:S="stretch",gridAlignItems:R="stretch",transparentBackground:I=!1,width:$,height:E,minWidth:D=100,minHeight:P=60,children:X})=>{const{id:W,connectors:{connect:F,drag:H},actions:{setProp:G},selected:se}=pe(q=>({selected:q.events.selected})),{actions:{add:V,selectNode:O,delete:J},query:{createNode:te,node:ne}}=Me(),re=C==="center"?"center":C==="flex-end"?"right":"left",T=q=>{q.stopPropagation(),q.preventDefault();const le=q.clientX,ie=q.clientY,he=Number(d)||0,ae=Number(f)||0,A=de=>{const me=de.clientX-le,ge=de.clientY-ie;G(Ne=>{Ne.translateX=he+me,Ne.translateY=ae+ge})},Y=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",Y)},k={margin:typeof m=="number"?`${m}px`:m||0,backgroundColor:I?"transparent":`${r}`,backgroundImage:I||!e?"none":`url(${e})`,backgroundSize:n||"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",padding:`${Math.max(5,o)}px`,borderRadius:`${s}px`,boxShadow:i?`0 4px 8px ${i}`:"none",width:typeof $=="number"?`${$}px`:$||"100%",height:typeof E=="number"?`${E}px`:E||"auto",minWidth:Number(D)||0,minHeight:Number(P)||0,boxSizing:"border-box",gap:typeof _=="number"?`${_}px`:_,transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`,opacity:Math.max(0,Math.min(1,Number(v)||0)),position:"relative",zIndex:Number(p)||0,outline:se?"1px dashed #3b82f6":void 0},M=b==="grid"?{display:"grid",gridTemplateColumns:`repeat(${z||1}, minmax(0, 1fr))`,justifyItems:S,alignItems:R}:{display:"flex",flexDirection:y,alignItems:C,justifyContent:j,flexWrap:w,textAlign:re};return a.jsxs("div",{ref:q=>F(W==="ROOT"?q:H(q)),style:{...k,...M,width:W==="ROOT"?"1280px":k.width,minHeight:W==="ROOT"?"720px":k.minHeight},children:[X,se&&W!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:T}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation();const le=ne(W).get(),{type:ie,props:he,parent:ae}={type:le.data.type,props:le.data.props,parent:le.data.parent},Y=ne(ae).get().data.nodes||[],de=Math.max(0,Y.indexOf(W)),me={...he,translateX:(Number(he.translateX)||0)+10,translateY:(Number(he.translateY)||0)+10},ge=te(be.createElement(ie,me));V(ge,ae,de+1),O(ge.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation(),J(W)}})]})]})},dy=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.background||"#ffffff",onChange:s=>r(i=>i.background=s.target.value),disabled:!!e.transparentBackground}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.background||"",onChange:s=>r(i=>i.background=s.target.value),placeholder:"#hex",disabled:!!e.transparentBackground})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Imagen de Fondo (URL)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:s=>r(i=>i.backgroundImage=s.target.value),placeholder:"https://...",disabled:!!e.transparentBackground})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),s.target.value=null)},disabled:o||!!e.transparentBackground}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.backgroundSize||"cover",onChange:s=>r(i=>i.backgroundSize=s.target.value),children:[a.jsx("option",{value:"cover",children:"Cubrir (cover)"}),a.jsx("option",{value:"contain",children:"Ajustar (contain)"}),a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"100% 100%",children:"Estirar"})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"container-bg-transparent",type:"checkbox",className:"form-check-input",checked:!!e.transparentBackground,onChange:s=>r(i=>i.transparentBackground=s.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"container-bg-transparent",children:"Fondo transparente"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Bordes redondeados"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:typeof e.borderRadius=="number"?e.borderRadius:0,onChange:s=>r(i=>i.borderRadius=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderRadius??0,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Sombra"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.boxShadow||"#000000",onChange:s=>r(i=>i.boxShadow=s.target.value),style:{width:40,height:40,padding:0,border:"none",background:"transparent"}})]})]})},{label:"Disposicin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Dimensiones"}),a.jsxs("div",{className:"row g-2",children:[a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("span",{className:"input-group-text",children:"Ancho"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"100% / 320",value:e.width??"",onChange:s=>{const i=s.target.value;r(d=>d.width=i===""?null:isNaN(Number(i))?i:Number(i))}})]})}),a.jsx("div",{className:"col-6",children:a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("span",{className:"input-group-text",children:"Alto"}),a.jsx("input",{type:"text",className:"form-control",placeholder:"auto / 240",value:e.height??"",onChange:s=>{const i=s.target.value;r(d=>d.height=i===""?null:isNaN(Number(i))?i:Number(i))}})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de distribucin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.layout||"flex",onChange:s=>r(i=>i.layout=s.target.value),children:[a.jsx("option",{value:"flex",children:"Flexible (Flexbox)"}),a.jsx("option",{value:"grid",children:"Cuadrcula (Grid)"})]})]}),(e.layout||"flex")==="flex"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"column",onChange:s=>r(i=>i.direction=s.target.value),children:[a.jsx("option",{value:"row",children:"Fila (horizontal)"}),a.jsx("option",{value:"column",children:"Columna (vertical)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin vertical"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.align||"flex-start",onChange:s=>r(i=>i.align=s.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin horizontal"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.justify||"flex-start",onChange:s=>r(i=>i.justify=s.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"}),a.jsx("option",{value:"space-between",children:"Espacio entre (Between)"}),a.jsx("option",{value:"space-around",children:"Espacio alrededor (Around)"}),a.jsx("option",{value:"space-evenly",children:"Espacio uniforme (Evenly)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ajuste de lnea (Wrap)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.wrap||"nowrap",onChange:s=>r(i=>i.wrap=s.target.value),children:[a.jsx("option",{value:"nowrap",children:"No ajustar"}),a.jsx("option",{value:"wrap",children:"Ajustar"}),a.jsx("option",{value:"wrap-reverse",children:"Ajustar invertido"})]})]})]}),(e.layout||"flex")==="grid"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"range",className:"form-range",min:1,max:6,step:1,value:typeof e.gridColumns=="number"?e.gridColumns:2,onChange:s=>r(i=>i.gridColumns=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gridColumns??2," columnas"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin horizontal"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.gridJustifyItems||"stretch",onChange:s=>r(i=>i.gridJustifyItems=s.target.value),children:[a.jsx("option",{value:"start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin vertical (celdas)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.gridAlignItems||"stretch",onChange:s=>r(i=>i.gridAlignItems=s.target.value),children:[a.jsx("option",{value:"start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"end",children:"Final"}),a.jsx("option",{value:"stretch",children:"Estirar"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre elementos (Gap)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:48,step:1,value:typeof e.gap=="number"?e.gap:8,onChange:s=>r(i=>i.gap=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??8,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado interno (Padding)"}),a.jsx("input",{type:"range",className:"form-range",min:5,max:100,step:1,value:typeof e.padding=="number"?Math.max(5,e.padding):5,onChange:s=>r(i=>i.padding=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[Math.max(5,e.padding??5),"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado externo (Margin)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:1,value:typeof e.margin=="number"?e.margin:5,onChange:s=>r(i=>i.margin=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.margin??5,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nivel de profundidad (Z-index)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]})]})}]})},fy={background:"#adb5bd",backgroundImage:"",backgroundSize:"cover",padding:5,borderRadius:0,boxShadow:"",translateX:0,translateY:0,zIndex:0,margin:5,opacity:1,layout:"flex",direction:"column",justify:"flex-start",align:"flex-start",wrap:"nowrap",gap:8,gridColumns:2,gridJustifyItems:"stretch",gridAlignItems:"stretch",transparentBackground:!1,width:null,height:null,minWidth:100,minHeight:60};fh.craft={displayName:"Contenedor",props:fy,related:{settings:dy}};const $s=({size:r="small",variant:e="contained",color:n="primary",buttonTextColor:o="",buttonBgColor:s="",buttonBorderColor:i="",actionType:d="route",to:f="",sectionName:p="",externalUrl:m="",externalNewTab:v=!0,translateX:b=0,translateY:y=0,zIndex:j=0,text:C="Haz clic aqu",opacity:w=1,className:_="",children:z})=>{const{id:S,connectors:{connect:R,drag:I},actions:{setProp:$},selected:E}=pe(M=>({selected:M.events.selected})),{actions:{add:D,selectNode:P,delete:X},query:{createNode:W,node:F}}=Me(),H=ft(),G=M=>{M.stopPropagation(),M.preventDefault();const q=M.clientX,le=M.clientY,ie=Number(b)||0,he=Number(y)||0,ae=Y=>{const de=Y.clientX-q,me=Y.clientY-le;$(ge=>{ge.translateX=ie+de,ge.translateY=he+me})},A=()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",A)},se=M=>{if(M.preventDefault(),d==="section"){const le=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,ie=new URLSearchParams;le&&ie.set("site",le),p&&ie.set("section",p);const he=p?`/editor?${ie.toString()}`:"";if(!he)return;if(he.startsWith("#")){const ae=document.querySelector(he);ae&&ae.scrollIntoView({behavior:"smooth",block:"start"});return}H(he);return}if(d==="external"){const le=(m||"").trim();if(!le)return;typeof window<"u"&&window.open(le,v?"_blank":"_self");return}const q=(f||"").trim();if(q){if(q.startsWith("#")){const le=document.querySelector(q);le&&le.scrollIntoView({behavior:"smooth",block:"start"});return}H(q)}},V=(n||"primary").toLowerCase(),O=e==="outlined",J=e==="text",te=!!(o||s||i),T=[te?"btn":J?"btn btn-link":`btn ${O?"btn-outline-":"btn-"}${V}`,r==="large"?"btn-lg":r==="small"?"btn-sm":"",_].filter(Boolean).join(" "),k={transform:`translate(${Number(b)||0}px, ${Number(y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(w)||0)),position:"relative",zIndex:Number(j)||0};return te&&(J?(k.backgroundColor="transparent",o&&(k.color=o),k.border="none"):O?(k.backgroundColor="transparent",o&&(k.color=o),k.borderStyle="solid",k.borderWidth=1,i?k.borderColor=i:o&&(k.borderColor=o)):(s&&(k.backgroundColor=s),o&&(k.color=o),k.borderStyle="solid",k.borderWidth=1,i?k.borderColor=i:s&&(k.borderColor=s))),a.jsxs("button",{ref:M=>R(I(M)),type:"button",className:`${T} justify-content-center`,style:k,onClick:se,children:[C,E&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:G}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation();const q=F(S).get(),{type:le,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=F(he).get().data.nodes||[],Y=Math.max(0,A.indexOf(S)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=W(be.createElement(le,de));D(me,he,Y+1),P(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation(),X(S)}})]})]})},NO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.text??"",onChange:n=>r(o=>o.text=n.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.size||"small",onChange:n=>r(o=>o.size=n.target.value),children:[a.jsx("option",{value:"small",children:"Pequeo"}),a.jsx("option",{value:"medium",children:"Mediano"}),a.jsx("option",{value:"large",children:"Grande"})]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Variante"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"contained",onChange:n=>r(o=>o.variant=n.target.value),children:[a.jsx("option",{value:"text",children:"Texto"}),a.jsx("option",{value:"outlined",children:"Con borde"}),a.jsx("option",{value:"contained",children:"Relleno"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color predefinido"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.color||"primary",onChange:n=>r(o=>o.color=n.target.value),children:[a.jsx("option",{value:"primary",children:"Principal"}),a.jsx("option",{value:"secondary",children:"Secundario"}),a.jsx("option",{value:"success",children:"xito"}),a.jsx("option",{value:"danger",children:"Peligro"}),a.jsx("option",{value:"warning",children:"Advertencia"}),a.jsx("option",{value:"info",children:"Informacin"}),a.jsx("option",{value:"light",children:"Claro"}),a.jsx("option",{value:"dark",children:"Oscuro"})]})]}),a.jsx("hr",{className:"my-1"}),a.jsx("label",{className:"form-label text-muted small",children:"Colores personalizados"}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:n=>r(o=>o.buttonTextColor=n.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBgColor||"#0d6efd",onChange:n=>r(o=>o.buttonBgColor=n.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBorderColor||"#0d6efd",onChange:n=>r(o=>o.buttonBorderColor=n.target.value)})]})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"route",onChange:n=>r(o=>o.actionType=n.target.value),children:[a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Ir a seccin"}),a.jsx("option",{value:"external",children:"Enlace externo"})]})]}),(e.actionType||"route")==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta (Ej: /contacto)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to??"",onChange:n=>r(o=>o.to=n.target.value),placeholder:"/mi-pagina"})]}),(e.actionType||"route")==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(o=>o.sectionName=n.target.value),placeholder:"Landing, Home..."})]}),(e.actionType||"route")==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl??"",onChange:n=>r(o=>o.externalUrl=n.target.value),placeholder:"https://google.com"})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"btn-ext-newtab",className:"form-check-input",type:"checkbox",checked:!!e.externalNewTab,onChange:n=>r(o=>o.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"btn-ext-newtab",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.1,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))})]})]})}]})};$s.craft={displayName:"Botn",props:{size:"small",variant:"contained",color:"primary",buttonTextColor:"",buttonBgColor:"",buttonBorderColor:"",actionType:"route",text:"Haz clic aqu",to:"",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1,className:""},related:{settings:NO}};const Ht=({text:r,fontSize:e,fontClass:n,maxWidth:o,translateX:s=0,translateY:i=0,zIndex:d=0,opacity:f=1,textColor:p="#000000",textShadowX:m=0,textShadowY:v=0,textShadowBlur:b=0,textShadowColor:y="#000000",textAlign:j="left",lineHeight:C=1.5,padding:w,paddingVertical:_=w||0,paddingHorizontal:z=w||0,borderWidth:S=0,borderColor:R="#000000",borderRadius:I=0})=>{const{id:$,connectors:{connect:E,drag:D},hasSelectedNode:P,hasDraggedNode:X,actions:{setProp:W}}=pe(ne=>({hasSelectedNode:ne.events.selected,hasDraggedNode:ne.events.dragged})),{actions:{add:F,selectNode:H,delete:G},query:{createNode:se,node:V}}=Me(),O=ne=>{ne.stopPropagation(),ne.preventDefault();const re=ne.clientX,T=ne.clientY,k=Number(s)||0,M=Number(i)||0,q=ie=>{const he=ie.clientX-re,ae=ie.clientY-T;W(A=>{A.translateX=k+he,A.translateY=M+ae})},le=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",le)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",le)},[J,te]=L.useState(!1);return L.useEffect(()=>{!P&&te(!1)},[P]),a.jsxs("div",{ref:ne=>E(D(ne)),onClick:()=>te(!0),style:{display:"inline-block",maxWidth:o?`${o}px`:"100%",transform:`translate(${Number(s)||0}px, ${Number(i)||0}px)`,opacity:Math.max(0,Math.min(1,Number(f)||0)),position:"relative",zIndex:Number(d)||0,padding:`${Number(_)||0}px ${Number(z)||0}px`,border:`${Number(S)||0}px solid ${R||"#000000"}`,borderRadius:`${Number(I)||0}px`},children:[a.jsx("p",{className:n||void 0,style:{fontSize:e,color:p||"#000000",textAlign:j||"left",lineHeight:typeof C=="number"&&Number.isFinite(C)?C:parseFloat(C)||1.5,textShadow:`${Number(m)||0}px ${Number(v)||0}px ${Number(b)||0}px ${y||"#000000"}`,whiteSpace:"pre-wrap",overflowWrap:"anywhere",wordBreak:"break-word"},children:r}),P&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:O}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation();const re=V($).get(),{type:T,props:k,parent:M}={type:re.data.type,props:re.data.props,parent:re.data.parent},le=V(M).get().data.nodes||[],ie=Math.max(0,le.indexOf($)),he={...k,translateX:(Number(k.translateX)||0)+10,translateY:(Number(k.translateY)||0)+10},ae=se(be.createElement(T,he));F(ae,M,ie+1),H(ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),G($)}})]})]})},CO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Texto",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.text??"",onChange:n=>r(o=>o.text=n.target.value),placeholder:"Escribe el contenido..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipografa"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.fontClass??"",onChange:n=>r(o=>o.fontClass=n.target.value),children:[a.jsx("option",{value:"",children:"Predeterminada del tema"}),a.jsx("option",{value:"font-amazonica",children:"Amazonica"}),a.jsx("option",{value:"font-jungle-camp",children:"Jungle Camp"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho mximo (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",placeholder:"Ej: 300 (vaco = 100%)",value:e.maxWidth||"",onChange:n=>r(o=>o.maxWidth=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de fuente"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:200,step:1,value:typeof e.fontSize=="number"?e.fontSize:20,onChange:n=>r(o=>o.fontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.fontSize??20,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin de texto"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.textAlign||"left",onChange:n=>r(o=>o.textAlign=n.target.value),children:[a.jsx("option",{value:"left",children:"Izquierda"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"right",children:"Derecha"}),a.jsx("option",{value:"justify",children:"Justificado"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Interlineado"}),a.jsx("input",{type:"range",className:"form-range",min:.8,max:3,step:.1,value:Number.isFinite(e.lineHeight)?e.lineHeight:1.5,onChange:n=>r(o=>o.lineHeight=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[(Number.isFinite(e.lineHeight)?e.lineHeight:1.5).toFixed(1),"x"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textColor||"#000000",onChange:n=>r(o=>o.textColor=n.target.value)})]})]})},{label:"Estilo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Horizontal"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:Number.isFinite(e.paddingHorizontal)?e.paddingHorizontal:e.padding||0,onChange:n=>r(o=>o.paddingHorizontal=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.paddingHorizontal??e.padding??0,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Vertical"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:1,value:Number.isFinite(e.paddingVertical)?e.paddingVertical:e.padding||0,onChange:n=>r(o=>o.paddingVertical=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.paddingVertical??e.padding??0,"px"]})]}),a.jsxs("div",{className:"border-top pt-3",children:[a.jsx("label",{className:"form-label fw-bold",children:"Borde"}),a.jsxs("div",{className:"row g-2 mb-2",children:[a.jsxs("div",{className:"col-12",children:[a.jsx("label",{className:"form-label small",children:"Grosor"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:20,value:Number.isFinite(e.borderWidth)?e.borderWidth:0,onChange:n=>r(o=>o.borderWidth=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderWidth??0,"px"]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label small",children:"Color"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(o=>o.borderColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label small",children:"Radio"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:0,value:Number.isFinite(e.borderRadius)?e.borderRadius:0,onChange:n=>r(o=>o.borderRadius=Number(n.target.value))})]})]})]})]})},{label:"Efectos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Sombra X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.textShadowX)?e.textShadowX:0,onChange:n=>r(o=>o.textShadowX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Sombra Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.textShadowY)?e.textShadowY:0,onChange:n=>r(o=>o.textShadowY=Number(n.target.value))})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label",children:"Desenfoque"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:0,value:Number.isFinite(e.textShadowBlur)?e.textShadowBlur:0,onChange:n=>r(o=>o.textShadowBlur=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de la sombra"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textShadowColor||"#000000",onChange:n=>r(o=>o.textShadowColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Orden de capas (Z-index)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover horizontal"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value)),placeholder:"px"})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover vertical"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value)),placeholder:"px"})]})]})]})}]})};Ht.craft={displayName:"Texto",props:{text:"Texto de ejemplo",fontSize:20,fontClass:"",maxWidth:null,translateX:0,translateY:0,zIndex:0,opacity:1,textColor:"#000000",textShadowX:0,textShadowY:0,textShadowBlur:0,textShadowColor:"#000000",textAlign:"left",lineHeight:1.5,paddingVertical:0,paddingHorizontal:0,borderWidth:0,borderColor:"#000000",borderRadius:0},rules:{canDrag:r=>r.data.props.text!=="Drag"},related:{settings:CO}};const hh=({children:r})=>{const{connectors:{connect:e}}=pe();return a.jsx("div",{ref:e,className:"text-only",children:r})};hh.craft={rules:{canMoveIn:r=>r.every(e=>e.data.type===Ht)}};const mh=({children:r})=>{const{connectors:{connect:e}}=pe();return a.jsx("div",{ref:e,children:r})};mh.craft={rules:{canMoveIn:r=>r.every(e=>e.data.type===$s)}};const hy=({background:r,padding:e=20,width:n=360,height:o=220,minWidth:s=180,minHeight:i=120,x:d=0,y:f=0,zIndex:p=0})=>{const{id:m,connectors:{connect:v,drag:b},actions:{setProp:y},selected:j}=pe(I=>({selected:I.events.selected})),{actions:{add:C,selectNode:w,delete:_},query:{createNode:z,node:S}}=Me(),R=I=>{I.stopPropagation(),I.preventDefault();const $=I.clientX,E=I.clientY,D=Number(d)||0,P=Number(f)||0,X=F=>{const H=F.clientX-$,G=F.clientY-E;y(se=>{se.x=D+H,se.y=P+G})},W=()=>{document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",W)};document.addEventListener("mousemove",X),document.addEventListener("mouseup",W)};return a.jsxs("div",{ref:I=>I&&v(b(I)),style:{position:"absolute",left:typeof d=="number"?`${d}px`:d,top:typeof f=="number"?`${f}px`:f,zIndex:Number(p)||0,width:typeof n=="number"?`${n}px`:n,height:typeof o=="number"?`${o}px`:o,minWidth:s,minHeight:i,boxSizing:"border-box",outline:j?"1px dashed #3b82f6":void 0},children:[a.jsxs(fh,{background:r,padding:e,children:[a.jsxs(xe,{id:"text",is:hh,canvas:!0,children:[a.jsx(Ht,{text:"Ttulo",fontSize:20}),a.jsx(Ht,{text:"Subttulo",fontSize:15})]}),a.jsx(xe,{id:"buttons",is:mh,canvas:!0,children:a.jsx($s,{size:"small",text:"Saber ms",variant:"contained",color:"primary",children:"Haz clic aqu"})})]}),j&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:R}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:I=>{I.preventDefault(),I.stopPropagation();const $=S(m).get(),{type:E,props:D,parent:P}={type:$.data.type,props:$.data.props,parent:$.data.parent},W=S(P).get().data.nodes||[],F=Math.max(0,W.indexOf(m)),H={...D,x:(Number(D.x)||0)+10,y:(Number(D.y)||0)+10},G=z(be.createElement(E,H));C(G,P,F+1),w(G.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:I=>{I.preventDefault(),I.stopPropagation(),_(m)}})]})]})};hy.craft={displayName:"Tarjeta",props:{...fy,width:360,height:220,minWidth:180,minHeight:120,x:0,y:0,zIndex:0},related:{settings:dy}};const lo=({src:r="https://placehold.co/1200x500",alt:e="Imagen",width:n=100,height:o=null,fit:s="cover",translateX:i=0,translateY:d=0,zIndex:f=0,opacity:p=1,actionType:m="none",to:v="",sectionName:b="",externalUrl:y="",externalNewTab:j=!1})=>{const{id:C,connectors:{connect:w,drag:_},actions:{setProp:z},selected:S}=pe(G=>({props:G.data.props,selected:G.events.selected})),{actions:{add:R,selectNode:I,delete:$},query:{createNode:E,node:D},enabled:P}=Me(G=>({enabled:G.options.enabled})),X=ft(),W=G=>{G.stopPropagation(),G.preventDefault();const se=G.clientX,V=G.clientY,O=Number(i)||0,J=Number(d)||0,te=re=>{const T=re.clientX-se,k=re.clientY-V;z(M=>{M.translateX=O+T,M.translateY=J+k})},ne=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)},F=G=>{if(G.preventDefault(),P)return;if(m==="section"){const V=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,O=new URLSearchParams;V&&O.set("site",V),b&&O.set("section",b);const J=b?`/editor?${O.toString()}`:"";if(!J)return;X(J);return}if(m==="external"){const V=(y||"").trim();if(!V)return;typeof window<"u"&&window.open(V,j?"_blank":"_self");return}const se=(v||"").trim();if(se){if(se.startsWith("#")){const V=document.querySelector(se);V&&V.scrollIntoView({behavior:"smooth",block:"start"});return}X(se)}},H=m==="route"&&(v||"").trim()||m==="section"&&(b||"").trim()||m==="external"&&(y||"").trim();return a.jsxs("div",{ref:G=>w(_(G)),style:{transform:`translate(${Number(i)||0}px, ${Number(d)||0}px)`,opacity:Math.max(0,Math.min(1,Number(p)||0)),position:"relative",zIndex:Number(f)||0,cursor:H?"pointer":"default",width:`${n}%`,height:Number.isFinite(o)?`${o}px`:"auto"},onClick:F,children:[a.jsx("img",{src:r,alt:e,style:{display:"block",width:"100%",height:"100%",objectFit:s,borderRadius:4}}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:W}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:G=>{G.preventDefault(),G.stopPropagation();const se=D(C).get(),{type:V,props:O,parent:J}={type:se.data.type,props:se.data.props,parent:se.data.parent},ne=D(J).get().data.nodes||[],re=Math.max(0,ne.indexOf(C)),T={...O,translateX:(Number(O.translateX)||0)+10,translateY:(Number(O.translateY)||0)+10},k=E(be.createElement(V,T));R(k,J,re+1),I(k.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:G=>{G.preventDefault(),G.stopPropagation(),$(C)}})]})]})};function wO(){const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Imagen",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de la imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.src??"",onChange:s=>r(i=>i.src=s.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0],d=await n(i);d&&r(f=>f.src=d)},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto alternativo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.alt??"",onChange:s=>r(i=>i.alt=s.target.value),placeholder:"Descripcin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho (%)"}),a.jsx("input",{type:"range",className:"form-range",min:10,max:100,step:1,value:typeof e.width=="number"?e.width:100,onChange:s=>r(i=>i.width=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.width??100,"%"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alto (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:0,step:1,value:Number.isFinite(e.height)?e.height:"",onChange:s=>{const i=s.target.value;r(d=>d.height=i===""?null:Number(i))},placeholder:"vaco = auto"}),a.jsx("div",{className:"small text-muted",children:"Deja vaco para mantener altura automtica"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ajuste de imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.fit||"cover",onChange:s=>r(i=>i.fit=s.target.value),children:[a.jsx("option",{value:"contain",children:"Contener (Contain)"}),a.jsx("option",{value:"cover",children:"Cubrir (Cover)"}),a.jsx("option",{value:"fill",children:"Estirar (Fill)"}),a.jsx("option",{value:"none",children:"Original (None)"}),a.jsx("option",{value:"scale-down",children:"Reducir (Scale-down)"})]})]})]})},{label:"Interaccin",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin al hacer clic"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:s=>r(i=>i.actionType=s.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:s=>r(i=>i.sectionName=s.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:s=>r(i=>i.externalUrl=s.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:s=>r(i=>i.externalNewTab=s.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.to||"",onChange:s=>r(i=>i.to=s.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nivel de profundidad (Z-index)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover horizontal"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value)),placeholder:"px"})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover vertical"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value)),placeholder:"px"})]})]})]})}]})}lo.craft={displayName:"Imagen",props:{src:"https://placehold.co/1200x500",alt:"Imagen",width:100,height:null,fit:"cover",translateX:0,translateY:0,zIndex:0,opacity:1,actionType:"none",to:"",sectionName:"",externalUrl:"",externalNewTab:!1},related:{settings:wO}};const ra=({backgroundImage:r="https://placehold.co/1200x500",backgroundSize:e="cover",canvasScale:n=1,targetWidth:o,targetHeight:s,padding:i=40,minHeight:d=200,translateX:f=0,translateY:p=0,zIndex:m=0,margin:v=0,opacity:b=1,layout:y="flex",direction:j="column",justify:C="flex-start",align:w="flex-start",wrap:_="nowrap",gap:z=8,gridColumns:S=2,gridJustifyItems:R="stretch",gridAlignItems:I="stretch",transparentBackground:$=!1,backgroundColor:E,children:D})=>{const{id:P,connectors:{connect:X,drag:W},actions:{setProp:F},selected:H}=pe(M=>({selected:M.events.selected})),{enabled:G,actions:{add:se,selectNode:V,delete:O},query:{createNode:J,node:te}}=Me(M=>({enabled:M.options.enabled})),ne=w==="center"?"center":w==="flex-end"?"right":"left",re=(()=>{const q=Number(s),le=Number.isFinite(q)&&q>0?q:720,ie=Number(d)||0;return Math.max(le,ie)})(),T={width:o?`${o}px`:"100%",minHeight:`${re}px`,position:"relative",padding:`${Math.max(5,i)}px`,backgroundColor:E||"transparent",backgroundImage:$||!r?"none":`url(${r})`,backgroundSize:e||"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",gap:typeof z=="number"?`${z}px`:z,transform:`translate(${Number(f)||0}px, ${Number(p)||0}px)`,transformOrigin:"top left",margin:typeof v=="number"?`${v}px`:v||0,opacity:Math.max(0,Math.min(1,Number(b)||0)),zIndex:Number(m)||0},k=y==="grid"?{display:"grid",gridTemplateColumns:`repeat(${S||1}, minmax(0, 1fr))`,justifyItems:R,alignItems:I}:{display:"flex",flexDirection:j,alignItems:w,justifyContent:C,flexWrap:_,textAlign:ne};return a.jsxs("div",{ref:M=>{M&&X(P==="ROOT"?M:W(M))},style:{...T,...k,width:P==="ROOT"?"1280px":T.width,minHeight:P==="ROOT"?"720px":T.minHeight},children:[H&&P!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},ref:M=>M&&W(M)}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation();const q=te(P).get(),{type:le,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=te(he).get().data.nodes||[],Y=Math.max(0,A.indexOf(P)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=J(be.createElement(le,de));se(me,he,Y+1),V(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.preventDefault(),M.stopPropagation(),O(P)}})]}),G&&P!=="ROOT"&&a.jsxs("div",{style:{position:"absolute",inset:0,pointerEvents:"none"},children:[a.jsx("div",{ref:M=>M&&W(M),style:{position:"absolute",top:0,left:0,right:0,height:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde superior)"}),a.jsx("div",{ref:M=>M&&W(M),style:{position:"absolute",bottom:0,left:0,right:0,height:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde inferior)"}),a.jsx("div",{ref:M=>M&&W(M),style:{position:"absolute",top:0,bottom:0,left:0,width:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde izquierdo)"}),a.jsx("div",{ref:M=>M&&W(M),style:{position:"absolute",top:0,bottom:0,right:0,width:10,cursor:"move",pointerEvents:"auto"},"aria-label":"Mover contenedor (borde derecho)"})]}),D,H&&null]})};function SO(){const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:s=>r(i=>i.backgroundColor=s.target.value),title:"Elige un color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor||"",onChange:s=>r(i=>i.backgroundColor=s.target.value),placeholder:"#ffffff"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL imagen fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:s=>r(i=>i.backgroundImage=s.target.value),placeholder:"https://...",disabled:!!e.transparentBackground})]}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),s.target.value=null)},disabled:o||!!e.transparentBackground}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"bgimg-transparent",type:"checkbox",className:"form-check-input",checked:!!e.transparentBackground,onChange:s=>r(i=>i.transparentBackground=s.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"bgimg-transparent",children:"Fondo transparente"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.backgroundSize||"cover",onChange:s=>r(i=>i.backgroundSize=s.target.value),children:[a.jsx("option",{value:"cover",children:"Cubrir (cover)"}),a.jsx("option",{value:"contain",children:"Ajustar (contain)"}),a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"100% 100%",children:"Estirar"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margin (px)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:1,value:typeof e.margin=="number"?e.margin:0,onChange:s=>r(i=>i.margin=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:5,max:100,step:1,value:e.padding!=null?Math.max(5,e.padding):40,onChange:s=>r(i=>i.padding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura (min px)"}),a.jsx("input",{type:"range",className:"form-range",min:50,max:500,step:10,value:e.minHeight??200,onChange:s=>r(i=>i.minHeight=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Distribucin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.layout||"flex",onChange:s=>r(i=>i.layout=s.target.value),children:[a.jsx("option",{value:"flex",children:"Flex"}),a.jsx("option",{value:"grid",children:"Grid"})]})]}),(e.layout||"flex")==="flex"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"column",onChange:s=>r(i=>i.direction=s.target.value),children:[a.jsx("option",{value:"column",children:"Columna"}),a.jsx("option",{value:"row",children:"Fila"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Alineacin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.align||"flex-start",onChange:s=>r(i=>i.align=s.target.value),children:[a.jsx("option",{value:"flex-start",children:"Inicio"}),a.jsx("option",{value:"center",children:"Centro"}),a.jsx("option",{value:"flex-end",children:"Final"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado (Gap)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:64,step:4,value:e.gap??8,onChange:s=>r(i=>i.gap=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??8,"px"]})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]})]})}]})}ra.craft={displayName:"Lienzo",props:{backgroundImage:"",backgroundSize:"cover",padding:40,minHeight:200,translateX:0,translateY:0,zIndex:0,margin:0,opacity:1,layout:"flex",direction:"column",justify:"flex-start",align:"flex-start",wrap:"nowrap",gap:8,gridColumns:2,gridJustifyItems:"stretch",gridAlignItems:"stretch",transparentBackground:!1},related:{settings:SO}};const Ys=({to:r,sectionName:e,direction:n="left",size:o=56,stroke:s=8,color:i="#E6E3A1",bg:d="transparent",rounded:f=!0,title:p,ariaLabel:m,className:v="",style:b={},translateX:y=0,translateY:j=0,zIndex:C=0,opacity:w=1})=>{const{id:_,connectors:{connect:z,drag:S},actions:{setProp:R},selected:I}=pe(V=>({selected:V.events.selected})),{actions:{add:$,selectNode:E,delete:D},query:{createNode:P,node:X}}=Me(),W=ft(),F=V=>{V.preventDefault();let O=r;if(!O&&e){const J=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,te=new URLSearchParams;J&&te.set("site",J),te.set("section",e),O=`/editor?${te.toString()}`}if(O){if(typeof O=="string"&&O.startsWith("#")){const J=document.querySelector(O);J&&J.scrollIntoView({behavior:"smooth",block:"start"});return}W(O)}},H=V=>{V.stopPropagation(),V.preventDefault();const O=V.clientX,J=V.clientY,te=Number(y)||0,ne=Number(j)||0,re=k=>{const M=k.clientX-O,q=k.clientY-J;R(le=>{le.translateX=te+M,le.translateY=ne+q})},T=()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",re),document.addEventListener("mouseup",T)},G={left:0,right:180,up:-90,down:90}[n]??0,se={background:d,border:"none",width:o+16,height:o+16,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:f?"9999px":"8px",cursor:"pointer",transform:`translate(${Number(y)||0}px, ${Number(j)||0}px)`,opacity:Math.max(0,Math.min(1,Number(w)||0)),position:"relative",zIndex:Number(C)||0,...b};return a.jsxs("button",{ref:V=>z(S(V)),type:"button",onClick:F,title:p,"aria-label":m||p||"Ir",className:`btn p-0 ${v}`,style:se,children:[a.jsx("svg",{width:o,height:o,viewBox:"0 0 56 56",role:"img","aria-hidden":"true",style:{transform:`rotate(${G}deg)`},children:a.jsx("polyline",{points:"34,12 18,28 34,44",fill:"none",stroke:i,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})}),I&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:H}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation();const O=X(_).get(),{type:J,props:te,parent:ne}={type:O.data.type,props:O.data.props,parent:O.data.parent},T=X(ne).get().data.nodes||[],k=Math.max(0,T.indexOf(_)),M={...te,translateX:(Number(te.translateX)||0)+10,translateY:(Number(te.translateY)||0)+10},q=P(be.createElement(J,M));$(q,ne,k+1),E(q.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation(),D(_)}})]})]})},_O=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Direccin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.direction||"left",onChange:n=>r(o=>o.direction=n.target.value),children:[a.jsx("option",{value:"left",children:"Izquierda"}),a.jsx("option",{value:"right",children:"Derecha"}),a.jsx("option",{value:"up",children:"Arriba"}),a.jsx("option",{value:"down",children:"Abajo"})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:24,max:128,value:Number.isFinite(e.size)?e.size:56,onChange:n=>r(o=>o.size=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Grosor"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:2,max:16,value:Number.isFinite(e.stroke)?e.stroke:8,onChange:n=>r(o=>o.stroke=Number(n.target.value))})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.color||"#E6E3A1",onChange:n=>r(o=>o.color=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.bg||"#00000000",onChange:n=>r(o=>o.bg=n.target.value)})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",id:"chev-rounded",checked:!!e.rounded,onChange:n=>r(o=>o.rounded=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"chev-rounded",children:"Bordes redondeados"})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ir a seccin (Nombre)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(o=>o.sectionName=n.target.value),placeholder:"Ej: Landing"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"O ir a ruta interna"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to??"",onChange:n=>r(o=>o.to=n.target.value),placeholder:"/blog"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{className:"form-range",type:"range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ys.craft={displayName:"Botn Flecha",props:{to:"",sectionName:"",direction:"left",size:56,stroke:8,color:"#E6E3A1",bg:"transparent",rounded:!0,title:"",ariaLabel:"",className:"",style:{},translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:_O}};const ph={Navegacin:["house","house-fill","arrow-left","arrow-right","arrow-up","arrow-down","chevron-left","chevron-right","chevron-up","chevron-down","chevron-double-left","chevron-double-right","arrow-return-left","arrow-return-right","skip-forward","skip-backward","caret-left-fill","caret-right-fill","caret-up-fill","caret-down-fill","arrow-counterclockwise","arrow-clockwise"],Comunicacin:["telephone","telephone-fill","envelope","envelope-fill","chat","chat-fill","chat-left","chat-left-fill","chat-right","chat-right-fill","chat-dots","chat-dots-fill","megaphone","megaphone-fill","bell","bell-fill","bell-slash","bell-slash-fill"],Medios:["play","play-fill","pause","pause-fill","stop","stop-fill","music-note","music-note-beamed","volume-up","volume-up-fill","volume-down","volume-down-fill","volume-mute","volume-mute-fill","mic","mic-fill","mic-mute","mic-mute-fill"],Acciones:["search","funnel","funnel-fill","download","upload","share","share-fill","heart","heart-fill","bookmark","bookmark-fill","star","star-fill","flag","flag-fill","trash","trash-fill","pencil","pencil-fill","pencil-square","check","check-circle","x","x-circle","x-lg","plus","plus-circle","plus-lg"],"Tipos de archivos":["file-earmark","file-earmark-fill","file-earmark-text","file-earmark-text-fill","file-earmark-image","file-earmark-image-fill","file-earmark-pdf","file-earmark-pdf-fill","file-earmark-zip","file-earmark-zip-fill","file-earmark-code","file-earmark-code-fill","folder","folder-fill","folder-open","folder-open-fill"],Usuarios:["person","person-fill","person-circle","people","people-fill","person-badge","person-badge-fill","person-check","person-check-fill","person-plus","person-plus-fill","person-x","person-x-fill"],Social:["twitter","facebook","instagram","linkedin","youtube","github","google","apple","microsoft","snapchat","telegram","whatsapp","discord","twitch","reddit","pinterest","tiktok"],Interfaz:["menu-button","menu-button-wide","menu-button-wide-fill","list","list-check","list-task","grid","grid-3x3","grid-3x3-gap","layout-three-columns","layout-sidebar","layout-text-window","columns","rows","layout-split","window","window-dock","window-sidebar"],Comercio:["cart","cart-fill","cart-plus","cart-plus-fill","cart-check","cart-check-fill","cart-x","cart-x-fill","bag","bag-fill","shop","shop-window","credit-card","credit-card-fill","cash","cash-coin","currency-dollar","currency-euro","currency-pound"],Smbolos:["emoji-smile","emoji-smile-fill","emoji-heart-eyes","emoji-heart-eyes-fill","emoji-laughing","emoji-laughing-fill","emoji-wink","emoji-wink-fill","emoji-dizzy","emoji-dizzy-fill","emoji-angry","emoji-angry-fill","lightning","lightning-fill","fire","trophy","trophy-fill","award","award-fill","medal","medal-fill"],Informacin:["info","info-circle","info-circle-fill","question-circle","question-circle-fill","exclamation-circle","exclamation-circle-fill","exclamation-triangle","exclamation-triangle-fill","shield","shield-fill","shield-check","shield-exclamation","lock","lock-fill","unlock","unlock-fill","key","key-fill"],Transporte:["car-front","car-front-fill","truck","truck-front","bicycle","scooter","airplane","airplane-fill","airplane-engines","airplane-engines-fill","suitcase","suitcase-fill"],Clima:["cloud","cloud-fill","cloud-rain","cloud-rain-fill","cloud-sun","cloud-sun-fill","cloud-snow","cloud-snow-fill","cloud-lightning","cloud-lightning-fill","cloud-lightning-rain","cloud-lightning-rain-fill","sun","sun-fill","moon","moon-fill","moon-stars","moon-stars-fill","rainbow"],Tiempo:["clock","clock-fill","calendar","calendar-fill","calendar-event","calendar-event-fill","calendar-check","calendar-check-fill","calendar-week","calendar-week-fill","calendar-month","calendar-month-fill","stopwatch","stopwatch-fill","hourglass","hourglass-split","hourglass-bottom"]},my=({onSelect:r,selectedIcon:e="",label:n="Seleccionar icono"})=>{const[o,s]=L.useState(!1),[i,d]=L.useState(""),[f,p]=L.useState("Todos"),v=Object.values(ph).flat().filter(j=>{const C=j.toLowerCase().includes(i.toLowerCase()),w=f==="Todos"||ph[f]?.includes(j);return C&&w}),b=j=>{r(j),s(!1),d("")},y=["Todos",...Object.keys(ph)];return a.jsxs("div",{style:{position:"relative"},children:[a.jsx("label",{className:"form-label",children:n}),a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 d-flex align-items-center justify-content-between",onClick:()=>s(!o),children:[a.jsx("span",{className:"d-flex align-items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:`bi bi-${e}`}),a.jsx("span",{children:e})]}):a.jsx("span",{className:"text-muted",children:"Ningn icono seleccionado"})}),a.jsx("i",{className:`bi bi-chevron-${o?"up":"down"}`})]}),o&&a.jsxs("div",{className:"bg-white border rounded shadow-sm position-absolute w-100",style:{marginTop:"4px",maxHeight:"400px",zIndex:1e3,overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsx("div",{className:"p-2 border-bottom",children:a.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"Buscar icono...",value:i,onChange:j=>d(j.target.value)})}),a.jsx("div",{className:"border-bottom p-2",style:{overflowX:"auto"},children:a.jsx("div",{className:"d-flex gap-1 flex-wrap",children:y.map(j=>a.jsx("button",{type:"button",className:`btn btn-sm ${f===j?"btn-primary":"btn-outline-secondary"}`,onClick:()=>{p(j),d("")},children:j},j))})}),a.jsx("div",{style:{overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(60px, 1fr))",gap:"8px",padding:"12px"},children:v.length>0?v.map(j=>a.jsxs("button",{type:"button",className:`btn btn-sm d-flex flex-column align-items-center ${e===j?"btn-primary":"btn-outline-secondary"}`,style:{height:"60px",padding:"8px"},onClick:()=>b(j),title:j,children:[a.jsx("i",{className:`bi bi-${j}`,style:{fontSize:"20px"}}),a.jsx("span",{style:{fontSize:"10px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},children:j.length>8?j.substring(0,8)+"...":j})]},j)):a.jsx("div",{className:"text-center text-muted p-3",style:{gridColumn:"1 / -1"},children:"No se encontraron iconos"})}),e&&a.jsx("div",{className:"p-2 border-top",children:a.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger w-100",onClick:()=>{r(""),s(!1)},children:[a.jsx("i",{className:"bi bi-x-circle me-1"}),"Limpiar seleccin"]})})]})]})},Xs=({iconName:r="star",iconSize:e=20,iconColor:n="#000000",backgroundColor:o="",borderColor:s="",borderWidth:i=0,borderRadius:d=0,padding:f=10,actionType:p="none",to:m="",sectionName:v="",externalUrl:b="",externalNewTab:y=!0,translateX:j=0,translateY:C=0,zIndex:w=0,opacity:_=1})=>{const{id:z,connectors:{connect:S,drag:R},actions:{setProp:I},selected:$}=pe(V=>({selected:V.events.selected})),{actions:{add:E,selectNode:D,delete:P},query:{createNode:X,node:W}}=Me(),F=ft(),H=V=>{V.stopPropagation(),V.preventDefault();const O=V.clientX,J=V.clientY,te=Number(j)||0,ne=Number(C)||0,re=k=>{const M=k.clientX-O,q=k.clientY-J;I(le=>{le.translateX=te+M,le.translateY=ne+q})},T=()=>{document.removeEventListener("mousemove",re),document.removeEventListener("mouseup",T)};document.addEventListener("mousemove",re),document.addEventListener("mouseup",T)},G=V=>{if(V.stopPropagation(),p==="route"&&m)F(m);else if(p==="section"&&v){const O=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,J=new URLSearchParams;O&&J.set("site",O),J.set("section",v),F(`/editor?${J.toString()}`)}else p==="external"&&b&&(y?window.open(b,"_blank"):window.location.href=b)},se={display:"inline-flex",alignItems:"center",justifyContent:"center",padding:`${f}px`,backgroundColor:o||"transparent",border:i>0?`${i}px solid ${s||"transparent"}`:"none",borderRadius:`${d}px`,cursor:p!=="none"?"pointer":"default",transform:`translate(${Number(j)||0}px, ${Number(C)||0}px)`,opacity:Math.max(0,Math.min(1,Number(_)||1)),position:"relative",zIndex:Number(w)||0};return a.jsxs("div",{ref:V=>S(R(V)),style:se,onClick:G,children:[a.jsx("i",{className:`bi bi-${r}`,style:{fontSize:`${e}px`,color:n}}),$&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:H}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation();const O=W(z).get(),{type:J,props:te,parent:ne}={type:O.data.type,props:O.data.props,parent:O.data.parent},T=W(ne).get().data.nodes||[],k=Math.max(0,T.indexOf(z)),M={...te,translateX:(Number(te.translateX)||0)+10,translateY:(Number(te.translateY)||0)+10},q=X(be.createElement(J,M));E(q,ne,k+1),D(q.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:V=>{V.preventDefault(),V.stopPropagation(),P(z)}})]})]})},TO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx(my,{label:"Icono",selectedIcon:e.iconName,onSelect:n=>r(o=>o.iconName=n)}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"10",max:"200",value:e.iconSize||20,onChange:n=>r(o=>o.iconSize=parseInt(n.target.value)||20)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#000000",onChange:n=>r(o=>o.iconColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"",onChange:n=>r(o=>o.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Borde (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"10",value:e.borderWidth||0,onChange:n=>r(o=>o.borderWidth=parseInt(n.target.value)||0)})]}),e.borderWidth>0&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(o=>o.borderColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.borderRadius||0,onChange:n=>r(o=>o.borderRadius=parseInt(n.target.value)||0)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.padding||10,onChange:n=>r(o=>o.padding=parseInt(n.target.value)||10)})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(o=>o.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Ninguna"}),a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Seccin"}),a.jsx("option",{value:"external",children:"URL externa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.to||"",onChange:n=>r(o=>o.to=n.target.value),placeholder:"/ruta"})]}),e.actionType==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName||"",onChange:n=>r(o=>o.sectionName=n.target.value),placeholder:"nombre-seccion"})]}),e.actionType==="external"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl||"",onChange:n=>r(o=>o.externalUrl=n.target.value),placeholder:"https://..."}),a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:n=>r(o=>o.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};Xs.craft={displayName:"Botn cono",props:{iconName:"star",iconSize:20,iconColor:"#000000",backgroundColor:"",borderColor:"",borderWidth:0,borderRadius:0,padding:10,actionType:"none",to:"",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:TO}};const py=({text:r="Descargar archivo",fileUrl:e="",suggestedName:n="",variant:o="contained",color:s="primary",buttonTextColor:i="",buttonBgColor:d="",buttonBorderColor:f="",size:p="medium",iconName:m="download",translateX:v=0,translateY:b=0,zIndex:y=0,opacity:j=1})=>{const{id:C,connectors:{connect:w,drag:_},actions:{setProp:z},selected:S}=pe(te=>({selected:te.events.selected})),{actions:{add:R,selectNode:I,delete:$},query:{createNode:E,node:D}}=Me(),P=te=>{te.stopPropagation(),te.preventDefault();const ne=te.clientX,re=te.clientY,T=Number(v)||0,k=Number(b)||0,M=le=>{const ie=le.clientX-ne,he=le.clientY-re;z(ae=>{ae.translateX=T+ie,ae.translateY=k+he})},q=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",q)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",q)},X=(s||"primary").toLowerCase(),W=o==="outlined",F=o==="text",H=!!(i||d||f),V=[H?"btn":F?"btn btn-link":`btn ${W?"btn-outline-":"btn-"}${X}`,p==="large"?"btn-lg":p==="small"?"btn-sm":""].filter(Boolean).join(" "),O={transform:`translate(${Number(v)||0}px, ${Number(b)||0}px)`,opacity:Math.max(0,Math.min(1,Number(j)||1)),position:"relative",zIndex:Number(y)||0};H&&(F?(O.backgroundColor="transparent",i&&(O.color=i),O.border="none"):W?(O.backgroundColor="transparent",i&&(O.color=i),O.borderStyle="solid",O.borderWidth=1,f?O.borderColor=f:i&&(O.borderColor=i)):(d&&(O.backgroundColor=d),i&&(O.color=i),O.borderStyle="solid",O.borderWidth=1,f?O.borderColor=f:d&&(O.borderColor=d)));const J=a.jsxs(a.Fragment,{children:[m&&a.jsx("i",{className:`bi bi-${m} me-1`,"aria-hidden":"true"}),a.jsx("span",{children:r})]});return a.jsxs("div",{ref:te=>w(_(te)),children:[e?a.jsx("a",{href:e,className:V,style:O,target:"_blank",rel:"noopener noreferrer",download:n||!0,children:J}):a.jsx("button",{type:"button",className:V,style:O,disabled:!0,children:J}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:P}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:te=>{te.preventDefault(),te.stopPropagation();const ne=D(C).get(),{type:re,props:T,parent:k}={type:ne.data.type,props:ne.data.props,parent:ne.data.parent},q=D(k).get().data.nodes||[],le=Math.max(0,q.indexOf(C)),ie={...T,translateX:(Number(T.translateX)||0)+10,translateY:(Number(T.translateY)||0)+10},he=E(be.createElement(re,ie));R(he,k,le+1),I(he.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:te=>{te.preventDefault(),te.stopPropagation(),$(C)}})]})]})},EO=()=>{const{actions:{setProp:r},props:e}=pe(i=>({props:i.data.props})),{upload:n,isUploading:o,error:s}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx(my,{label:"Icono",selectedIcon:e.iconName,onSelect:i=>r(d=>d.iconName=i)}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.text||"",onChange:i=>r(d=>d.text=i.target.value),placeholder:"Descargar archivo"})]}),a.jsx("hr",{}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL del archivo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.fileUrl||"",onChange:i=>r(d=>d.fileUrl=i.target.value),placeholder:"https://..."}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Sube un archivo o pega una URL."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir archivo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",onChange:async i=>{const d=i.target.files?.[0];if(!d)return;const f=await n(d);f&&r(p=>{p.fileUrl=f,p.suggestedName=d.name||""})},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."}),s&&a.jsx("div",{className:"text-danger small mt-1",children:String(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre sugerido"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.suggestedName||"",onChange:i=>r(d=>d.suggestedName=i.target.value),placeholder:"archivo.pdf"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Variante"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"contained",onChange:i=>r(d=>d.variant=i.target.value),children:[a.jsx("option",{value:"text",children:"Texto"}),a.jsx("option",{value:"outlined",children:"Con borde"}),a.jsx("option",{value:"contained",children:"Relleno"})]})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Tamao"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.size||"medium",onChange:i=>r(d=>d.size=i.target.value),children:[a.jsx("option",{value:"small",children:"Pequeo"}),a.jsx("option",{value:"medium",children:"Mediano"}),a.jsx("option",{value:"large",children:"Grande"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color base"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.color||"primary",onChange:i=>r(d=>d.color=i.target.value),children:[a.jsx("option",{value:"primary",children:"Principal"}),a.jsx("option",{value:"secondary",children:"Secundario"}),a.jsx("option",{value:"success",children:"xito"}),a.jsx("option",{value:"danger",children:"Peligro"}),a.jsx("option",{value:"warning",children:"Advertencia"}),a.jsx("option",{value:"info",children:"Informacin"}),a.jsx("option",{value:"light",children:"Claro"}),a.jsx("option",{value:"dark",children:"Oscuro"})]})]}),a.jsx("hr",{className:"my-1"}),a.jsx("label",{className:"form-label small text-muted",children:"Personalizado"}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:i=>r(d=>d.buttonTextColor=i.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBgColor||"#0d6efd",onChange:i=>r(d=>d.buttonBgColor=i.target.value)})]}),a.jsxs("div",{className:"col-4",children:[a.jsx("label",{className:"form-label small",children:"Borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonBorderColor||"#0d6efd",onChange:i=>r(d=>d.buttonBorderColor=i.target.value)})]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:i=>r(d=>d.translateX=Number(i.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:i=>r(d=>d.translateY=Number(i.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:i=>r(d=>d.zIndex=Number(i.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:i=>r(d=>d.opacity=Number(i.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};py.craft={displayName:"Descarga Archivo",props:{text:"Descargar archivo",fileUrl:"",suggestedName:"",variant:"contained",color:"primary",buttonTextColor:"",buttonBgColor:"",buttonBorderColor:"",size:"medium",iconName:"download",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:EO}};const gy=({width:r=200,height:e=50,backgroundColor:n="#ff6b35",borderRadius:o=0,rotation:s=0,marginX:i=0,marginY:d=0,opacity:f=1,translateX:p=0,translateY:m=0})=>{const{id:v,connectors:{connect:b,drag:y},selected:j,actions:{setProp:C}}=pe($=>({selected:$.events.selected})),{actions:{add:w,selectNode:_,delete:z},query:{createNode:S,node:R}}=Me(),I=$=>{$.stopPropagation(),$.preventDefault();const E=$.clientX,D=$.clientY,P=Number(p)||0,X=Number(m)||0,W=H=>{const G=H.clientX-E,se=H.clientY-D;C(V=>{V.translateX=P+G,V.translateY=X+se})},F=()=>{document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",F)};document.addEventListener("mousemove",W),document.addEventListener("mouseup",F)};return a.jsx("div",{ref:$=>b(y($)),style:{width:`${r}px`,height:`${e}px`,backgroundColor:n,borderRadius:`${o}px`,transform:`translate(${p}px, ${m}px) rotate(${s}deg)`,margin:`${d}px ${i}px`,opacity:f,display:"inline-block",position:"relative",boxSizing:"border-box",border:j?"2px dashed #3b82f6":"none"},children:j&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.preventDefault(),$.stopPropagation();const E=R(v).get(),{type:D,props:P,parent:X}={type:E.data.type,props:E.data.props,parent:E.data.parent},F=R(X).get().data.nodes||[],H=Math.max(0,F.indexOf(v)),G={...P,translateX:(Number(P.translateX)||0)+10,translateY:(Number(P.translateY)||0)+10},se=S(be.createElement(D,G));w(se,X,H+1),_(se.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:$=>{$.preventDefault(),$.stopPropagation(),z(v)}})]})})},kO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Estilo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Ancho (Width)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.width,onChange:n=>r(o=>o.width=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Alto (Height)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.height,onChange:n=>r(o=>o.height=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio del Borde"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:Math.min(e.width,e.height)/2,value:e.borderRadius,onChange:n=>r(o=>o.borderRadius=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.borderRadius,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Rotacin"}),a.jsxs("select",{className:"form-select",value:e.rotation,onChange:n=>r(o=>o.rotation=Number(n.target.value)),children:[a.jsx("option",{value:0,children:"0 (Horizontal)"}),a.jsx("option",{value:90,children:"90 (Vertical)"}),a.jsx("option",{value:180,children:"180"}),a.jsx("option",{value:270,children:"270"})]})]})]})},{label:"Espaciado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margen Horizontal (X)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:200,value:e.marginX,onChange:n=>r(o=>o.marginX=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.marginX,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Margen Vertical (Y)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:200,value:e.marginY,onChange:n=>r(o=>o.marginY=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.marginY,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.1,value:e.opacity,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:e.opacity})]})]})},{label:"Avanzado",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.translateX,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.translateY,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]})})}]})};gy.craft={displayName:"Rectangulo/Linea",props:{width:200,height:10,backgroundColor:"#ff6b35",borderRadius:0,rotation:0,marginX:0,marginY:0,opacity:1,translateX:0,translateY:0},related:{settings:kO}};const vy=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:o=1,gridTemplateColumns:s="repeat(2,150px)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:_},query:{createNode:z,node:S},enabled:R}=Me(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(d)||0,W=Number(f)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={display:"grid",justifyContent:"center",gridTemplateColumns:s,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(o)||1)),width:"100%",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:$,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const D=S(m).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=S(W).get().data.nodes||[],G=Math.max(0,H.indexOf(m)),se={...X,translateX:(Number(X.translateX)||0)+20,translateY:(Number(X.translateY)||0)+20},V=z(be.createElement(P,se));C(V,W,G+1),w(V.id)}catch(D){console.error("Error al duplicar:",D)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),_(m)}})]})]})},OO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(o=>o.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(o=>o.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(o=>o.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr"})," para 2 columnas iguales."]})]})})}]})};vy.craft={displayName:"Grid 2",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(2, 300px)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:OO}};const by=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:o=1,gridTemplateColumns:s="repeat(3, 300px)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:_},query:{createNode:z,node:S},enabled:R}=Me(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(d)||0,W=Number(f)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={display:"grid",justifyContent:"center",gridTemplateColumns:s,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(o)||1)),width:"fit-content",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:$,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const D=S(m).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=S(W).get().data.nodes||[],G=Math.max(0,H.indexOf(m)),se={...X,translateX:(Number(X.translateX)||0)+20,translateY:(Number(X.translateY)||0)+20},V=z(be.createElement(P,se));C(V,W,G+1),w(V.id)}catch(D){console.error("Error al duplicar:",D)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),_(m)}})]})]})},AO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(o=>o.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(o=>o.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(o=>o.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr 1fr"})," para 3 columnas iguales, o ",a.jsx("code",{children:"repeat(3, 300px)"}),"."]})]})})}]})};by.craft={displayName:"Grid 3",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(3, 300px)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:AO}};const gh=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:o=1,gridTemplateColumns:s="repeat(6, 1fr)",maxWidth:i="100%",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:_},query:{createNode:z,node:S},enabled:R}=Me(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(d)||0,W=Number(f)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={display:"grid",justifyContent:"center",gridTemplateColumns:s,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(o)||1)),width:"fit-content",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:$,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const D=S(m).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=S(W).get().data.nodes||[],G=Math.max(0,H.indexOf(m)),se={...X,translateX:(Number(X.translateX)||0)+20,translateY:(Number(X.translateY)||0)+20},V=z(be.createElement(P,se));C(V,W,G+1),w(V.id)}catch(D){console.error("Error al duplicar:",D)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),_(m)}})]})]})},RO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(o=>o.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(o=>o.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(o=>o.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr 1fr 1fr 1fr 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr 1fr 1fr 1fr 1fr"})," para 5 columnas iguales, o ",a.jsx("code",{children:"repeat(5, 200px)"}),"."]})]})})}]})};gh.craft={displayName:"Grid 5 (3+2)",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"repeat(6, 1fr)",maxWidth:"100%",translateX:0,translateY:0},related:{settings:RO}};const xy=({gap:r=20,padding:e=20,backgroundColor:n="transparent",opacity:o=1,gridTemplateColumns:s="1fr",maxWidth:i="800px",translateX:d=0,translateY:f=0,children:p})=>{const{id:m,connectors:{connect:v,drag:b},selected:y,actions:{setProp:j}}=pe(E=>({selected:E.events.selected})),{actions:{add:C,selectNode:w,delete:_},query:{createNode:z,node:S},enabled:R}=Me(E=>({enabled:E.options.enabled})),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(d)||0,W=Number(f)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={display:"grid",justifyContent:"center",gridTemplateColumns:s,gap:`${r}px`,padding:`${e}px`,backgroundColor:n,opacity:Math.max(0,Math.min(1,Number(o)||1)),width:"100%",maxWidth:i,margin:"0 auto",outline:y?"2px dashed #3b82f6":void 0,outlineOffset:"-2px",position:"relative",minHeight:"100px",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`};return a.jsxs("div",{ref:E=>v(b(E)),style:$,children:[p,y&&R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();try{const D=S(m).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=S(W).get().data.nodes||[],G=Math.max(0,H.indexOf(m)),se={...X,translateX:(Number(X.translateX)||0)+20,translateY:(Number(X.translateY)||0)+20},V=z(be.createElement(P,se));C(V,W,G+1),w(V.id)}catch(D){console.error("Error al duplicar:",D)}}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),_(m)}})]})]})},zO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espacio entre tarjetas (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(o=>o.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Relleno (Padding)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(o=>o.maxWidth=n.target.value),placeholder:"ej: 800px, 100%, 60vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{type:"color",className:"form-control form-control-color form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value),title:"Elegir color"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Columnas",content:a.jsx("div",{className:"d-grid gap-3",children:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Plantilla de Columnas (CSS)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.gridTemplateColumns,onChange:n=>r(o=>o.gridTemplateColumns=n.target.value),placeholder:"e.g. 1fr"}),a.jsxs("div",{className:"form-text",style:{fontSize:"0.75rem"},children:["Usa sintaxis CSS Grid. Ej: ",a.jsx("code",{children:"1fr"})," para una lista vertical."]})]})})}]})};xy.craft={displayName:"Grid Lista (Col)",isCanvas:!0,props:{gap:20,padding:20,backgroundColor:"transparent",opacity:1,gridTemplateColumns:"1fr",maxWidth:"800px",translateX:0,translateY:0},related:{settings:zO}};const yy=({text:r="",backgroundColor:e="transparent",textColor:n="#000000",hoverColor:o="#000000",iconColor:s="#000000",iconSize:i=28,fontSize:d=16,padding:f="12px",borderRadius:p=0,borderWidth:m=0,borderColor:v="transparent",showIcon:b=!0,showText:y=!1,actionType:j="route",to:C="/forum",sectionName:w="",externalUrl:_="",externalNewTab:z=!1,route:S,translateX:R=0,translateY:I=0,zIndex:$=0,opacity:E=1,...D})=>{const{id:P,connectors:{connect:X,drag:W},actions:{setProp:F},selected:H}=pe(q=>({selected:q.events.selected})),{actions:{add:G,selectNode:se,delete:V},query:{createNode:O,node:J},enabled:te}=Me(q=>({enabled:q.options.enabled})),ne=ft();be.useEffect(()=>{S&&F(q=>{q.to||(q.to=S),q.route=void 0})},[S,F]);const re=q=>{if(q.preventDefault(),te)return;if(j==="section"){const ie=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,he=new URLSearchParams;ie&&he.set("site",ie),w&&he.set("section",w);const ae=w?`/editor?${he.toString()}`:"";if(!ae)return;ne(ae);return}if(j==="external"){const ie=(_||"").trim();if(!ie)return;typeof window<"u"&&window.open(ie,z?"_blank":"_self");return}const le=(C||"").trim();if(le){if(le.startsWith("#")){const ie=document.querySelector(le);ie&&ie.scrollIntoView({behavior:"smooth",block:"start"});return}ne(le)}},T=q=>{q.stopPropagation(),q.preventDefault();const le=q.clientX,ie=q.clientY,he=Number(R)||0,ae=Number(I)||0,A=de=>{const me=de.clientX-le,ge=de.clientY-ie;F(Ne=>{Ne.translateX=he+me,Ne.translateY=ae+ge})},Y=()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",Y)};document.addEventListener("mousemove",A),document.addEventListener("mouseup",Y)},[k,M]=L.useState(!1);return a.jsxs("button",{...D,ref:q=>X(W(q)),onClick:re,onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),className:"d-inline-flex align-items-center justify-content-center gap-2",style:{backgroundColor:e||"transparent",border:"none",color:n,padding:f,fontSize:`${d}px`,borderRadius:`${p}px`,fontWeight:600,cursor:"pointer",transition:"all 0.3s ease",transform:`translate(${Number(R)||0}px, ${Number(I)||0}px) scale(${k?1.1:1})`,zIndex:Number($)||0,opacity:Math.max(0,Math.min(1,Number(E)||1)),position:"relative",...D.style},children:[b&&a.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"14",rx:"2",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),a.jsx("path",{d:"M4 17L6 20L8 17H4Z",fill:s,stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("line",{x1:"7",y1:"8",x2:"17",y2:"8",stroke:s,strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"7",y1:"11",x2:"14",y2:"11",stroke:s,strokeWidth:"2",strokeLinecap:"round"}),a.jsx("line",{x1:"7",y1:"14",x2:"11",y2:"14",stroke:s,strokeWidth:"2",strokeLinecap:"round"})]}),y&&r&&a.jsx("span",{children:r}),H&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:T}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation();const le=J(P).get(),{type:ie,props:he,parent:ae}={type:le.data.type,props:le.data.props,parent:le.data.parent},Y=J(ae).get().data.nodes||[],de=Math.max(0,Y.indexOf(P)),me={...he,translateX:(Number(he.translateX)||0)+10,translateY:(Number(he.translateY)||0)+10},ge=O(be.createElement(ie,me));G(ge,ae,de+1),se(ge.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:q=>{q.preventDefault(),q.stopPropagation(),V(P)}})]})]})},MO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"General",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.text||"Ir al Foro",onChange:n=>r(o=>o.text=n.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(o=>o.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:n=>r(o=>o.sectionName=n.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:n=>r(o=>o.externalUrl=n.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.externalNewTab!==!1,onChange:n=>r(o=>o.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.to||"",onChange:n=>r(o=>o.to=n.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showIcon!==!1,onChange:n=>r(o=>o.showIcon=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar icono"})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showText||!1,onChange:n=>r(o=>o.showText=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar texto"})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ff5722",onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color hover"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.hoverColor||"#e64a19",onChange:n=>r(o=>o.hoverColor=n.target.value)})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.textColor||"#ffffff",onChange:n=>r(o=>o.textColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#ffffff",onChange:n=>r(o=>o.iconColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del texto (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"10",max:"32",value:e.fontSize||16,onChange:n=>r(o=>o.fontSize=parseInt(n.target.value)||16)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del icono (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"10",max:"40",value:e.iconSize||20,onChange:n=>r(o=>o.iconSize=parseInt(n.target.value)||20)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.padding||"12px 24px",onChange:n=>r(o=>o.padding=n.target.value),placeholder:"12px 24px"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Bordes redondeados (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"50",value:e.borderRadius||8,onChange:n=>r(o=>o.borderRadius=parseInt(n.target.value)||8)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho del borde (px)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",max:"10",value:e.borderWidth||0,onChange:n=>r(o=>o.borderWidth=parseInt(n.target.value)||0)})]}),e.borderWidth>0&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del borde"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.borderColor||"#000000",onChange:n=>r(o=>o.borderColor=n.target.value)})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};yy.craft={displayName:"Botn Foro",props:{text:"",backgroundColor:"transparent",textColor:"#000000",hoverColor:"#000000",iconColor:"#000000",iconSize:28,fontSize:16,padding:"12px",borderRadius:0,borderWidth:0,borderColor:"transparent",showIcon:!0,showText:!1,actionType:"route",to:"/forum",sectionName:"",externalUrl:"",externalNewTab:!1,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:MO}};const DO=async()=>{try{const{data:r,error:e}=await Aa.from("forum_config").select("*").single();return e&&e.code!=="PGRST116"?(console.error("Error getting settings:",e),null):r||{bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}}catch(r){return console.error("Exception getting settings",r),{bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}}},LO=async()=>{try{const{data:r,error:e}=await Aa.from("forum_categories").select("*, forum_threads(count)").order("created_at",{ascending:!0});if(e)throw e;return r.map(n=>({...n,topic_count:n.forum_threads&&n.forum_threads[0]?n.forum_threads[0].count:0}))||[]}catch(r){return console.error("Error fetching categories:",r),[]}},UO=async r=>{const{data:e,error:n}=await Aa.from("forum_threads").select("*, forum_posts(count)").eq("category_id",r).order("created_at",{ascending:!1});return n?[]:e.map(o=>({...o,date:new Date(o.created_at).toLocaleDateString(),replies:o.forum_posts&&o.forum_posts[0]?o.forum_posts[0].count:0}))},IO=async r=>{const{data:e,error:n}=await Aa.from("forum_posts").select("*").eq("thread_id",r).order("created_at",{ascending:!0});return n?[]:e.map(o=>({...o,author:o.author_name||"Anonymous",date:new Date(o.created_at).toLocaleDateString()}))},qO=async(r,e,n,o)=>{const{error:s}=await Aa.from("forum_threads").insert([{category_id:r,title:e,content:n,author_name:o}]);return{ok:!s,error:s}},BO=async(r,e,n,o=null)=>{const s={thread_id:r,content:e,author_name:n};o&&(s.parent_id=o);const{error:i}=await Aa.from("forum_posts").insert([s]);return{ok:!i,error:i}},PO=({onSelectCategory:r,settings:e})=>{const[n,o]=L.useState([]),[s,i]=L.useState(!0);L.useEffect(()=>{d()},[]);const d=async()=>{i(!0);const f=await LO();o(f),i(!1)};return s?a.jsx("div",{className:"p-4 text-center",children:"Cargando categoras..."}):a.jsxs("div",{className:"forum-categories",children:[a.jsxs("h2",{className:"mb-4 text-white d-flex align-items-center",style:{fontWeight:"bold"},children:[a.jsx("span",{style:{height:"32px",width:"6px",backgroundColor:e.primary_color,marginRight:"15px"}}),"Foros"]}),a.jsx("div",{className:"d-flex flex-column gap-3",children:n.map(f=>a.jsxs("div",{className:"d-flex align-items-center p-0 overflow-hidden",style:{backgroundColor:e.card_bg_color,color:e.text_color,cursor:"pointer",transition:"transform 0.2s",borderRadius:"4px",border:"1px solid #333"},onClick:()=>r(f),onMouseEnter:p=>p.currentTarget.style.backgroundColor="#2a2a2a",onMouseLeave:p=>p.currentTarget.style.backgroundColor=e.card_bg_color,children:[a.jsx("div",{style:{width:"120px",height:"80px",flexShrink:0,backgroundColor:"#333"},children:f.image_url?a.jsx("img",{src:f.image_url,alt:f.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:p=>{p.target.onerror=null,p.target.src="https://via.placeholder.com/150?text=No+Image"}}):a.jsx("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center bg-secondary",children:a.jsx("i",{className:"bi bi-image"})})}),a.jsx("div",{className:"p-3 flex-grow-1",children:a.jsx("h5",{className:"mb-0 fw-bold text-white",children:f.name})}),a.jsxs("div",{className:"px-4 py-3 text-center",style:{minWidth:"100px",borderLeft:"1px solid #333"},children:[a.jsx("div",{className:"mb-1",style:{fontSize:"0.8rem",color:"#ccc"},children:"Temas"}),a.jsx("div",{className:"fw-bold fs-5",children:f.topic_count||0})]})]},f.id))}),n.length===0&&a.jsx("p",{className:"text-center opacity-50 py-5",children:"No hay categoras disponibles."})]})},HO=({category:r,onSelectThread:e,onBack:n,settings:o})=>{const[s,i]=L.useState([]),[d,f]=L.useState(!0),[p,m]=L.useState(!1),[v,b]=L.useState(""),[y,j]=L.useState(""),[C,w]=L.useState("Usuario");L.useEffect(()=>{_()},[r.id]);const _=async()=>{f(!0);const S=await UO(r.id);i(S),f(!1)},z=async S=>{S.preventDefault(),!(!v.trim()||!y.trim())&&(await qO(r.id,v,y,C),b(""),j(""),m(!1),_())};return d?a.jsx("div",{className:"p-4 text-center",children:"Cargando temas..."}):a.jsxs("div",{className:"forum-topics",children:[a.jsxs("div",{className:"d-flex align-items-center gap-3 mb-4",children:[a.jsx("button",{className:"btn btn-link text-white p-0",onClick:n,children:a.jsx("i",{className:"bi bi-arrow-left fs-4"})}),a.jsxs("h2",{className:"mb-0 text-white d-flex align-items-center",style:{fontWeight:"bold"},children:[a.jsx("span",{style:{height:"32px",width:"6px",backgroundColor:o.primary_color,marginRight:"15px"}}),"Foro ",r.name]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"small text-muted mb-2 ps-4 ms-2",children:"Temas"}),a.jsx("button",{className:"btn text-white fw-bold px-4 py-2 rounded-pill",style:{backgroundColor:o.primary_color},onClick:()=>m(!p),children:"Nuevo tema"})]}),p&&a.jsx("div",{className:"card mb-4 border-0",style:{backgroundColor:o.card_bg_color,border:"1px solid #444"},children:a.jsxs("div",{className:"card-body",children:[a.jsx("h5",{className:"card-title mb-3 text-white",children:"Crear Nuevo Tema"}),a.jsxs("form",{onSubmit:z,children:[a.jsx("div",{className:"mb-3",children:a.jsx("input",{type:"text",className:"form-control",placeholder:"Ttulo del tema",value:v,onChange:S=>b(S.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444"},required:!0})}),a.jsx("div",{className:"mb-3",children:a.jsx("textarea",{className:"form-control",rows:"3",placeholder:"Contenido del mensaje...",value:y,onChange:S=>j(S.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444"},required:!0})}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:()=>m(!1),children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",style:{backgroundColor:o.primary_color,border:"none"},children:"Publicar"})]})]})]})}),a.jsxs("div",{className:"d-flex flex-column gap-0 border border-secondary rounded overflow-hidden",children:[s.map(S=>a.jsxs("div",{className:"p-3 d-flex align-items-center",style:{backgroundColor:o.card_bg_color,color:o.text_color,borderBottom:"1px solid #444",cursor:"pointer"},onClick:()=>e(S),children:[a.jsx("div",{className:"me-3",children:a.jsx("div",{className:"rounded-circle border border-secondary d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px"},children:a.jsx("i",{className:"bi bi-person fs-4 text-secondary"})})}),a.jsxs("div",{className:"flex-grow-1",children:[a.jsx("h5",{className:"mb-1 fw-normal text-white",children:S.title}),a.jsxs("div",{className:"small text-muted",children:[S.author_name||"UserName","  ",S.date]})]}),a.jsxs("div",{className:"text-center px-3",children:[a.jsx("div",{className:"mb-1",style:{fontSize:"0.8rem",color:"#ccc"},children:"Respuestas"}),a.jsx("div",{className:"fw-bold fs-5 text-white",children:S.replies||0})]})]},S.id)),s.length===0&&a.jsx("div",{className:"text-center py-5 opacity-50 bg-dark",children:"No hay temas en esta categora an via."})]})]})},$O=({thread:r,onBack:e,settings:n})=>{const[o,s]=L.useState([]),[i,d]=L.useState(!0),[f,p]=L.useState(""),[m,v]=L.useState("Usuario"),[b,y]=L.useState(!1),[j,C]=L.useState(null);L.useEffect(()=>{w()},[r.id]);const w=async()=>{d(!0);const R=await IO(r.id);s(R),d(!1)},_=async R=>{R.preventDefault(),f.trim()&&(await BO(r.id,f,m,j?.id||null),p(""),C(null),y(!1),w())},z=(R=null)=>{C(R),y(!0)},S=()=>{C(null),y(!1)};return i?a.jsx("div",{className:"p-4 text-center",children:"Cargando respuestas..."}):a.jsxs("div",{className:"forum-thread",children:[a.jsxs("div",{className:"mb-4 d-flex align-items-center gap-3",children:[a.jsx("button",{className:"btn btn-link text-white p-0",onClick:e,children:a.jsx("i",{className:"bi bi-arrow-left fs-4"})}),a.jsxs("div",{className:"d-flex align-items-center gap-3",children:[a.jsx("div",{className:"rounded-circle border border-white d-flex align-items-center justify-content-center",style:{width:"50px",height:"50px"},children:a.jsx("i",{className:"bi bi-person fs-2 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"mb-0 fw-bold",children:r.author_name||"UserName"}),a.jsx("div",{className:"small text-muted",children:new Date(r.created_at).toLocaleDateString()})]})]})]}),a.jsxs("div",{className:"mb-5 pb-3",children:[a.jsx("h3",{className:"fw-bold mb-4",style:{color:n.text_color},children:r.title}),a.jsx("div",{className:"mb-4",style:{color:n.text_color,fontSize:"1rem",lineHeight:"1.6",whiteSpace:"pre-wrap"},children:r.content}),a.jsx("button",{className:"btn text-white fw-bold px-4 py-2",style:{backgroundColor:n.primary_color,borderRadius:"4px"},onClick:()=>z(null),children:"Responder"})]}),a.jsxs("div",{className:"d-flex flex-column gap-0 mb-5 border-top border-secondary",children:[o.map((R,I)=>{const $=R.parent_id?o.find(E=>E.id===R.parent_id):null;return a.jsxs("div",{className:"d-flex flex-column p-4 border-bottom border-secondary",style:{backgroundColor:"#1e1e1e"},children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("div",{className:"rounded-circle border border-white d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:a.jsx("i",{className:"bi bi-person fs-5 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"fw-bold fs-5",children:R.author||"UserName"}),a.jsx("div",{className:"small text-muted",children:R.date})]})]}),a.jsxs("div",{className:"text-secondary small",children:["#",I+1]})]}),$&&a.jsxs("div",{className:"mb-3 p-3 rounded",style:{backgroundColor:"rgba(255,255,255,0.05)",borderLeft:`3px solid ${n.primary_color}`},children:[a.jsxs("div",{className:"fw-bold opacity-75 mb-1",style:{fontSize:"0.9rem"},children:["En respuesta a ",$.author||"Usuario",":"]}),a.jsxs("div",{className:"fst-italic opacity-50 small",children:['"',$.content.length>100?$.content.substring(0,100)+"...":$.content,'"']})]}),a.jsx("div",{className:"mb-3 text-white opacity-75",children:R.content}),a.jsx("div",{className:"d-flex justify-content-end",children:a.jsx("button",{className:"btn btn-sm text-white fw-bold",style:{backgroundColor:n.primary_color},onClick:()=>z(R),children:"Responder"})})]},R.id)}),o.length===0&&a.jsx("p",{className:"opacity-50 mt-4 text-center",children:"S el primero en responder."})]}),b&&a.jsx("div",{className:"modal show fade d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.8)"},children:a.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:a.jsxs("div",{className:"modal-content text-white",style:{backgroundColor:n.card_bg_color||"#1e1e1e",border:`1px solid ${n.primary_color}`},children:[a.jsxs("div",{className:"modal-header border-secondary",children:[a.jsx("h5",{className:"modal-title",children:j?`Respondiendo a ${j.author||"Usuario"}`:"Tu respuesta"}),a.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:S})]}),a.jsxs("div",{className:"modal-body",children:[j&&a.jsx("div",{className:"mb-3 p-3 border-start border-4",style:{borderColor:n.primary_color,backgroundColor:"rgba(255,255,255,0.05)",borderLeft:`4px solid ${n.primary_color}`},children:a.jsxs("div",{className:"fst-italic opacity-75",children:['"',j.content.substring(0,150),j.content.length>150?"...":"",'"']})}),a.jsxs("form",{onSubmit:_,children:[a.jsx("div",{className:"mb-3",children:a.jsx("textarea",{className:"form-control",rows:"6",placeholder:"Escribe tu respuesta aqu...",value:f,onChange:R=>p(R.target.value),style:{backgroundColor:"#2d2d2d",color:"#fff",border:"1px solid #444",resize:"vertical"},autoFocus:!0,required:!0})}),a.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[a.jsx("button",{type:"button",className:"btn btn-outline-light",onClick:S,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"btn text-white fw-bold px-4",style:{backgroundColor:n.primary_color},children:"Enviar Respuesta"})]})]})]})]})})})]})},jy=({padding:r=20,...e})=>{const{connectors:{connect:n,drag:o},selected:s}=pe(S=>({selected:S.events.selected})),[i,d]=L.useState({bg_color:"#000000",text_color:"#ffffff",primary_color:"#ff5722",card_bg_color:"#1e1e1e"}),[f,p]=L.useState("categories"),[m,v]=L.useState(null),[b,y]=L.useState(null);L.useEffect(()=>{j()},[]);const j=async()=>{const S=await DO();S&&d(S)},C=S=>{v(S),p("topics")},w=S=>{y(S),p("thread")},_=()=>{v(null),p("categories")},z=()=>{y(null),p("topics")};return a.jsxs("div",{ref:S=>n(o(S)),className:"forum-component-wrapper","data-cy":"forum-component",style:{padding:`${r}px`,backgroundColor:i.bg_color||"#000000",color:i.text_color||"#ffffff",minHeight:"400px",width:"100%",border:s?"2px solid #2684FF":"1px dashed transparent"},children:[f==="categories"&&a.jsx(PO,{onSelectCategory:C,settings:i}),f==="topics"&&m&&a.jsx(HO,{category:m,onSelectThread:w,onBack:_,settings:i}),f==="thread"&&b&&a.jsx($O,{thread:b,onBack:z,settings:i})]})},YO=()=>a.jsx("div",{children:a.jsx("p",{children:"Forum settings are managed via the Forum Admin Dashboard."})});jy.craft={displayName:"Foro Completo",props:{padding:20},related:{settings:YO}};const XO=r=>r>=1e6?(r/1e6).toFixed(1).replace(/\.0$/,"")+"M":r>=1e3?(r/1e3).toFixed(1).replace(/\.0$/,"")+"K":r.toString(),Fs=({sectionId:r,initialCount:e=1e3,iconSize:n=28,iconColor:o="#000000",countColor:s="#000000",backgroundColor:i="transparent",likedColor:d="#ef4444",showCount:f=!0,gap:p=10,padding:m=8,translateX:v=0,translateY:b=0,zIndex:y=0,opacity:j=1})=>{const{id:C,connectors:{connect:w,drag:_},actions:{setProp:z},selected:S}=pe(ne=>({selected:ne.events.selected})),{actions:{add:R,selectNode:I,delete:$},query:{createNode:E,node:D}}=Me(),[P,X]=L.useState(!1),[W,F]=L.useState(e),[H,G]=L.useState(!0),[se,V]=L.useState(!1),O=r||`like-button-${C}`,J=ne=>{ne.stopPropagation(),ne.preventDefault();const re=ne.clientX,T=ne.clientY,k=Number(v)||0,M=Number(b)||0,q=ie=>{const he=ie.clientX-re,ae=ie.clientY-T;z(A=>{A.translateX=k+he,A.translateY=M+ae})},le=()=>{document.removeEventListener("mousemove",q),document.removeEventListener("mouseup",le)};document.addEventListener("mousemove",q),document.addEventListener("mouseup",le)};L.useEffect(()=>{(async()=>{G(!0);try{const{data:re,error:T}=await Aa.from("likes").select("count").eq("section_id",O).single();if(T)if(T.code==="PGRST116"){const{error:k}=await Aa.from("likes").insert([{section_id:O,count:e}]);k&&console.error("Error creating initial like record:",k),F(e)}else console.error("Error fetching likes:",T),F(e);else re&&(F(re.count||e),V(!0));V(!0)}catch(re){console.error("Error in fetchLikes:",re),F(e),V(!1)}finally{G(!1)}})()},[O,e]);const te=async ne=>{if(ne.stopPropagation(),P||H)return;X(!0);const re=W+1;F(re);try{const{error:T}=await Aa.from("likes").upsert({section_id:O,count:re,updated_at:new Date().toISOString()},{onConflict:"section_id",ignoreDuplicates:!1});T?(console.error("Error updating likes in Supabase:",T),X(!1),F(W),T.code!=="42P01"&&console.warn("No se pudo guardar en Supabase. Funcionando en modo local.")):(console.log(" Like guardado exitosamente en Supabase:",{section_id:O,count:re}),V(!0))}catch(T){console.error("Error in handleLike:",T),X(!1),F(W),alert("Error al guardar el like. Por favor, intenta de nuevo.")}};return a.jsxs("div",{ref:ne=>w(_(ne)),style:{display:"flex",flexDirection:"column",alignItems:"center",gap:`${p}px`,transform:`translate(${Number(v)||0}px, ${Number(b)||0}px)`,position:"relative",zIndex:Number(y)||0,opacity:Math.max(0,Math.min(1,Number(j)||1))},children:[a.jsx("button",{onClick:te,disabled:P||H,style:{background:i||"transparent",border:"none",cursor:P||H?"default":"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:`${m}px`,transition:"transform 0.2s"},onMouseEnter:ne=>{!P&&!H&&(ne.currentTarget.style.transform="scale(1.1)")},onMouseLeave:ne=>{ne.currentTarget.style.transform="scale(1)"},"aria-label":"Me Gusta",children:a.jsx("svg",{width:n,height:n,viewBox:"0 0 51 49",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transition:"fill 0.3s, stroke 0.3s"},children:a.jsx("path",{d:"M4.25 18.0968C4.25004 15.7321 4.96739 13.4231 6.30728 11.4746C7.64718 9.52616 9.5466 8.02997 11.7547 7.18367C13.9627 6.33737 16.3756 6.18077 18.6745 6.73454C20.9735 7.28832 23.0504 8.52642 24.6309 10.2853C24.7422 10.4044 24.8768 10.4992 25.0263 10.5641C25.1758 10.629 25.337 10.6625 25.5 10.6625C25.663 10.6625 25.8242 10.629 25.9737 10.5641C26.1232 10.4992 26.2578 10.4044 26.3691 10.2853C27.9447 8.51499 30.022 7.26648 32.3247 6.70598C34.6274 6.14548 37.0462 6.29956 39.2591 7.14773C41.472 7.99589 43.3742 9.49791 44.7124 11.4539C46.0505 13.4098 46.7613 15.7269 46.75 18.0968C46.75 22.9631 43.5625 26.5968 40.375 29.7843L28.7045 41.0745C28.3085 41.5292 27.8203 41.8945 27.2723 42.1461C26.7243 42.3977 26.1291 42.5298 25.5261 42.5336C24.9231 42.5374 24.3263 42.4129 23.7751 42.1682C23.224 41.9236 22.7312 41.5645 22.3295 41.1148L10.625 29.7843C7.4375 26.5968 4.25 22.9843 4.25 18.0968Z",stroke:P?d:o,fill:P?d:"none",strokeWidth:"4.25",strokeLinecap:"round",strokeLinejoin:"round"})})}),f&&a.jsx("span",{style:{fontWeight:500,fontSize:16,color:s,transition:"color 0.3s",fontFamily:"system-ui, -apple-system, sans-serif"},children:XO(W)}),S&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:J}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation();const re=D(C).get(),{type:T,props:k,parent:M}={type:re.data.type,props:re.data.props,parent:re.data.parent},le=D(M).get().data.nodes||[],ie=Math.max(0,le.indexOf(C)),he={...k,translateX:(Number(k.translateX)||0)+10,translateY:(Number(k.translateY)||0)+10},ae=E(be.createElement(T,he));R(ae,M,ie+1),I(ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ne=>{ne.preventDefault(),ne.stopPropagation(),$(C)}})]})]})},FO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del icono (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"10",max:"100",value:e.iconSize||28,onChange:n=>r(o=>o.iconSize=parseInt(n.target.value)||28)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del icono"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.iconColor||"#000000",onChange:n=>r(o=>o.iconColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color cuando est activo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.likedColor||"#ef4444",onChange:n=>r(o=>o.likedColor=n.target.value)})]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color del contador"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.countColor||"#000000",onChange:n=>r(o=>o.countColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#000000",onChange:n=>r(o=>o.backgroundColor=n.target.value||"transparent")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre icono y contador (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.gap||10,onChange:n=>r(o=>o.gap=parseInt(n.target.value)||10)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del botn (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"50",value:e.padding||8,onChange:n=>r(o=>o.padding=parseInt(n.target.value)||8)})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCount!==!1,onChange:n=>r(o=>o.showCount=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar contador"})]})]})},{label:"Configuracin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contador inicial"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:"0",value:e.initialCount||1e3,onChange:n=>r(o=>o.initialCount=parseInt(n.target.value)||1e3)}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Valor inicial del contador (se usa si no hay sectionId o si no existe en BD)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"ID de Seccin (Opcional)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sectionId||"",onChange:n=>r(o=>o.sectionId=n.target.value),placeholder:"Ej: seccion-1, blog-post-123"}),a.jsx("small",{className:"text-muted d-block mt-1",style:{fontSize:"0.75rem"},children:"Si se proporciona, los likes se guardarn en Supabase. Si no, funcionar solo localmente."})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad (0-1)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",min:"0",max:"1",step:"0.1",value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Math.max(0,Math.min(1,Number(n.target.value))))})]})]})}]})};Fs.craft={displayName:"Me Gusta",props:{sectionId:"",initialCount:1e3,iconSize:28,iconColor:"#000000",countColor:"#000000",backgroundColor:"transparent",likedColor:"#ef4444",showCount:!0,gap:10,padding:8,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:FO}};const ma=({logoText:r="Akaru",logoImageUrl:e="",showLogo:n=!0,showLogoText:o=!0,logoSize:s=32,logoTextSize:i=22,logoTextColor:d="#ffffff",navItems:f=JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro"},{label:"Tribus",actionType:"section",sectionName:"tribus"},{label:"Fauna",actionType:"section",sectionName:"fauna"},{label:"Flora",actionType:"section",sectionName:"flora"},{label:"Usos",actionType:"section",sectionName:"usos"},{label:"Agua",actionType:"section",sectionName:"agua"},{label:"Cultura",actionType:"section",sectionName:"cultura"},{label:"Geografa",actionType:"section",sectionName:"geografia"}]),backgroundColor:p="#1a1a1a",itemColor:m="#ffffff",itemHoverColor:v="#ff6b35",activeItemColor:b="#ff6b35",itemFontSize:y=14,itemSpacing:j=24,paddingX:C=32,paddingY:w=16,layout:_="horizontal",logoPosition:z="left",itemsPosition:S="center",showSeparator:R=!0,separatorColor:I="#666666",translateX:$=0,translateY:E=0,zIndex:D=100,opacity:P=1,width:X="100%",height:W="auto",isSticky:F=!1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(de=>({selected:de.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T}}=Me(),k=ft(),M=de=>{de.stopPropagation(),de.preventDefault();const me=de.clientX,ge=de.clientY,Ne=Number($)||0,ve=Number(E)||0,Te=Ae=>{const De=Ae.clientX-me,Nt=Ae.clientY-ge;V(la=>{la.translateX=Ne+De,la.translateY=ve+Nt})},ye=()=>{document.removeEventListener("mousemove",Te),document.removeEventListener("mouseup",ye)};document.addEventListener("mousemove",Te),document.addEventListener("mouseup",ye)};let q=[];try{q=typeof f=="string"?JSON.parse(f):f}catch{q=[]}const le=(de,me)=>{if(me.preventDefault(),de.actionType==="section"){const Ne=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,ve=new URLSearchParams;Ne&&ve.set("site",Ne),de.sectionName&&ve.set("section",de.sectionName);const Te=de.sectionName?`/editor?${ve.toString()}`:"";if(!Te)return;k(Te);return}if(de.actionType==="external"){const Ne=(de.externalUrl||"").trim();if(!Ne)return;typeof window<"u"&&window.open(Ne,de.newTab?"_blank":"_self");return}const ge=(de.route||"").trim();if(ge){if(ge.startsWith("#")){const Ne=document.querySelector(ge);Ne&&Ne.scrollIntoView({behavior:"smooth",block:"start"});return}k(ge)}},ie={display:"flex",flexDirection:_==="vertical"?"column":"row",alignItems:"center",justifyContent:"space-between",backgroundColor:p,padding:`${w}px ${C}px`,width:typeof X=="number"?`${X}px`:X,height:typeof W=="number"?`${W}px`:W,transform:`translate(${Number($)||0}px, ${Number(E)||0}px)`,opacity:Math.max(0,Math.min(1,Number(P)||1)),position:F?"sticky":"relative",top:F?0:"auto",zIndex:Number(D)||100,boxSizing:"border-box",outline:O?"2px dashed #3b82f6":void 0},he={display:"flex",alignItems:"center",gap:"10px",order:z==="right"?2:0},ae={display:"flex",flexDirection:_==="vertical"?"column":"row",alignItems:"center",gap:`${j}px`,justifyContent:S==="center"?"center":S==="right"?"flex-end":"flex-start",flex:1},A=de=>({color:m,fontSize:`${y}px`,textDecoration:"none",cursor:"pointer",transition:"color 0.2s ease",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:R&&!de?`${j}px`:"0"}),Y={color:I,fontSize:`${y}px`,userSelect:"none"};return a.jsxs("nav",{ref:de=>G(se(de)),style:ie,children:[(n||o)&&a.jsxs("div",{style:he,children:[n&&(e?a.jsx("img",{src:e,alt:r,style:{height:`${s}px`,width:"auto",objectFit:"contain"}}):a.jsxs("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",style:{flexShrink:0},children:[a.jsx("path",{d:"M12 2L2 20h20L12 2z",stroke:d,strokeWidth:"2",fill:"none"}),a.jsx("path",{d:"M12 8L7 16h10L12 8z",stroke:d,strokeWidth:"1.5",fill:"none"})]})),o&&r&&a.jsx("span",{style:{color:d,fontSize:`${i}px`,fontWeight:"bold",letterSpacing:"1px"},children:r})]}),a.jsx("div",{style:ae,children:q.map((de,me)=>a.jsxs(be.Fragment,{children:[R&&me>0&&a.jsx("span",{style:Y,children:"|"}),a.jsx("a",{href:"#",style:A(me===0),onClick:ge=>le(de,ge),onMouseEnter:ge=>{ge.currentTarget.style.color=v},onMouseLeave:ge=>{ge.currentTarget.style.color=m},children:de.label})]},me))}),O&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:M}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:de=>{de.preventDefault(),de.stopPropagation();const me=T(H).get(),{type:ge,props:Ne,parent:ve}={type:me.data.type,props:me.data.props,parent:me.data.parent},ye=T(ve).get().data.nodes||[],Ae=Math.max(0,ye.indexOf(H)),De={...Ne,translateX:(Number(Ne.translateX)||0)+10,translateY:(Number(Ne.translateY)||0)+10},Nt=re(be.createElement(ge,De));J(Nt,ve,Ae+1),te(Nt.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:de=>{de.preventDefault(),de.stopPropagation(),ne(H)}})]})]})},GO=()=>{const{actions:{setProp:r},props:e}=pe(v=>({props:v.data.props})),{upload:n,isUploading:o}=Bt("Assets");let s=[];try{s=typeof e.navItems=="string"?JSON.parse(e.navItems):e.navItems||[]}catch{s=[]}const i=v=>{r(b=>b.navItems=JSON.stringify(v))},d=()=>{const v=[...s,{label:"Nuevo",actionType:"section",sectionName:"",route:"",externalUrl:"",newTab:!0}];i(v)},f=v=>{const b=s.filter((y,j)=>j!==v);i(b)},p=(v,b,y)=>{const j=[...s];j[v]={...j[v],[b]:y},i(j)},m=(v,b)=>{const y=[...s],j=v+b;j<0||j>=y.length||([y[v],y[j]]=[y[j],y[v]],i(y))};return a.jsx(Be,{tabs:[{label:"Logo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLogo!==!1,onChange:v=>r(b=>b.showLogo=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar imagen"})]}),e.showLogo!==!1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Imagen"}),a.jsx("div",{className:"d-flex gap-2",children:a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async v=>{const b=v.target.files?.[0];if(!b)return;const y=await n(b);y&&r(j=>j.logoImageUrl=y)},disabled:o})}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."}),e.logoImageUrl&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:e.logoImageUrl,alt:"Logo preview",style:{height:"30px",objectFit:"contain"}})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao imagen (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.logoSize||32,onChange:v=>r(b=>b.logoSize=Number(v.target.value))})]})]}),a.jsx("hr",{}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLogoText!==!1,onChange:v=>r(b=>b.showLogoText=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar texto"})]}),e.showLogoText!==!1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Logo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.logoText||"",onChange:v=>r(b=>b.logoText=v.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao texto (px)"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.logoTextSize||22,onChange:v=>r(b=>b.logoTextSize=Number(v.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.logoTextColor||"#ffffff",onChange:v=>r(b=>b.logoTextColor=v.target.value)})]})]})]})},{label:"Men",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx("label",{className:"form-label mb-0",children:"Elementos del men"}),a.jsxs("div",{className:"border rounded p-2 bg-light",children:[a.jsx("div",{className:"d-grid gap-2",children:s.map((v,b)=>a.jsxs("div",{className:"card p-2",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[a.jsxs("div",{className:"btn-group btn-group-sm",children:[a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>m(b,-1),disabled:b===0,children:""}),a.jsx("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>m(b,1),disabled:b===s.length-1,children:""})]}),a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>f(b),children:a.jsx("i",{className:"bi bi-trash"})})]}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Etiqueta",value:v.label,onChange:y=>p(b,"label",y.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:v.actionType||"none",onChange:y=>p(b,"actionType",y.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),v.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"Nombre seccin (ej: foro)",value:v.sectionName||"",onChange:y=>p(b,"sectionName",y.target.value)}),v.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-1",children:[a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"URL (https://...)",value:v.externalUrl||"",onChange:y=>p(b,"externalUrl",y.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:v.newTab!==!1,onChange:y=>p(b,"newTab",y.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Nueva pestaa"})]})]}),v.actionType==="route"&&a.jsx("input",{className:"form-control form-control-sm mb-2",placeholder:"Ruta (ej: /login)",value:v.route||"",onChange:y=>p(b,"route",y.target.value)})]},b))}),a.jsxs("button",{className:"btn btn-sm btn-primary w-100 mt-2",onClick:d,children:[a.jsx("i",{className:"bi bi-plus-circle me-1"})," Agregar Item"]})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:v=>r(b=>b.backgroundColor=v.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Items"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.itemColor,onChange:v=>r(b=>b.itemColor=v.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color Hover"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.itemHoverColor,onChange:v=>r(b=>b.itemHoverColor=v.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Fuente"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.itemFontSize,onChange:v=>r(b=>b.itemFontSize=Number(v.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado Items"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.itemSpacing,onChange:v=>r(b=>b.itemSpacing=Number(v.target.value))})]}),a.jsxs("div",{className:"form-check mt-2",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.isSticky,onChange:v=>r(b=>b.isSticky=v.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Pegajoso (Sticky)"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding Y / X"}),a.jsxs("div",{className:"input-group input-group-sm",children:[a.jsx("input",{className:"form-control",type:"number",value:e.paddingY,onChange:v=>r(b=>b.paddingY=Number(v.target.value)),placeholder:"Y"}),a.jsx("input",{className:"form-control",type:"number",value:e.paddingX,onChange:v=>r(b=>b.paddingX=Number(v.target.value)),placeholder:"X"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Separador"}),a.jsxs("div",{className:"d-flex align-items-center gap-2",children:[a.jsx("input",{className:"form-check-input m-0",type:"checkbox",checked:e.showSeparator!==!1,onChange:v=>r(b=>b.showSeparator=v.target.checked)}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.separatorColor,onChange:v=>r(b=>b.separatorColor=v.target.value),disabled:!e.showSeparator})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{className:"form-control form-control-sm",type:"number",value:e.zIndex,onChange:v=>r(b=>b.zIndex=Number(v.target.value))})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Ancho"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.width??"100%",onChange:v=>{const b=v.target.value;r(y=>y.width=b===""?"100%":isNaN(Number(b))?b:Number(b))}})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Alto"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.height??"auto",onChange:v=>{const b=v.target.value;r(y=>y.height=b===""?"auto":isNaN(Number(b))?b:Number(b))}})]})]})]})}]})},VO={logoText:"Akaru",logoImageUrl:"/src/assets/logo animus blanco 1.svg",showLogo:!0,showLogoText:!0,logoSize:32,logoTextSize:22,logoTextColor:"#ffffff",navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro"},{label:"Tribus",actionType:"section",sectionName:"tribus"},{label:"Fauna",actionType:"section",sectionName:"fauna"},{label:"Flora",actionType:"section",sectionName:"flora"},{label:"Usos",actionType:"section",sectionName:"usos"},{label:"Agua",actionType:"section",sectionName:"agua"},{label:"Cultura",actionType:"section",sectionName:"cultura"},{label:"Geografa",actionType:"section",sectionName:"geografia"}]),backgroundColor:"#1a1a1a",itemColor:"#ffffff",itemHoverColor:"#ff6b35",activeItemColor:"#ff6b35",itemFontSize:14,itemSpacing:24,paddingX:32,paddingY:16,layout:"horizontal",logoPosition:"left",itemsPosition:"center",showSeparator:!0,separatorColor:"#666666",translateX:0,translateY:0,zIndex:100,opacity:1,width:"100%",height:"auto",isSticky:!1};ma.craft={props:VO,displayName:"Navbar",related:{settings:GO}};const Ra=({backgroundImage:r="",overlayColor:e="rgba(0, 0, 0, 0.3)",height:n=500,minHeight:o=400,padding:s=0,translateX:i=0,translateY:d=0,zIndex:f=0,opacity:p=1,children:m})=>{const{id:v,connectors:{connect:b,drag:y},actions:{setProp:j},selected:C}=pe(E=>({selected:E.events.selected})),{actions:{add:w,selectNode:_,delete:z},query:{createNode:S,node:R}}=Me(),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(i)||0,W=Number(d)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={position:"relative",width:"100%",height:`${n}px`,minHeight:`${o}px`,backgroundImage:r?`url(${r})`:"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:"#1a1a1a",padding:`${s}px`,transform:`translate(${Number(i)||0}px, ${Number(d)||0}px)`,opacity:Math.max(0,Math.min(1,Number(p)||1)),zIndex:Number(f)||0,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",outline:C?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:E=>b(y(E)),style:$,children:[e&&a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:e,zIndex:1}}),a.jsx("div",{style:{position:"relative",zIndex:2,width:"100%",height:"100%"},children:m}),C&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();const D=R(v).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=R(W).get().data.nodes||[],G=Math.max(0,H.indexOf(v)),se={...X,translateX:(Number(X.translateX)||0)+10,translateY:(Number(X.translateY)||0)+10},V=S(be.createElement(P,se));w(V,W,G+1),_(V.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),z(v)}})]})]})},KO=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Imagen",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de imagen de fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.backgroundImage??"",onChange:s=>r(i=>i.backgroundImage=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:"Pega aqu el link o URL de la imagen que quieres usar como fondo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"O subir imagen desde tu computadora"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.backgroundImage=d),s.target.value=null)},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"La imagen se subir a Supabase y se guardar automticamente"})]}),e.backgroundImage&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.backgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:800,step:10,value:e.height??500,onChange:s=>r(i=>i.height=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.height??500,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura mnima (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:600,step:10,value:e.minHeight??400,onChange:s=>r(i=>i.minHeight=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.minHeight??400,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de overlay"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.overlayColor?.replace(/rgba?\(([^)]+)\)/,(s,i)=>{const[d,f,p,m]=i.split(",").map(v=>v.trim());return m?"#"+[d,f,p].map(b=>{const y=parseInt(b).toString(16);return y.length===1?"0"+y:y}).join(""):s})||"#000000",onChange:s=>{const i=s.target.value,d=parseInt(i.slice(1,3),16),f=parseInt(i.slice(3,5),16),p=parseInt(i.slice(5,7),16),m=e.overlayColor?.includes("rgba")&&e.overlayColor.match(/[\d.]+$/)?.[0]||"0.3";r(v=>v.overlayColor=`rgba(${d}, ${f}, ${p}, ${m})`)}}),a.jsx("input",{type:"text",className:"form-control form-control-sm mt-2",value:e.overlayColor??"rgba(0, 0, 0, 0.3)",onChange:s=>r(i=>i.overlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.3)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:100,step:5,value:e.padding??0,onChange:s=>r(i=>i.padding=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??0,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ra.craft={displayName:"Hero Section",props:{backgroundImage:"",overlayColor:"rgba(0, 0, 0, 0.3)",height:500,minHeight:400,padding:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:KO}};const vh=({title:r="Noticias Recientes",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:o="#ff6b35",backgroundColor:s="#1a1a1a",padding:i=60,gap:d=24,newsItems:f="[]",translateX:p=0,translateY:m=0,zIndex:v=0,opacity:b=1})=>{const{id:y,connectors:{connect:j,drag:C},actions:{setProp:w},selected:_}=pe(G=>({selected:G.events.selected})),{actions:{add:z,selectNode:S,delete:R},query:{createNode:I,node:$}}=Me(),E=G=>{G.stopPropagation(),G.preventDefault();const se=G.clientX,V=G.clientY,O=Number(p)||0,J=Number(m)||0,te=re=>{const T=re.clientX-se,k=re.clientY-V;w(M=>{M.translateX=O+T,M.translateY=J+k})},ne=()=>{document.removeEventListener("mousemove",te),document.removeEventListener("mouseup",ne)};document.addEventListener("mousemove",te),document.addEventListener("mouseup",ne)},D=L.useMemo(()=>JSON.stringify([{id:1,image:"",category:"Ambiente",title:"Por qu la Amazonia no produce realmente el 20% del oxigeno del mundo",size:"large"},{id:2,image:"",category:"Oceano",title:"Descubre las maravillas del oceano",size:"small"},{id:3,image:"",category:"Animales",title:"Se estn domesticando los zorros?",size:"small"}]),[]),P=f&&f!=="[]"?f:D,X=L.useMemo(()=>{try{return typeof P=="string"?JSON.parse(P):P}catch{return[]}},[P]),W=X.find(G=>G.size==="large")||X[0],F=X.filter(G=>G.size==="small"||G.id!==W?.id).slice(0,2),H={backgroundColor:s,padding:`${i}px`,transform:`translate(${Number(p)||0}px, ${Number(m)||0}px)`,opacity:Math.max(0,Math.min(1,Number(b)||1)),zIndex:Number(v)||0,position:"relative",outline:_?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:G=>j(C(G)),style:H,children:[a.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:o}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:`${Number(d)||24}px`,width:"100%"},children:[W&&a.jsxs("div",{style:{position:"relative",minHeight:"400px",borderRadius:"8px",overflow:"hidden",cursor:"pointer"},children:[W.image&&a.jsx("img",{src:W.image,alt:W.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),a.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",padding:"32px",color:"#ffffff"},children:[a.jsx("span",{style:{color:o,fontSize:"14px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:W.category}),a.jsx("h3",{style:{color:"#ffffff",fontSize:"24px",fontWeight:"bold",marginTop:"8px",marginBottom:0},children:W.title})]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:`${Number(d)||24}px`},children:F.map((G,se)=>a.jsxs("div",{style:{position:"relative",minHeight:"190px",borderRadius:"8px",overflow:"hidden",cursor:"pointer"},children:[G.image&&a.jsx("img",{src:G.image,alt:G.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),a.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.8), transparent)",padding:"20px",color:"#ffffff"},children:[a.jsx("span",{style:{color:o,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px"},children:G.category}),a.jsx("h4",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"bold",marginTop:"6px",marginBottom:0},children:G.title})]})]},G.id||se))})]}),_&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:E}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:G=>{G.preventDefault(),G.stopPropagation();const se=$(y).get(),{type:V,props:O,parent:J}={type:se.data.type,props:se.data.props,parent:se.data.parent},ne=$(J).get().data.nodes||[],re=Math.max(0,ne.indexOf(y)),T={...O,translateX:(Number(O.translateX)||0)+10,translateY:(Number(O.translateY)||0)+10},k=I(be.createElement(V,T));z(k,J,re+1),S(k.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:G=>{G.preventDefault(),G.stopPropagation(),R(y)}})]})]})},JO=()=>{const{actions:{setProp:r},props:e}=pe(i=>({props:i.data.props}));let n=[];try{n=typeof e.newsItems=="string"?JSON.parse(e.newsItems):e.newsItems||[]}catch{n=[]}const o=i=>{r(d=>d.newsItems=JSON.stringify(i))},s=(i,d,f)=>{const p=[...n];p[i]={...p[i],[d]:f},o(p)};return a.jsx(Be,{tabs:[{label:"Ttulo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Noticias Recientes",onChange:i=>r(d=>d.title=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:i=>r(d=>d.titleColor=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:i=>r(d=>d.titleFontSize=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:i=>r(d=>d.accentColor=i.target.value)})]})]})},{label:"Noticias",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsx("label",{className:"form-label mb-0",children:"Elementos de noticias"}),a.jsx("div",{className:"border rounded p-2 bg-light",style:{maxHeight:"400px",overflowY:"auto"},children:n.map((i,d)=>a.jsxs("div",{className:"card p-2 mb-2",children:[a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL de imagen",value:i.image||"",onChange:f=>s(d,"image",f.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Categora",value:i.category||"",onChange:f=>s(d,"category",f.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("textarea",{className:"form-control form-control-sm",placeholder:"Ttulo",rows:2,value:i.title||"",onChange:f=>s(d,"title",f.target.value)})}),a.jsx("div",{children:a.jsxs("select",{className:"form-select form-select-sm",value:i.size||"small",onChange:f=>s(d,"size",f.target.value),children:[a.jsx("option",{value:"small",children:"Pequea"}),a.jsx("option",{value:"large",children:"Grande"})]})})]},i.id||d))})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:i=>r(d=>d.backgroundColor=i.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:i=>r(d=>d.padding=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre cards (px)"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:48,step:4,value:e.gap??24,onChange:i=>r(d=>d.gap=Number(i.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??24,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:i=>r(d=>d.translateX=Number(i.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:i=>r(d=>d.translateY=Number(i.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:i=>r(d=>d.zIndex=Number(i.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:i=>r(d=>d.opacity=Number(i.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};vh.craft={displayName:"Seccin de Noticias",props:{title:"Noticias Recientes",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",padding:60,gap:24,newsItems:JSON.stringify([{id:1,image:"",category:"Ambiente",title:"Por qu la Amazonia no produce realmente el 20% del oxigeno del mundo",size:"large"},{id:2,image:"",category:"Oceano",title:"Descubre las maravillas del oceano",size:"small"},{id:3,image:"",category:"Animales",title:"Se estn domesticando los zorros?",size:"small"}]),translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:JO}};const bh=({title:r="Conoce sobre",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:o="#ff6b35",backgroundColor:s="#1a1a1a",padding:i=60,gap:d=16,columns:f=4,categories:p="[]",translateX:m=0,translateY:v=0,zIndex:b=0,opacity:y=1})=>{const{id:j,connectors:{connect:C,drag:w},actions:{setProp:_},selected:z}=pe(H=>({selected:H.events.selected})),{actions:{add:S,selectNode:R,delete:I},query:{createNode:$,node:E}}=Me(),D=H=>{H.stopPropagation(),H.preventDefault();const G=H.clientX,se=H.clientY,V=Number(m)||0,O=Number(v)||0,J=ne=>{const re=ne.clientX-G,T=ne.clientY-se;_(k=>{k.translateX=V+re,k.translateY=O+T})},te=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",te)},P=L.useMemo(()=>JSON.stringify([{id:1,name:"Tribus indigenas",image:""},{id:2,name:"Fauna",image:""},{id:3,name:"Flora",image:""},{id:4,name:"Usos sostenibles",image:""},{id:5,name:"Agua",image:""},{id:6,name:"Cultura",image:""},{id:7,name:"Geografia",image:""}]),[]),X=p&&p!=="[]"?p:P,W=L.useMemo(()=>{try{return typeof X=="string"?JSON.parse(X):X}catch{return[]}},[X]),F={backgroundColor:s,padding:`${i}px`,transform:`translate(${Number(m)||0}px, ${Number(v)||0}px)`,opacity:Math.max(0,Math.min(1,Number(y)||1)),zIndex:Number(b)||0,position:"relative",outline:z?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:H=>C(w(H)),style:F,children:[a.jsx("div",{style:{marginBottom:"40px",textAlign:"center"},children:a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0,display:"inline-block",borderBottom:`3px solid ${o}`,paddingBottom:"8px"},children:r})}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${f}, 1fr)`,gap:`${d}px`,width:"100%"},children:W.map((H,G)=>a.jsxs("div",{style:{position:"relative",aspectRatio:"1",minHeight:"200px",borderRadius:"8px",overflow:"hidden",cursor:"pointer",transition:"transform 0.2s ease"},onMouseEnter:se=>{se.currentTarget.style.transform="scale(1.05)"},onMouseLeave:se=>{se.currentTarget.style.transform="scale(1)"},children:[H.image&&a.jsx("img",{src:H.image,alt:H.name,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute",top:0,left:0}}),!H.image&&a.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#2a2a2a",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"14px"},children:"Sin imagen"}),a.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(to top, rgba(0,0,0,0.9), transparent)",padding:"20px",color:"#ffffff"},children:a.jsx("h3",{style:{color:"#ffffff",fontSize:"18px",fontWeight:"bold",margin:0,borderBottom:`2px solid ${o}`,paddingBottom:"4px",display:"inline-block"},children:H.name})})]},H.id||G))}),z&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:D}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation();const G=E(j).get(),{type:se,props:V,parent:O}={type:G.data.type,props:G.data.props,parent:G.data.parent},te=E(O).get().data.nodes||[],ne=Math.max(0,te.indexOf(j)),re={...V,translateX:(Number(V.translateX)||0)+10,translateY:(Number(V.translateY)||0)+10},T=$(be.createElement(se,re));S(T,O,ne+1),R(T.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation(),I(j)}})]})]})},WO=()=>{const{actions:{setProp:r},props:e}=pe(m=>({props:m.data.props})),{upload:n,isUploading:o}=Bt("Assets");let s=[];try{s=typeof e.categories=="string"?JSON.parse(e.categories):e.categories||[]}catch{s=[]}const i=m=>{r(v=>v.categories=JSON.stringify(m))},d=(m,v,b)=>{const y=[...s];y[m]={...y[m],[v]:b},i(y)},f=()=>{const m=[...s,{id:Date.now(),name:"Nueva categora",image:""}];i(m)},p=m=>{const v=s.filter((b,y)=>y!==m);i(v)};return a.jsx(Be,{tabs:[{label:"Ttulo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Conoce sobre",onChange:m=>r(v=>v.title=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:m=>r(v=>v.titleColor=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:m=>r(v=>v.titleFontSize=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:m=>r(v=>v.accentColor=m.target.value)})]})]})},{label:"Categoras",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[a.jsx("label",{className:"form-label mb-0",children:"Categoras"}),a.jsxs("button",{className:"btn btn-sm btn-primary",onClick:f,children:[a.jsx("i",{className:"bi bi-plus"})," Agregar"]})]}),a.jsx("div",{className:"border rounded p-2 bg-light",style:{maxHeight:"400px",overflowY:"auto"},children:s.map((m,v)=>a.jsxs("div",{className:"card p-2 mb-2",children:[a.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[a.jsxs("span",{className:"small text-muted",children:["#",v+1]}),a.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>p(v),children:a.jsx("i",{className:"bi bi-trash"})})]}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre de categora",value:m.name||"",onChange:b=>d(v,"name",b.target.value)})}),a.jsx("div",{className:"mb-2",children:a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL de imagen",value:m.image||"",onChange:b=>d(v,"image",b.target.value)})}),a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async b=>{const y=b.target.files?.[0];if(!y)return;const j=await n(y);j&&(d(v,"image",j),b.target.value=null)},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo..."})]})]},m.id||v))})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:m=>r(v=>v.backgroundColor=m.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"range",className:"form-range",min:2,max:6,step:1,value:e.columns??4,onChange:m=>r(v=>v.columns=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.columns??4," columnas"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:m=>r(v=>v.padding=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado entre cards (px)"}),a.jsx("input",{type:"range",className:"form-range",min:8,max:48,step:4,value:e.gap??16,onChange:m=>r(v=>v.gap=Number(m.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.gap??16,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:m=>r(v=>v.translateX=Number(m.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:m=>r(v=>v.translateY=Number(m.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:m=>r(v=>v.zIndex=Number(m.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:m=>r(v=>v.opacity=Number(m.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};bh.craft={displayName:"Grid de Categoras",props:{title:"Conoce sobre",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",padding:60,gap:16,columns:4,categories:JSON.stringify([{id:1,name:"Tribus indigenas",image:""},{id:2,name:"Fauna",image:""},{id:3,name:"Flora",image:""},{id:4,name:"Usos sostenibles",image:""},{id:5,name:"Agua",image:""},{id:6,name:"Cultura",image:""},{id:7,name:"Geografia",image:""}]),translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:WO}};const xh=({title:r="Fotografa Destacada",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:o="#ff6b35",backgroundColor:s="#1a1a1a",image:i="",caption:d="La Densidad Infinita: 24 horas en el Parque Nacional Man",captionColor:f="#ffffff",captionFontSize:p=18,padding:m=60,imageHeight:v=500,translateX:b=0,translateY:y=0,zIndex:j=0,opacity:C=1})=>{const{id:w,connectors:{connect:_,drag:z},actions:{setProp:S},selected:R}=pe(F=>({selected:F.events.selected})),{actions:{add:I,selectNode:$,delete:E},query:{createNode:D,node:P}}=Me(),X=F=>{F.stopPropagation(),F.preventDefault();const H=F.clientX,G=F.clientY,se=Number(b)||0,V=Number(y)||0,O=te=>{const ne=te.clientX-H,re=te.clientY-G;S(T=>{T.translateX=se+ne,T.translateY=V+re})},J=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",J)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",J)},W={backgroundColor:s,padding:`${m}px`,transform:`translate(${Number(b)||0}px, ${Number(y)||0}px)`,opacity:Math.max(0,Math.min(1,Number(C)||1)),zIndex:Number(j)||0,position:"relative",outline:R?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:F=>_(z(F)),style:W,children:[a.jsxs("div",{style:{marginBottom:"40px",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:o}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),a.jsx("div",{style:{position:"relative",width:"100%",height:`${v}px`,borderRadius:"8px",overflow:"hidden",marginBottom:"20px"},children:i?a.jsx("img",{src:i,alt:d,style:{width:"100%",height:"100%",objectFit:"cover"}}):a.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"#2a2a2a",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"16px"},children:"Sin imagen"})}),d&&a.jsx("p",{style:{color:f,fontSize:`${p}px`,margin:0,textAlign:"center"},children:d}),R&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:X}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:F=>{F.preventDefault(),F.stopPropagation();const H=P(w).get(),{type:G,props:se,parent:V}={type:H.data.type,props:H.data.props,parent:H.data.parent},J=P(V).get().data.nodes||[],te=Math.max(0,J.indexOf(w)),ne={...se,translateX:(Number(se.translateX)||0)+10,translateY:(Number(se.translateY)||0)+10},re=D(be.createElement(G,ne));I(re,V,te+1),$(re.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:F=>{F.preventDefault(),F.stopPropagation(),E(w)}})]})]})},QO=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Fotografa Destacada",onChange:s=>r(i=>i.title=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.image??"",onChange:s=>r(i=>i.image=s.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.image=d),s.target.value=null)},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin/Caption"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.caption??"",onChange:s=>r(i=>i.caption=s.target.value),placeholder:"Descripcin de la fotografa..."})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:s=>r(i=>i.backgroundColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:s=>r(i=>i.titleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:s=>r(i=>i.titleFontSize=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:s=>r(i=>i.accentColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de imagen (px)"}),a.jsx("input",{type:"range",className:"form-range",min:200,max:800,step:20,value:e.imageHeight??500,onChange:s=>r(i=>i.imageHeight=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.imageHeight??500,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de caption"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.captionColor??"#ffffff",onChange:s=>r(i=>i.captionColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de caption (px)"}),a.jsx("input",{type:"range",className:"form-range",min:12,max:32,step:1,value:e.captionFontSize??18,onChange:s=>r(i=>i.captionFontSize=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.captionFontSize??18,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:s=>r(i=>i.padding=Number(s.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};xh.craft={displayName:"Fotografa Destacada",props:{title:"Fotografa Destacada",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",image:"",caption:"La Densidad Infinita: 24 horas en el Parque Nacional Man",captionColor:"#ffffff",captionFontSize:18,padding:60,imageHeight:500,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:QO}};const yh=({title:r="Visita el foro",titleColor:e="#ffffff",titleFontSize:n=48,accentColor:o="#ff6b35",backgroundColor:s="#1a1a1a",description:i="Un espacio diseado para conectar, aprender y compartir experiencias. Te estamos esperando!",descriptionColor:d="#ffffff",descriptionFontSize:f=18,buttonText:p="Entrar ahora",buttonColor:m="#ff6b35",buttonTextColor:v="#ffffff",buttonHoverColor:b="#e55a2b",padding:y=60,actionType:j="route",route:C="/forum",sectionName:w="",externalUrl:_="",externalNewTab:z=!0,translateX:S=0,translateY:R=0,zIndex:I=0,opacity:$=1})=>{const{id:E,connectors:{connect:D,drag:P},actions:{setProp:X},selected:W}=pe(re=>({selected:re.events.selected})),{actions:{add:F,selectNode:H,delete:G},query:{createNode:se,node:V}}=Me(),O=ft(),J=re=>{re.stopPropagation(),re.preventDefault();const T=re.clientX,k=re.clientY,M=Number(S)||0,q=Number(R)||0,le=he=>{const ae=he.clientX-T,A=he.clientY-k;X(Y=>{Y.translateX=M+ae,Y.translateY=q+A})},ie=()=>{document.removeEventListener("mousemove",le),document.removeEventListener("mouseup",ie)};document.addEventListener("mousemove",le),document.addEventListener("mouseup",ie)},te=re=>{if(re.preventDefault(),j==="section"){const k=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,M=new URLSearchParams;k&&M.set("site",k),w&&M.set("section",w);const q=w?`/editor?${M.toString()}`:"";if(!q)return;O(q);return}if(j==="external"){const k=(_||"").trim();if(!k)return;typeof window<"u"&&window.open(k,z?"_blank":"_self");return}const T=(C||"").trim();T&&O(T)},ne={backgroundColor:s,padding:`${y}px`,transform:`translate(${Number(S)||0}px, ${Number(R)||0}px)`,opacity:Math.max(0,Math.min(1,Number($)||1)),zIndex:Number(I)||0,position:"relative",outline:W?"2px dashed #3b82f6":void 0,textAlign:"center"};return a.jsxs("div",{ref:re=>D(P(re)),style:ne,children:[a.jsxs("div",{style:{marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"center",gap:"16px"},children:[a.jsx("div",{style:{width:"6px",height:"48px",backgroundColor:o}}),a.jsx("h2",{style:{color:e,fontSize:`${n}px`,fontWeight:"bold",margin:0},children:r})]}),i&&a.jsx("p",{style:{color:d,fontSize:`${f}px`,marginBottom:"32px",maxWidth:"600px",marginLeft:"auto",marginRight:"auto",lineHeight:1.6},children:i}),a.jsx("button",{onClick:te,style:{backgroundColor:m,color:v,border:"none",padding:"16px 48px",fontSize:"18px",fontWeight:"bold",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseEnter:re=>{re.currentTarget.style.backgroundColor=b},onMouseLeave:re=>{re.currentTarget.style.backgroundColor=m},children:p}),W&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:J}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:re=>{re.preventDefault(),re.stopPropagation();const T=V(E).get(),{type:k,props:M,parent:q}={type:T.data.type,props:T.data.props,parent:T.data.parent},ie=V(q).get().data.nodes||[],he=Math.max(0,ie.indexOf(E)),ae={...M,translateX:(Number(M.translateX)||0)+10,translateY:(Number(M.translateY)||0)+10},A=se(be.createElement(k,ae));F(A,q,he+1),H(A.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:re=>{re.preventDefault(),re.stopPropagation(),G(E)}})]})]})},ZO=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.title??"Visita el foro",onChange:n=>r(o=>o.title=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.description??"",onChange:n=>r(o=>o.description=n.target.value),placeholder:"Descripcin del CTA..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del botn"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.buttonText??"Entrar ahora",onChange:n=>r(o=>o.buttonText=n.target.value)})]})]})},{label:"Accin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tipo de accin"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"route",onChange:n=>r(o=>o.actionType=n.target.value),children:[a.jsx("option",{value:"route",children:"Ruta interna"}),a.jsx("option",{value:"section",children:"Ir a seccin"}),a.jsx("option",{value:"external",children:"Enlace externo"})]})]}),(e.actionType||"route")==="route"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ruta (Ej: /forum)"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.route??"/forum",onChange:n=>r(o=>o.route=n.target.value),placeholder:"/forum"})]}),(e.actionType||"route")==="section"&&a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Nombre de seccin"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.sectionName??"",onChange:n=>r(o=>o.sectionName=n.target.value),placeholder:"foro"})]}),(e.actionType||"route")==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL externa"}),a.jsx("input",{className:"form-control form-control-sm",type:"text",value:e.externalUrl??"",onChange:n=>r(o=>o.externalUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{id:"forum-cta-ext-newtab",className:"form-check-input",type:"checkbox",checked:!!e.externalNewTab,onChange:n=>r(o=>o.externalNewTab=n.target.checked)}),a.jsx("label",{className:"form-check-label",htmlFor:"forum-cta-ext-newtab",children:"Abrir en nueva pestaa"})]})]})]})},{label:"Diseo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor??"#1a1a1a",onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor??"#ffffff",onChange:n=>r(o=>o.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del ttulo (px)"}),a.jsx("input",{type:"range",className:"form-range",min:24,max:72,step:2,value:e.titleFontSize??48,onChange:n=>r(o=>o.titleFontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.titleFontSize??48,"px"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de acento"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.accentColor??"#ff6b35",onChange:n=>r(o=>o.accentColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de descripcin"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.descriptionColor??"#ffffff",onChange:n=>r(o=>o.descriptionColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de descripcin (px)"}),a.jsx("input",{type:"range",className:"form-range",min:12,max:32,step:1,value:e.descriptionFontSize??18,onChange:n=>r(o=>o.descriptionFontSize=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.descriptionFontSize??18,"px"]})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor??"#ff6b35",onChange:n=>r(o=>o.buttonColor=n.target.value)})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Color texto botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor??"#ffffff",onChange:n=>r(o=>o.buttonTextColor=n.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color hover botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonHoverColor??"#e55a2b",onChange:n=>r(o=>o.buttonHoverColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding (px)"}),a.jsx("input",{type:"range",className:"form-range",min:20,max:120,step:5,value:e.padding??60,onChange:n=>r(o=>o.padding=Number(n.target.value))}),a.jsxs("div",{className:"small text-muted",children:[e.padding??60,"px"]})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};yh.craft={displayName:"CTA Foro",props:{title:"Visita el foro",titleColor:"#ffffff",titleFontSize:48,accentColor:"#ff6b35",backgroundColor:"#1a1a1a",description:"Un espacio diseado para conectar, aprender y compartir experiencias. Te estamos esperando!",descriptionColor:"#ffffff",descriptionFontSize:18,buttonText:"Entrar ahora",buttonColor:"#ff6b35",buttonTextColor:"#ffffff",buttonHoverColor:"#e55a2b",padding:60,actionType:"route",route:"/forum",sectionName:"",externalUrl:"",externalNewTab:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:ZO}};const Ny=({showNavbar:r=!0,showHero:e=!0,showNews:n=!0,showCategories:o=!0,showFeaturedPhoto:s=!0,showForumCTA:i=!0,translateX:d=0,translateY:f=0,zIndex:p=0,opacity:m=1})=>{const{id:v,connectors:{connect:b,drag:y},actions:{setProp:j},selected:C}=pe(E=>({selected:E.events.selected})),{actions:{add:w,selectNode:_,delete:z},query:{createNode:S,node:R}}=Me(),I=E=>{E.stopPropagation(),E.preventDefault();const D=E.clientX,P=E.clientY,X=Number(d)||0,W=Number(f)||0,F=G=>{const se=G.clientX-D,V=G.clientY-P;j(O=>{O.translateX=X+se,O.translateY=W+V})},H=()=>{document.removeEventListener("mousemove",F),document.removeEventListener("mouseup",H)};document.addEventListener("mousemove",F),document.addEventListener("mouseup",H)},$={position:"relative",width:"100%",transform:`translate(${Number(d)||0}px, ${Number(f)||0}px)`,opacity:Math.max(0,Math.min(1,Number(m)||1)),zIndex:Number(p)||0,outline:C?"2px dashed #3b82f6":void 0};return a.jsxs("div",{ref:E=>b(y(E)),style:$,children:[r&&a.jsx(ma,{}),e&&a.jsx(Ra,{}),n&&a.jsx(vh,{}),o&&a.jsx(bh,{}),s&&a.jsx(xh,{}),i&&a.jsx(yh,{}),C&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:I}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation();const D=R(v).get(),{type:P,props:X,parent:W}={type:D.data.type,props:D.data.props,parent:D.data.parent},H=R(W).get().data.nodes||[],G=Math.max(0,H.indexOf(v)),se={...X,translateX:(Number(X.translateX)||0)+10,translateY:(Number(X.translateY)||0)+10},V=S(be.createElement(P,se));w(V,W,G+1),_(V.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:E=>{E.preventDefault(),E.stopPropagation(),z(v)}})]})]})},eA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar!==!1,onChange:n=>r(o=>o.showNavbar=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero!==!1,onChange:n=>r(o=>o.showHero=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNews!==!1,onChange:n=>r(o=>o.showNews=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Seccin de Noticias"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCategories!==!1,onChange:n=>r(o=>o.showCategories=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Categoras"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showFeaturedPhoto!==!1,onChange:n=>r(o=>o.showFeaturedPhoto=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Fotografa Destacada"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showForumCTA!==!1,onChange:n=>r(o=>o.showForumCTA=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar CTA Foro"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ny.craft={displayName:"Homepage Completa",props:{showNavbar:!0,showHero:!0,showNews:!0,showCategories:!0,showFeaturedPhoto:!0,showForumCTA:!0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:eA}};const jh=({imageUrl:r="https://placehold.co/1280x720",title:e="Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",titleColor:n="#ffffff",titleFontSize:o=48,content:s="El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",contentColor:i="#ffffff",contentFontSize:d=18,lineHeight:f=1.6,backgroundColor:p="#1a1a1a",padding:m=60,accentColor:v="#ff6b35",imageHeight:b=500,imagePosition:y="center",showLikeButton:j=!0,likeCount:C=1e3,showCommentButton:w=!0,commentCount:_=0,commentButtonLink:z="/forum",showBackButton:S=!0,showSeparator:R=!0,separatorColor:I="#ff6b35",separatorHeight:$=2,translateX:E=0,translateY:D=0,zIndex:P=0,opacity:X=1})=>{const{id:W,connectors:{connect:F,drag:H},actions:{setProp:G},selected:se}=pe(A=>({selected:A.events.selected})),{actions:{add:V,selectNode:O,delete:J},query:{createNode:te,node:ne},enabled:re}=Me(A=>({enabled:A.options.enabled})),T=ft(),[k,M]=L.useState(!1),[q,le]=L.useState(C),ie=A=>Y=>{Y.preventDefault(),Y.stopPropagation(),A()},he=A=>{A.stopPropagation()},ae=A=>{A.stopPropagation(),A.preventDefault();const Y=A.clientX,de=A.clientY,me=Number(E)||0,ge=Number(D)||0,Ne=Te=>{const ye=Te.clientX-Y,Ae=Te.clientY-de;G(De=>{De.translateX=me+ye,De.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};return a.jsxs("div",{ref:A=>F(H(A)),style:{position:"relative",width:"100%",backgroundColor:p,padding:`${m}px`,transform:`translate(${Number(E)||0}px, ${Number(D)||0}px)`,opacity:Math.max(0,Math.min(1,Number(X)||1)),zIndex:Number(P)||0,outline:se?"2px dashed #3b82f6":void 0},children:[a.jsxs("div",{style:{position:"absolute",left:"20px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"30px",alignItems:"center",zIndex:1e3,pointerEvents:"auto"},onClick:A=>A.stopPropagation(),onMouseDown:A=>A.stopPropagation(),children:[S&&a.jsx("button",{onClick:ie(()=>{T("/")}),onMouseDown:he,style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s",opacity:1,pointerEvents:"auto",zIndex:1e3},onMouseEnter:A=>{re||(A.currentTarget.style.opacity="0.8")},onMouseLeave:A=>{re||(A.currentTarget.style.opacity="1")},title:"Volver al Homepage",children:a.jsx("i",{className:"bi bi-arrow-left"})}),j&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[a.jsx("button",{onClick:ie(()=>{M(!k),le(A=>k?A-1:A+1)}),onMouseDown:he,style:{background:"transparent",border:"none",color:k?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.2s, transform 0.2s",opacity:1,pointerEvents:"auto",zIndex:1e3},onMouseEnter:A=>{A.currentTarget.style.transform="scale(1.1)"},onMouseLeave:A=>{A.currentTarget.style.transform="scale(1)"},title:"Me gusta",children:a.jsx("i",{className:`bi ${k?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:q>=1e3?`${(q/1e3).toFixed(1)}k`:q})]}),w&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"5px"},children:[a.jsx("button",{onClick:ie(()=>{z&&z.startsWith("http")?window.open(z,"_blank"):T(z||"/forum")}),onMouseDown:he,style:{background:"transparent",border:"none",color:"#ffffff",cursor:re?"default":"pointer",fontSize:"24px",padding:"10px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s",opacity:re?.7:1,pointerEvents:re?"none":"auto"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.8"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Ir al Foro",children:a.jsx("i",{className:"bi bi-chat-dots"})}),_>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"500"},children:_})]})]}),a.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",position:"relative"},children:[a.jsx("div",{style:{width:"100%",height:`${b}px`,marginBottom:"40px",position:"relative",overflow:"hidden",borderRadius:"8px"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:y}})}),a.jsx("h1",{style:{color:n,fontSize:`${o}px`,fontWeight:"bold",marginBottom:"20px",lineHeight:1.2,fontFamily:"sans-serif"},children:e}),R&&a.jsx("div",{style:{width:"100%",height:`${$}px`,backgroundColor:I,marginBottom:"30px"}}),a.jsx("div",{style:{color:i,fontSize:`${d}px`,lineHeight:f,fontFamily:"sans-serif",whiteSpace:"pre-wrap"},children:s})]}),se&&W!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation();const Y=ne(W).get(),{type:de,props:me,parent:ge}={type:Y.data.type,props:Y.data.props,parent:Y.data.parent},ve=ne(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(W)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=te(be.createElement(de,ye));V(Ae,ge,Te+1),O(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation(),J(W)}})]})]})},tA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.imageUrl||"",onChange:n=>r(o=>o.imageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:3,value:e.title||"",onChange:n=>r(o=>o.title=n.target.value),placeholder:"Ttulo del artculo..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contenido del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.content||"",onChange:n=>r(o=>o.content=n.target.value),placeholder:"Contenido del artculo..."})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.likeCount||0,onChange:n=>r(o=>o.likeCount=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.commentCount||0,onChange:n=>r(o=>o.commentCount=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.commentButtonLink||"/forum",onChange:n=>r(o=>o.commentButtonLink=n.target.value),placeholder:"/forum o https://..."}),a.jsx("small",{className:"text-muted",children:"Ruta interna (ej: /forum) o URL externa (ej: https://...)"})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#1a1a1a",onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#ffffff",onChange:n=>r(o=>o.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||48,onChange:n=>r(o=>o.titleFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Contenido"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentColor||"#ffffff",onChange:n=>r(o=>o.contentColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Contenido"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentFontSize||18,onChange:n=>r(o=>o.contentFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de la Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||500,onChange:n=>r(o=>o.imageHeight=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding||60,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Separador"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.separatorColor||"#ff6b35",onChange:n=>r(o=>o.separatorColor=n.target.value)})]})]})},{label:"Botones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showBackButton,onChange:n=>r(o=>o.showBackButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Volver"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showLikeButton,onChange:n=>r(o=>o.showLikeButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Like"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCommentButton,onChange:n=>r(o=>o.showCommentButton=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Botn Comentarios"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSeparator,onChange:n=>r(o=>o.showSeparator=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Separador"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};jh.craft={displayName:"Artculo de Noticias",props:{imageUrl:"https://placehold.co/1280x720",title:"Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",titleColor:"#ffffff",titleFontSize:48,content:"El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",contentColor:"#ffffff",contentFontSize:18,lineHeight:1.6,backgroundColor:"#1a1a1a",padding:60,accentColor:"#ff6b35",imageHeight:500,imagePosition:"center",showLikeButton:!0,likeCount:1e3,showCommentButton:!0,commentCount:0,commentButtonLink:"/forum",showBackButton:!0,showSeparator:!0,separatorColor:"#ff6b35",separatorHeight:2,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:tA}};const Cy=({showNavbar:r=!0,showArticle:e=!0,navbarLogoText:n="Akaru",navbarBackgroundColor:o="#1a1a1a",navbarItemColor:s="#ffffff",navbarItemHoverColor:i="#ff6b35",activeSection:d="Noticias",articleImageUrl:f="https://placehold.co/1280x720",articleTitle:p="Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",articleContent:m="El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",articleLikeCount:v=1e3,articleCommentCount:b=0,articleCommentButtonLink:y="/forum",translateX:j=0,translateY:C=0,zIndex:w=0,opacity:_=1})=>{const{id:z,connectors:{connect:S,drag:R},actions:{setProp:I},selected:$}=pe(H=>({selected:H.events.selected})),{actions:{add:E,selectNode:D,delete:P},query:{createNode:X,node:W}}=Me(),F=H=>{H.stopPropagation(),H.preventDefault();const G=H.clientX,se=H.clientY,V=Number(j)||0,O=Number(C)||0,J=ne=>{const re=ne.clientX-G,T=ne.clientY-se;I(k=>{k.translateX=V+re,k.translateY=O+T})},te=()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",te)};document.addEventListener("mousemove",J),document.addEventListener("mouseup",te)};return a.jsxs("div",{ref:H=>S(R(H)),style:{position:"relative",width:"100%",transform:`translate(${Number(j)||0}px, ${Number(C)||0}px)`,opacity:Math.max(0,Math.min(1,Number(_)||1)),zIndex:Number(w)||0,outline:$?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"news-navbar",logoText:n,backgroundColor:o,itemColor:s,itemHoverColor:i,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),r&&d&&a.jsx("div",{style:{paddingLeft:"60px",paddingTop:"20px",paddingBottom:"15px",backgroundColor:"#000000",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:a.jsx("button",{style:{background:"transparent",border:"none",color:"#ffffff",fontSize:"18px",fontFamily:"sans-serif",fontWeight:"600",borderBottom:"3px solid #ff6b35",paddingBottom:"8px",paddingLeft:"0",paddingRight:"0",cursor:"default",textTransform:"uppercase",letterSpacing:"1px"},children:d})}),e&&a.jsx(xe,{is:jh,id:"news-article",imageUrl:f,title:p,content:m,likeCount:v,commentCount:b,commentButtonLink:y,backgroundColor:"#000000",padding:60,titleFontSize:48,contentFontSize:18,imageHeight:500})]}),$&&z!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:F}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation();const G=W(z).get(),{type:se,props:V,parent:O}={type:G.data.type,props:G.data.props,parent:G.data.parent},te=W(O).get().data.nodes||[],ne=Math.max(0,te.indexOf(z)),re={...V,translateX:(Number(V.translateX)||0)+10,translateY:(Number(V.translateY)||0)+10},T=X(be.createElement(se,re));E(T,O,ne+1),D(T.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:H=>{H.preventDefault(),H.stopPropagation(),P(z)}})]})]})},aA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:n=>r(o=>o.showNavbar=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showArticle,onChange:n=>r(o=>o.showArticle=n.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Artculo"})]})]})},{label:"Navbar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Logo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.navbarLogoText||"Akaru",onChange:n=>r(o=>o.navbarLogoText=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Seccin Activa"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.activeSection||"Noticias",onChange:n=>r(o=>o.activeSection=n.target.value)})]})]})},{label:"Artculo",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.articleImageUrl||"",onChange:n=>r(o=>o.articleImageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo del Artculo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:2,value:e.articleTitle||"",onChange:n=>r(o=>o.articleTitle=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Contenido"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:5,value:e.articleContent||"",onChange:n=>r(o=>o.articleContent=n.target.value)})]}),a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.articleLikeCount||0,onChange:n=>r(o=>o.articleLikeCount=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.articleCommentCount||0,onChange:n=>r(o=>o.articleCommentCount=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.articleCommentButtonLink||"/forum",onChange:n=>r(o=>o.articleCommentButtonLink=n.target.value),placeholder:"/forum o https://..."}),a.jsx("small",{className:"text-muted",children:"Ruta interna (ej: /forum) o URL externa (ej: https://...)"})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Cy.craft={displayName:"Pgina de Noticias Completa",props:{showNavbar:!0,showArticle:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeSection:"Noticias",articleImageUrl:"https://placehold.co/1280x720",articleTitle:"Por qu la Amazonia no produce realmente el 20% del oxgeno del mundo",articleContent:"El cientfico Michael Coe explic que la Amazonia consume tanto oxgeno como produce, por lo que su contribucin neta al oxgeno global es prcticamente cero. La selva amaznica es un ecosistema en equilibrio donde los rboles producen oxgeno durante el da mediante la fotosntesis, pero tambin consumen oxgeno durante la noche para respirar.",articleLikeCount:1e3,articleCommentCount:0,articleCommentButtonLink:"/forum",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:aA}};const $t=({imageUrl:r="https://placehold.co/400x300",title:e="Ttulo del Card",buttonText:n="LEER",actionType:o="route",to:s="",sectionName:i="",externalUrl:d="",externalNewTab:f=!0,linkUrl:p,linkNewTab:m,variant:v="default",borderRadius:b=8,imageHeight:y=200,height:j=300,padding:C=24,backgroundColor:w="transparent",titleColor:_="#000000",titleFontSize:z=18,buttonColor:S="#000000",buttonTextColor:R="#ffffff",buttonHoverColor:I="#ff6b35",overlayColor:$="rgba(0,0,0,0.4)",columnSpan:E=1,translateX:D=0,translateY:P=0,zIndex:X=0,opacity:W=1})=>{const F=be.useRef(!1),{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(ae=>({selected:ae.events.selected}));be.useEffect(()=>{F.current||p!==void 0&&o==="none"&&(F.current=!0,p.startsWith("http")?V(ae=>{ae.actionType="external",ae.externalUrl=p,ae.externalNewTab=m!==void 0?m:!1,delete ae.linkUrl,delete ae.linkNewTab}):p.startsWith("#")?V(ae=>{ae.actionType="route",ae.to=p,delete ae.linkUrl,delete ae.linkNewTab}):p&&p!=="#"&&V(ae=>{ae.actionType="route",ae.to=p,delete ae.linkUrl,delete ae.linkNewTab}))},[]);const{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T},enabled:k}=Me(ae=>({enabled:ae.options.enabled})),M=ft(),q=ae=>{ae.stopPropagation(),ae.preventDefault();const A=ae.clientX,Y=ae.clientY,de=Number(D)||0,me=Number(P)||0,ge=ve=>{const Te=ve.clientX-A,ye=ve.clientY-Y;V(Ae=>{Ae.translateX=de+Te,Ae.translateY=me+ye})},Ne=()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",Ne)};document.addEventListener("mousemove",ge),document.addEventListener("mouseup",Ne)},le=ae=>{if(ae.preventDefault(),ae.stopPropagation(),o==="section"){const Y=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,de=new URLSearchParams;Y&&de.set("site",Y),i&&de.set("section",i);const me=i?`/editor?${de.toString()}`:"";if(!me)return;if(me.startsWith("#")){const ge=document.querySelector(me);ge&&ge.scrollIntoView({behavior:"smooth",block:"start"});return}M(me);return}if(o==="external"){const Y=(d||"").trim();if(!Y)return;typeof window<"u"&&window.open(Y,f?"_blank":"_self");return}const A=(s||"").trim();if(A){if(A.startsWith("#")){const Y=document.querySelector(A);Y&&Y.scrollIntoView({behavior:"smooth",block:"start"});return}M(A)}},ie={position:"relative",width:"100%",borderRadius:`${b}px`,overflow:"hidden",transform:`translate(${Number(D)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(W)||1)),zIndex:Number(X)||0,outline:O?"2px dashed #3b82f6":void 0,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",display:"flex",flexDirection:"column",gridColumn:`span ${E}`},he=ae=>a.jsxs(a.Fragment,{children:[a.jsx("h3",{style:{color:ae?"#ffffff":_,fontSize:`${z}px`,fontWeight:"700",marginBottom:"20px",marginTop:0,lineHeight:"1.2",textShadow:ae?"0 2px 4px rgba(0,0,0,0.5)":"none"},children:e}),a.jsxs("button",{onClick:le,style:{background:"transparent",color:ae?"#ffffff":S,border:"none",padding:"0",cursor:k?"default":"pointer",fontSize:"12px",fontWeight:"700",display:"flex",alignItems:"center",gap:"8px",transition:"opacity 0.2s",textTransform:"uppercase",letterSpacing:"1px"},children:[a.jsx("i",{className:"bi bi-justify-left",style:{fontSize:"18px"}}),a.jsx("span",{children:n})]})]});return v==="overlay"?a.jsxs("div",{ref:ae=>G(se(ae)),style:{...ie,height:`${j}px`,backgroundColor:"transparent"},children:[a.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}}),a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0.4) 50%, rgba(0,0,0,0.1) 100%)"}})]}),a.jsx("div",{style:{position:"relative",zIndex:2,padding:`${C}px`,height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end"},children:he(!0)})]}):v==="horizontal"?a.jsxs("div",{ref:ae=>G(se(ae)),style:{...ie,flexDirection:"row",backgroundColor:w,height:"auto",minHeight:"150px",overflow:"hidden"},children:[a.jsx("div",{style:{width:"40%",position:"relative",minHeight:"100%",flexShrink:0},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover",position:"absolute"}})}),a.jsx("div",{style:{flex:1,padding:`${C}px`,display:"flex",flexDirection:"column",justifyContent:"center",gap:"12px"},children:he(!1)}),O&&k&&a.jsx("div",{style:{position:"absolute",top:"-15px",right:"-10px",zIndex:100,backgroundColor:"transparent",borderRadius:"50%",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",cursor:"pointer"},onClick:ae=>{ae.stopPropagation()}})]}):a.jsxs("div",{ref:ae=>G(se(ae)),style:{...ie,backgroundColor:w},children:[a.jsx("div",{style:{height:`${y}px`,width:"100%",position:"relative"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsx("div",{style:{padding:`${C}px`,flex:1,display:"flex",flexDirection:"column",justifyContent:"space-between",gap:"16px"},children:a.jsx("div",{children:he(!1)})}),O&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"transparent",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:q}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ae=>{ae.preventDefault(),ae.stopPropagation();const A=T(H).get(),{type:Y,props:de,parent:me}={type:A.data.type,props:A.data.props,parent:A.data.parent},Ne=T(me).get().data.nodes||[],ve=Math.max(0,Ne.indexOf(H)),Te={...de,translateX:(Number(de.translateX)||0)+10,translateY:(Number(de.translateY)||0)+10},ye=re(be.createElement(Y,Te));J(ye,me,ve+1),te(ye.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),ne(H)}})]})]})},nA=()=>{const{actions:{setProp:r},props:e}=pe(o=>({props:o.data.props})),n=o=>{const s=o.target.files?.[0];if(s){if(!s.type.startsWith("image/")){alert("Por favor selecciona un archivo de imagen vlido.");return}if(s.size>5*1024*1024){alert("La imagen es muy grande. Mximo 5MB.");return}const i=new FileReader;i.onload=d=>{r(f=>f.imageUrl=d.target.result)},i.readAsDataURL(s)}};return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas (Grid)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:12,value:e.columnSpan||1,onChange:o=>r(s=>s.columnSpan=Number(o.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Variante (Estilo)"}),a.jsxs("select",{className:"form-select form-select-sm",value:e.variant||"default",onChange:o=>r(s=>s.variant=o.target.value),children:[a.jsx("option",{value:"default",children:"Estndar (Imagen Arriba)"}),a.jsx("option",{value:"overlay",children:"Overlay (Texto sobre Imagen)"}),a.jsx("option",{value:"horizontal",children:"Horizontal (Lista)"})]})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"transparent"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-image me-1"})," Imagen"]}),e.imageUrl&&a.jsx("div",{className:"mb-2 text-center",children:a.jsx("img",{src:e.imageUrl,alt:"Preview",style:{maxWidth:"100%",maxHeight:"100px",objectFit:"cover",borderRadius:"4px",border:"1px solid #dee2e6"}})}),a.jsxs("div",{className:"mb-2",children:[a.jsx("label",{className:"form-label small text-muted mb-1",children:"Subir desde computadora:"}),a.jsx("input",{type:"file",className:"form-control form-control-sm",accept:"image/*",onChange:n})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label small text-muted mb-1",children:"O ingresar URL:"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"https://ejemplo.com/imagen.jpg",value:e.imageUrl||"",onChange:o=>r(s=>s.imageUrl=o.target.value)})]}),e.imageUrl&&e.imageUrl!=="https://placehold.co/400x300"&&a.jsxs("button",{type:"button",className:"btn btn-outline-secondary btn-sm w-100 mt-2",onClick:()=>r(o=>o.imageUrl="https://placehold.co/400x300"),children:[a.jsx("i",{className:"bi bi-x-circle me-1"})," Restablecer imagen"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:2,value:e.title||"",onChange:o=>r(s=>s.title=o.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"transparent"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:o=>r(s=>s.actionType=o.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:o=>r(s=>s.sectionName=o.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:o=>r(s=>s.externalUrl=o.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.newTab!==!1,onChange:o=>r(s=>s.newTab=o.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.route||"",onChange:o=>r(s=>s.route=o.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[e.variant==="overlay"?a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura Total"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.height||300,onChange:o=>r(s=>s.height=Number(o.target.value))})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||200,onChange:o=>r(s=>s.imageHeight=Number(o.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo Card"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:o=>r(s=>s.backgroundColor=o.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#000000",onChange:o=>r(s=>s.titleColor=o.target.value)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Fuente Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||18,onChange:o=>r(s=>s.titleFontSize=Number(o.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor||"#000000",onChange:o=>r(s=>s.buttonColor=o.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Radio Borde"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.borderRadius||8,onChange:o=>r(s=>s.borderRadius=Number(o.target.value))})]})]})}]})};$t.craft={displayName:"Feature Card",props:{imageUrl:"https://placehold.co/400x300",title:"Ttulo del Card",buttonText:"LEER",actionType:"none",sectionName:"",externalUrl:"",route:"",newTab:!1,variant:"default",borderRadius:8,imageHeight:200,height:300,padding:24,backgroundColor:"transparent",titleColor:"#000000",titleFontSize:18,buttonColor:"#000000",translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:nA}};const wy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Tribus",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Tribus Indigenas",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"",title:"Ubicacion Geografica",link:"#"},{id:2,image:"",title:"Organizacion social",link:"#"},{id:3,image:"",title:"Idiomas y Comunicacion",link:"#"},{id:4,image:"",title:"Musica y Danza",link:"#"},{id:5,image:"",title:"Gastronomia",link:"#"},{id:6,image:"",title:"Economa y Sustentabilidad",link:"#"},{id:7,image:"",title:"Vestimenta y Pintura Corporal",link:"#"},{id:8,image:"",title:"Vivienda y Arquitectura",link:"#"}]),cardsColumns:w=3,cardsGap:_=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:$=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:D=0,translateX:P=0,translateY:X=0,zIndex:W=0,opacity:F=1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(Y=>({selected:Y.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T}}=Me(Y=>({enabled:Y.options.enabled})),k=ft(),[M,q]=L.useState(!1),[le,ie]=L.useState($),he=Y=>{Y.stopPropagation(),Y.preventDefault();const de=Y.clientX,me=Y.clientY,ge=Number(P)||0,Ne=Number(X)||0,ve=ye=>{const Ae=ye.clientX-de,De=ye.clientY-me;V(Nt=>{Nt.translateX=ge+Ae,Nt.translateY=Ne+De})},Te=()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Te)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Te)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}const A=ae.slice(0,5);return a.jsxs("div",{ref:Y=>G(se(Y)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(X)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(W)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"tribes-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!0},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!0}])}),e&&a.jsx(xe,{is:Ra,id:"tribes-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),k(I)},onMouseDown:Y=>{Y.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>{Y.currentTarget.style.opacity="0.7"},onMouseLeave:Y=>{Y.currentTarget.style.opacity="1"},title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),q(!M),ie(de=>M?de-1:de+1)},onMouseDown:Y=>{Y.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>{Y.currentTarget.style.opacity="0.7"},onMouseLeave:Y=>{Y.currentTarget.style.opacity="1"},title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:le>=1e3?`${(le/1e3).toFixed(1)}k`:le})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),E.startsWith("http")?window.open(E,"_blank"):k(E)},onMouseDown:Y=>{Y.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>{Y.currentTarget.style.opacity="0.7"},onMouseLeave:Y=>{Y.currentTarget.style.opacity="1"},title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),D>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:D})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsxs(xe,{is:gh,id:"tribes-grid5",gap:_,padding:0,backgroundColor:"transparent",gridTemplateColumns:"repeat(6, 1fr)",canvas:!0,children:[A.slice(0,3).map((Y,de)=>a.jsx(xe,{is:$t,id:`tribes-card-${Y.id||de}`,variant:"overlay",columnSpan:2,title:Y.title||"",imageUrl:Y.image||"",linkUrl:Y.link||"#",height:200,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"},Y.id||de)),A.slice(3,5).map((Y,de)=>a.jsx(xe,{is:$t,id:`tribes-card-${Y.id||de+3}`,variant:"horizontal",columnSpan:3,title:Y.title||"",imageUrl:Y.image||"",linkUrl:Y.link||"#",backgroundColor:"#000000",titleColor:"#ffffff",buttonColor:"#ffffff"},Y.id||de+3))]})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Y=>{Y.preventDefault(),Y.stopPropagation();const de=T(H).get(),{type:me,props:ge,parent:Ne}={type:de.data.type,props:de.data.props,parent:de.data.parent},Te=T(Ne).get().data.nodes||[],ye=Math.max(0,Te.indexOf(H)),Ae={...ge,translateX:(Number(ge.translateX)||0)+10,translateY:(Number(ge.translateY)||0)+10},De=re(be.createElement(me,Ae));J(De,Ne,ye+1),te(De.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),ne(H)}})]})]})},rA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Tribus Indigenas"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Tribus Indigenas",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:s=>r(i=>i.cardsColumns=Number(s.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};wy.craft={displayName:"Pgina de Tribus Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Tribus",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Tribus Indigenas",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"",title:"Ubicacion Geografica",link:"#"},{id:2,image:"",title:"Organizacion social",link:"#"},{id:3,image:"",title:"Idiomas y Comunicacion",link:"#"},{id:4,image:"",title:"Musica y Danza",link:"#"},{id:5,image:"",title:"Gastronomia",link:"#"},{id:6,image:"",title:"Economa y Sustentabilidad",link:"#"},{id:7,image:"",title:"Vestimenta y Pintura Corporal",link:"#"},{id:8,image:"",title:"Vivienda y Arquitectura",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:rA}};const Nh=({imageUrl:r="https://placehold.co/400x300",title:e="Ttulo del Card",titleColor:n="#000000",titleFontSize:o=18,buttonText:s="LEER",buttonColor:i="#000000",buttonTextColor:d="#ffffff",buttonHoverColor:f="#ff6b35",actionType:p="none",route:m="",sectionName:v="",externalUrl:b="",newTab:y=!1,linkUrl:j,linkNewTab:C,backgroundColor:w="#ffffff",borderRadius:_=8,padding:z=0,imageHeight:S=200,translateX:R=0,translateY:I=0,zIndex:$=0,opacity:E=1})=>{const{id:D,connectors:{connect:P,drag:X},actions:{setProp:W},selected:F}=pe(k=>({selected:k.events.selected})),{actions:{add:H,selectNode:G,delete:se},query:{createNode:V,node:O},enabled:J}=Me(k=>({enabled:k.options.enabled})),te=ft();be.useEffect(()=>{j&&(j.startsWith("http")?W(k=>{k.actionType="external",k.externalUrl=j,k.newTab=!!C,k.linkUrl=void 0,k.linkNewTab=void 0}):W(k=>{k.actionType="route",k.route=j,k.linkUrl=void 0}))},[j,C,W]);const ne=k=>{k.stopPropagation(),k.preventDefault();const M=k.clientX,q=k.clientY,le=Number(R)||0,ie=Number(I)||0,he=A=>{const Y=A.clientX-M,de=A.clientY-q;W(me=>{me.translateX=le+Y,me.translateY=ie+de})},ae=()=>{document.removeEventListener("mousemove",he),document.removeEventListener("mouseup",ae)};document.addEventListener("mousemove",he),document.addEventListener("mouseup",ae)},re=k=>{k.stopPropagation()},T=k=>{if(k.preventDefault(),k.stopPropagation(),!J){if(p==="section"){const M=typeof window<"u"?new URLSearchParams(window.location.search).get("site"):null,q=new URLSearchParams;M&&q.set("site",M),v&&q.set("section",v);const le=v?`/editor?${q.toString()}`:"";if(!le)return;te(le);return}if(p==="external"){const M=(b||"").trim();if(!M)return;window.open(M,y?"_blank":"_self");return}if(p==="route"){const M=(m||"").trim();if(!M)return;if(M.startsWith("#")){const q=document.querySelector(M);q&&q.scrollIntoView({behavior:"smooth",block:"start"});return}te(M)}}};return a.jsxs("div",{ref:k=>P(X(k)),style:{position:"relative",width:"100%",backgroundColor:w,borderRadius:`${_}px`,overflow:"hidden",transform:`translate(${Number(R)||0}px, ${Number(I)||0}px)`,opacity:Math.max(0,Math.min(1,Number(E)||1)),zIndex:Number($)||0,outline:F?"2px dashed #3b82f6":void 0,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[a.jsx("div",{style:{width:"100%",height:`${S}px`,overflow:"hidden",position:"relative"},children:a.jsx("img",{src:r,alt:e,style:{width:"100%",height:"100%",objectFit:"cover"}})}),a.jsxs("div",{style:{padding:`${z||24}px`},children:[a.jsx("h3",{style:{color:n,fontSize:`${o}px`,fontWeight:"600",marginBottom:"20px",marginTop:0,fontFamily:"sans-serif",lineHeight:"1.3"},children:e}),a.jsxs("button",{onClick:T,onMouseDown:re,style:{background:"transparent",color:d,border:"none",padding:"0",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"10px",transition:"opacity 0.2s",fontFamily:"sans-serif"},onMouseEnter:k=>{k.currentTarget.style.opacity="0.7"},onMouseLeave:k=>{k.currentTarget.style.opacity="1"},children:[a.jsx("i",{className:"bi bi-list",style:{fontSize:"20px",fontWeight:"bold",lineHeight:"1"}}),a.jsx("span",{style:{letterSpacing:"0.5px"},children:s})]})]}),F&&D!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ne}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:k=>{k.preventDefault(),k.stopPropagation();const M=O(D).get(),{type:q,props:le,parent:ie}={type:M.data.type,props:M.data.props,parent:M.data.parent},ae=O(ie).get().data.nodes||[],A=Math.max(0,ae.indexOf(D)),Y={...le,translateX:(Number(le.translateX)||0)+10,translateY:(Number(le.translateY)||0)+10},de=V(be.createElement(q,Y));H(de,ie,A+1),G(de.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:k=>{k.preventDefault(),k.stopPropagation(),se(D)}})]})]})},lA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Contenido",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.imageUrl||"",onChange:n=>r(o=>o.imageUrl=n.target.value),placeholder:"https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.title||"",onChange:n=>r(o=>o.title=n.target.value),placeholder:"Ttulo del card..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto del Botn"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.buttonText||"LEER",onChange:n=>r(o=>o.buttonText=n.target.value)})]}),a.jsxs("div",{className:"border rounded p-2",style:{backgroundColor:"#f8f9fa"},children:[a.jsxs("label",{className:"form-label fw-bold mb-2",children:[a.jsx("i",{className:"bi bi-link-45deg me-1"})," Accin del Botn"]}),a.jsx("div",{className:"mb-2",children:a.jsxs("select",{className:"form-select form-select-sm",value:e.actionType||"none",onChange:n=>r(o=>o.actionType=n.target.value),children:[a.jsx("option",{value:"none",children:"Sin accin"}),a.jsx("option",{value:"section",children:"Ir a Seccin"}),a.jsx("option",{value:"external",children:"Link Externo"}),a.jsx("option",{value:"route",children:"Ruta Interna"})]})}),e.actionType==="section"&&a.jsx("input",{className:"form-control form-control-sm",placeholder:"Nombre seccin (ej: foro, fauna)",value:e.sectionName||"",onChange:n=>r(o=>o.sectionName=n.target.value)}),e.actionType==="external"&&a.jsxs("div",{className:"d-grid gap-2",children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"URL (https://...)",value:e.externalUrl||"",onChange:n=>r(o=>o.externalUrl=n.target.value)}),a.jsxs("div",{className:"form-check",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.newTab!==!1,onChange:n=>r(o=>o.newTab=n.target.checked)}),a.jsx("label",{className:"form-check-label small",children:"Abrir en nueva pestaa"})]})]}),e.actionType==="route"&&a.jsxs("div",{children:[a.jsx("input",{className:"form-control form-control-sm",placeholder:"Ruta (ej: /login o #seccion)",value:e.route||"",onChange:n=>r(o=>o.route=n.target.value)}),a.jsx("small",{className:"text-muted",children:"Usa # para ir a una seccin de la pgina"})]})]})]})},{label:"Estilos",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor||"#ffffff",onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.titleColor||"#000000",onChange:n=>r(o=>o.titleColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.titleFontSize||18,onChange:n=>r(o=>o.titleFontSize=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonColor||"#000000",onChange:n=>r(o=>o.buttonColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonTextColor||"#ffffff",onChange:n=>r(o=>o.buttonTextColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color Hover del Botn"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.buttonHoverColor||"#ff6b35",onChange:n=>r(o=>o.buttonHoverColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura de la Imagen"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.imageHeight||200,onChange:n=>r(o=>o.imageHeight=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding||20,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Border Radius"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.borderRadius||8,onChange:n=>r(o=>o.borderRadius=Number(n.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:n=>r(o=>o.translateX=Number(n.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:n=>r(o=>o.translateY=Number(n.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-Index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:n=>r(o=>o.zIndex=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Nh.craft={displayName:"Card Tribus",props:{imageUrl:"https://placehold.co/400x300",title:"Ttulo del Card",titleColor:"#000000",titleFontSize:18,buttonText:"LEER",buttonColor:"#000000",buttonTextColor:"#ffffff",buttonHoverColor:"#ff6b35",actionType:"none",sectionName:"",externalUrl:"",route:"",newTab:!1,backgroundColor:"#ffffff",borderRadius:8,padding:20,imageHeight:200,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:lA}};const Sy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:w=3,cardsGap:_=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:$=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:D=0,translateX:P=0,translateY:X=0,zIndex:W=0,opacity:F=1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(A=>({selected:A.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T}}=Me(A=>({enabled:A.options.enabled})),k=ft(),[M,q]=L.useState(!1),[le,ie]=L.useState($),he=A=>{A.stopPropagation(),A.preventDefault();const Y=A.clientX,de=A.clientY,me=Number(P)||0,ge=Number(X)||0,Ne=Te=>{const ye=Te.clientX-Y,Ae=Te.clientY-de;V(De=>{De.translateX=me+ye,De.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}return a.jsxs("div",{ref:A=>G(se(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(X)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(W)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"flora-container",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"flora-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!0},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!0}])}),e&&a.jsx(xe,{is:Ra,id:"flora-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",height:"100%",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),k(I)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),q(!M),ie(Y=>M?Y-1:Y+1)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:le>=1e3?`${(le/1e3).toFixed(1)}k`:le})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),E.startsWith("http")?window.open(E,"_blank"):k(E)},onMouseDown:A=>{A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>{A.currentTarget.style.opacity="0.7"},onMouseLeave:A=>{A.currentTarget.style.opacity="1"},title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),D>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:D})]})]}),a.jsx("div",{style:{flex:1,display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gap:`${_}px`,width:"100%"},children:ae.map((A,Y)=>a.jsx(xe,{is:Nh,id:`flora-card-${A.id||Y}`,imageUrl:A.image||"",title:A.title||"",linkUrl:A.link||"#",backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000",buttonTextColor:"#000000"},A.id||Y))})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation();const Y=T(H).get(),{type:de,props:me,parent:ge}={type:Y.data.type,props:Y.data.props,parent:Y.data.parent},ve=T(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(H)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=re(be.createElement(de,ye));J(Ae,ge,Te+1),te(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.preventDefault(),A.stopPropagation(),ne(H)}})]})]})},oA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Flora"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:s=>r(i=>i.cardsColumns=Number(s.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Sy.craft={displayName:"Pgina de Flora Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:oA}};const _y=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:w=30,cardsBackgroundColor:_="#000000",cardsPadding:z=80,showSidebar:S=!0,sidebarBackLink:R="/",sidebarLikeCount:I=1e3,sidebarCommentLink:$="/forum",sidebarCommentCount:E=0,translateX:D=0,translateY:P=0,zIndex:X=0,opacity:W=1})=>{const{id:F,connectors:{connect:H,drag:G},actions:{setProp:se},selected:V}=pe(M=>({selected:M.events.selected})),{actions:{add:O,selectNode:J,delete:te},query:{createNode:ne,node:re}}=Me(M=>({enabled:M.options.enabled}));ft();const T=M=>{M.stopPropagation(),M.preventDefault()};let k=[];try{k=typeof C=="string"?JSON.parse(C):C}catch{k=[]}return a.jsxs("div",{ref:M=>H(G(M)),style:{position:"relative",width:"100%",transform:`translate(${Number(D)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(W)||1)),zIndex:Number(X)||0,outline:V?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"flora-v1-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"flora-v1-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"flora-v1-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:_,padding:`${z}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[S&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx(xe,{is:Ys,id:"flora-v1-back-btn",icon:"bi bi-arrow-left",color:"#ffffff",width:"auto",height:"auto",padding:12,link:R}),a.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:a.jsx(xe,{is:Fs,id:"flora-v1-like-btn",icon:"bi bi-heart",activeIcon:"bi bi-heart-fill",color:"#ffffff",activeColor:"#ff0000",initialCount:I,width:"auto",height:"auto",padding:12})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx(xe,{is:Xs,id:"flora-v1-comment-btn",icon:"bi bi-chat-dots",color:"#ffffff",width:"auto",height:"auto",padding:12,link:$}),a.jsx(xe,{is:Ht,id:"flora-v1-comment-count",text:E.toString(),color:"#ffffff",fontSize:16,fontWeight:"500",tagName:"span"})]})]}),a.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:`${w}px`,width:"100%"},children:[k[0]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${k[0].id||0}`,imageUrl:k[0].image||"",title:k[0].title||"",linkUrl:k[0].link||"#",variant:"overlay",columnSpan:1,height:600,titleFontSize:24,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"}),k[1]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${k[1].id||1}`,imageUrl:k[1].image||"",title:k[1].title||"",linkUrl:k[1].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),k[2]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${k[2].id||2}`,imageUrl:k[2].image||"",title:k[2].title||"",linkUrl:k[2].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]})]})})]}),V&&F!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:T}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation();const q=re(F).get(),{type:le,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=re(he).get().data.nodes||[],Y=Math.max(0,A.indexOf(F)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=ne(be.createElement(le,de));O(me,he,Y+1),J(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation(),te(F)}})]})]})},sA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.cards||"[]",onChange:s=>r(i=>i.cards=s.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, subtitle?, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};_y.craft={displayName:"Pgina de Flora V1 (Card Grande + 2 Pequeas)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:sA}};const Gs=({cards:r="[]",columns:e=3,gap:n=15,padding:o=20,maxWidth:s="1000px",backgroundColor:i="transparent",opacity:d=1,translateX:f=0,translateY:p=0})=>{const m=L.useMemo(()=>JSON.stringify([{id:1,image:"https://placehold.co/800x600",title:"Carta Principal Destacada",buttonText:"LEER",actionType:"section",sectionName:"inicio"},{id:2,image:"https://placehold.co/400x300",title:"Carta Secundaria 1",buttonText:"LEER",actionType:"section",sectionName:"fauna"},{id:3,image:"https://placehold.co/400x300",title:"Carta Secundaria 2",buttonText:"LEER",actionType:"section",sectionName:"flora"},{id:4,image:"https://placehold.co/400x300",title:"Carta Secundaria 3",buttonText:"LEER",actionType:"section",sectionName:"cultura"},{id:5,image:"https://placehold.co/400x300",title:"Carta Secundaria 4",buttonText:"LEER",actionType:"section",sectionName:"geografia"}]),[]),v=r&&r!=="[]"?r:m,{connectors:{connect:b,drag:y},selected:j,actions:{setProp:C},id:w}=pe(P=>({selected:P.events.selected})),{actions:{add:_,selectNode:z,delete:S},query:{createNode:R,node:I},enabled:$}=Me(P=>({enabled:P.options.enabled})),E=P=>{P.stopPropagation(),P.preventDefault();const X=P.clientX,W=P.clientY,F=Number(f)||0,H=Number(p)||0,G=V=>{const O=V.clientX-X,J=V.clientY-W;C(te=>{te.translateX=F+O,te.translateY=H+J})},se=()=>{document.removeEventListener("mousemove",G),document.removeEventListener("mouseup",se)};document.addEventListener("mousemove",G),document.addEventListener("mouseup",se)},D=L.useMemo(()=>{try{return JSON.parse(v)}catch(P){return console.warn("FeatureGrid: Error parsing cards JSON",P),[]}},[v]);return a.jsxs("div",{ref:P=>b(y(P)),style:{position:"relative",display:"grid",gridTemplateColumns:`repeat(${Number(e)||3}, 1fr)`,gap:`${Number(n)||15}px`,padding:`${Number(o)||0}px`,width:"100%",maxWidth:s,margin:"0 auto",transform:`translate(${Number(f)||0}px, ${Number(p)||0}px)`,outline:j?"2px dashed #3b82f6":void 0},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:i,opacity:Math.max(0,Math.min(1,Number(d)||1)),zIndex:0,pointerEvents:"none"}}),D.map((P,X)=>a.jsx(xe,{is:$t,id:`grid-card-${P.id||X}`,imageUrl:P.image||"",title:P.title||"",buttonText:P.buttonText||"LEER",actionType:P.actionType||"none",sectionName:P.sectionName||"",externalUrl:P.externalUrl||"",route:P.route||"",newTab:P.newTab||!1,variant:X===0?"overlay":"default",columnSpan:X===0?2:1,height:X===0?280:200,imageHeight:140,titleColor:X===0?"#ffffff":"#000000",buttonColor:X===0?"#ffffff":"#000000",style:{position:"relative",zIndex:1}},P.id||X)),j&&$&&a.jsxs("div",{style:{position:"absolute",top:"5px",right:"5px",display:"flex",gap:"8px",backgroundColor:"transparent",padding:"8px",borderRadius:"6px",zIndex:1e3,color:"#000000"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.25rem"},onMouseDown:E}),a.jsx("i",{className:"bi bi-files",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:P=>{P.preventDefault(),P.stopPropagation();const X=I(w).get(),{type:W,props:F,parent:H}={type:X.data.type,props:X.data.props,parent:X.data.parent},se=I(H).get().data.nodes||[],V=Math.max(0,se.indexOf(w)),O={...F,translateX:(Number(F.translateX)||0)+20,translateY:(Number(F.translateY)||0)+20},J=R(be.createElement(W,O));_(J,H,V+1),z(J.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:P=>{P.preventDefault(),P.stopPropagation(),S(w)}})]})]})},iA=()=>{const{actions:{setProp:r},props:e}=pe(n=>({props:n.data.props}));return a.jsx(Be,{tabs:[{label:"Configuracin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.columns,onChange:n=>r(o=>o.columns=Number(n.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Espaciado (Gap)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.gap,onChange:n=>r(o=>o.gap=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.padding,onChange:n=>r(o=>o.padding=Number(n.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ancho Mximo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.maxWidth,onChange:n=>r(o=>o.maxWidth=n.target.value),placeholder:"ej: 1000px, 100%, 80vw"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.backgroundColor,onChange:n=>r(o=>o.backgroundColor=n.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:e.opacity||1,onChange:n=>r(o=>o.opacity=Number(n.target.value))}),a.jsxs("small",{className:"text-muted",children:[((e.opacity||1)*100).toFixed(0),"%"]})]})]})},{label:"Datos (JSON)",content:a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cartas (JSON)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:10,value:e.cards,onChange:n=>r(o=>o.cards=n.target.value),style:{fontFamily:"monospace",fontSize:"11px"}}),a.jsx("div",{className:"form-text small",children:"Edita el JSON para agregar o quitar cartas. La primera carta siempre ser la destacada."})]})}]})};Gs.craft={displayName:"Grid Destacado",props:{cards:JSON.stringify([{id:1,image:"https://placehold.co/800x600",title:"Carta Principal Destacada",buttonText:"LEER",actionType:"section",sectionName:"inicio"},{id:2,image:"https://placehold.co/400x300",title:"Carta Secundaria 1",buttonText:"LEER",actionType:"section",sectionName:"fauna"},{id:3,image:"https://placehold.co/400x300",title:"Carta Secundaria 2",buttonText:"LEER",actionType:"section",sectionName:"flora"},{id:4,image:"https://placehold.co/400x300",title:"Carta Secundaria 3",buttonText:"LEER",actionType:"section",sectionName:"cultura"},{id:5,image:"https://placehold.co/400x300",title:"Carta Secundaria 4",buttonText:"LEER",actionType:"section",sectionName:"geografia"}]),columns:3,gap:15,padding:20,maxWidth:"1000px",backgroundColor:"transparent",opacity:1,translateX:0,translateY:0},related:{settings:iA}};const Ty=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:w=3,cardsGap:_=30,cardsBackgroundColor:z="#000000",cardsPadding:S=80,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:$=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:D=0,translateX:P=0,translateY:X=0,zIndex:W=0,opacity:F=1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(M=>({selected:M.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T}}=Me(M=>({enabled:M.options.enabled}));ft();const k=M=>{M.stopPropagation(),M.preventDefault();const q=M.clientX,le=M.clientY,ie=Number(P)||0,he=Number(X)||0,ae=Y=>{const de=Y.clientX-q,me=Y.clientY-le;V(ge=>{ge.translateX=ie+de,ge.translateY=he+me})},A=()=>{document.removeEventListener("mousemove",ae),document.removeEventListener("mouseup",A)};document.addEventListener("mousemove",ae),document.addEventListener("mouseup",A)};return a.jsxs("div",{ref:M=>G(se(M)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(X)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(W)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"flora-v2-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"flora-v2-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"flora-v2-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(xe,{is:Ys,id:"flora-v2-back-btn",direction:"left",to:I,color:"#ffffff",bg:"transparent",size:28,padding:10})}),a.jsx("div",{style:{display:"flex",justifyContent:"center"},children:a.jsx(xe,{is:Fs,id:"flora-v2-like-btn",sectionId:"flora-v2-page"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx(xe,{is:Xs,id:"flora-v2-comment-btn",iconName:"chat-dots",iconSize:28,iconColor:"#ffffff",to:E,actionType:"route"}),D>0&&a.jsx(xe,{is:Ht,id:"flora-v2-comment-count",text:String(D),fontSize:16,textColor:"#ffffff",fontWeight:"500"})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsx(xe,{is:Gs,id:"flora-v2-feature-grid",cards:C,columns:w,gap:_,padding:0,backgroundColor:"transparent"})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:k}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation();const q=T(H).get(),{type:le,props:ie,parent:he}={type:q.data.type,props:q.data.props,parent:q.data.parent},A=T(he).get().data.nodes||[],Y=Math.max(0,A.indexOf(H)),de={...ie,translateX:(Number(ie.translateX)||0)+10,translateY:(Number(ie.translateY)||0)+10},me=re(be.createElement(le,de));J(me,he,Y+1),te(me.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:M=>{M.stopPropagation(),ne(H)}})]})]})},cA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:12,value:e.cards||"[]",onChange:s=>r(i=>i.cards=s.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas del Grid (para cards despus de la primera fila)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:6,value:e.cardsColumns||3,onChange:s=>r(i=>i.cardsColumns=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ty.craft={displayName:"Pgina de Flora V2 (Grid Variado)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:cA}};const Ey=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Fauna",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Fauna",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.4)",heroHeight:j=400,cards:C=JSON.stringify([{id:1,image:"https://placehold.co/400x300",title:"Cundo los gatos se volvieron domsticos?",link:"#"},{id:2,image:"https://placehold.co/400x300",title:"Delfines adultos orinan en el aire",link:"#"},{id:3,image:"https://placehold.co/400x300",title:"Extraa oruga con tentculos en erupcin",link:"#"},{id:4,image:"https://placehold.co/400x300",title:"Se descubren nuevas especies cada dos das",link:"#"},{id:5,image:"https://placehold.co/400x300",title:"rana nombrada en honor a monstruo mtico",link:"#"},{id:6,image:"https://placehold.co/400x300",title:"Perezosos, manates y otros animales salvajes rescatados del turismo en la Amazonia",link:"#"},{id:7,image:"https://placehold.co/400x300",title:"Misterioso animal del Amazonas visto con vida por primera vez en 80 aos",link:"#"},{id:8,image:"https://placehold.co/400x300",title:"incendio en el amazonas para los animales salvajes",link:"#"}]),cardsColumns:w=3,cardsGap:_=24,cardsBackgroundColor:z="#000000",cardsPadding:S=60,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:$=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:D=0,translateX:P=0,translateY:X=0,zIndex:W=0,opacity:F=1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(A=>({selected:A.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T},enabled:k}=Me(A=>({enabled:A.options.enabled})),M=ft(),[q,le]=L.useState(!1),[ie,he]=L.useState($),ae=A=>{A.stopPropagation(),A.preventDefault();const Y=A.clientX,de=A.clientY,me=Number(P)||0,ge=Number(X)||0,Ne=Te=>{const ye=Te.clientX-Y,Ae=Te.clientY-de;V(De=>{De.translateX=me+ye,De.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};return a.jsxs("div",{ref:A=>G(se(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(X)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(W)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"fauna-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"fauna-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!0},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"fauna-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{k||(I.startsWith("/")?M(I):window.location.href=I)},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{k||(le(!q),he(Y=>q?Y-1:Y+1))},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:q?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${q?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:ie>=1e3?`${(ie/1e3).toFixed(1)}k`:ie})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{k||(E.startsWith("/")?M(E):window.location.href=E)},onMouseDown:A=>{k&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),D>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:D})]})]}),a.jsx("div",{style:{flex:1,width:"100%"},children:a.jsx(xe,{is:Gs,id:"fauna-feature-grid",cards:C,columns:w,gap:_,padding:0,backgroundColor:"transparent"})})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation();const{data:{type:Y,props:de}}=T;J(re(xe,{is:Y,...de}),"parentId")}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation(),ne(H)}})]})]})},uA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"}),a.jsx("small",{className:"text-muted",children:'Pega aqu el link o URL de la imagen. La imagen aparecer detrs del ttulo "Fauna"'})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."}),a.jsx("small",{className:"text-muted",children:"O arrastra y suelta una imagen directamente en el Hero Section"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.4)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.4)"}),a.jsx("small",{className:"text-muted",children:"Overlay oscuro para mejorar la legibilidad del texto"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Fauna",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||400,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsColumns||3,onChange:s=>r(i=>i.cardsColumns=Number(s.target.value)),min:1,max:6})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||24,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||60,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ey.craft={displayName:"Pgina de Fauna Completa",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Fauna",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Fauna",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.4)",heroHeight:400,cards:JSON.stringify([{id:1,image:"https://placehold.co/400x300",title:"Cundo los gatos se volvieron domsticos?",link:"#"},{id:2,image:"https://placehold.co/400x300",title:"Delfines adultos orinan en el aire",link:"#"},{id:3,image:"https://placehold.co/400x300",title:"Extraa oruga con tentculos en erupcin",link:"#"},{id:4,image:"https://placehold.co/400x300",title:"Se descubren nuevas especies cada dos das",link:"#"},{id:5,image:"https://placehold.co/400x300",title:"rana nombrada en honor a monstruo mtico",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:uA}};const ky=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:w=30,cardsBackgroundColor:_="#000000",cardsPadding:z=80,showSidebar:S=!0,sidebarBackLink:R="/",sidebarLikeCount:I=1e3,sidebarCommentLink:$="/forum",sidebarCommentCount:E=0,translateX:D=0,translateY:P=0,zIndex:X=0,opacity:W=1})=>{const{id:F,connectors:{connect:H,drag:G},actions:{setProp:se},selected:V}=pe(A=>({selected:A.events.selected})),{actions:{add:O,selectNode:J,delete:te},query:{createNode:ne,node:re},enabled:T}=Me(A=>({enabled:A.options.enabled})),k=ft(),[M,q]=L.useState(!1),[le,ie]=L.useState(I),he=A=>{A.stopPropagation(),A.preventDefault();const Y=A.clientX,de=A.clientY,me=Number(D)||0,ge=Number(P)||0,Ne=Te=>{const ye=Te.clientX-Y,Ae=Te.clientY-de;se(De=>{De.translateX=me+ye,De.translateY=ge+Ae})},ve=()=>{document.removeEventListener("mousemove",Ne),document.removeEventListener("mouseup",ve)};document.addEventListener("mousemove",Ne),document.addEventListener("mouseup",ve)};let ae=[];try{ae=typeof C=="string"?JSON.parse(C):C}catch{ae=[]}return a.jsxs("div",{ref:A=>H(G(A)),style:{position:"relative",width:"100%",transform:`translate(${Number(D)||0}px, ${Number(P)||0}px)`,opacity:Math.max(0,Math.min(1,Number(W)||1)),zIndex:Number(X)||0,outline:V?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"flora-v1-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"flora-v1-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"flora-v1-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:_,padding:`${z}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[S&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:A=>{T||(R.startsWith("/")?k(R):window.location.href=R)},onMouseDown:A=>{T&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{T||(q(!M),ie(Y=>M?Y-1:Y+1))},onMouseDown:A=>{T&&A.stopPropagation()},style:{background:"transparent",border:"none",color:M?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${M?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:le>=1e3?`${(le/1e3).toFixed(1)}k`:le})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:A=>{T||($.startsWith("/")?k($):window.location.href=$)},onMouseDown:A=>{T&&A.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:A=>A.currentTarget.style.opacity="0.8",onMouseLeave:A=>A.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),E>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:E})]})]}),a.jsxs("div",{style:{flex:1,display:"grid",gridTemplateColumns:"2fr 1fr",gridTemplateRows:"1fr 1fr",gap:`${w}px`,width:"100%"},children:[ae[0]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${ae[0].id||0}`,imageUrl:ae[0].image||"",title:ae[0].title||"",linkUrl:ae[0].link||"#",variant:"overlay",columnSpan:1,height:600,titleFontSize:24,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"}),ae[1]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${ae[1].id||1}`,imageUrl:ae[1].image||"",title:ae[1].title||"",linkUrl:ae[1].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),ae[2]&&a.jsx(xe,{is:$t,id:`flora-v1-card-${ae[2].id||2}`,imageUrl:ae[2].image||"",title:ae[2].title||"",linkUrl:ae[2].link||"#",variant:"default",columnSpan:1,imageHeight:280,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]})]})})]}),V&&F!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:he}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation();const Y=re(F).get(),{type:de,props:me,parent:ge}={type:Y.data.type,props:Y.data.props,parent:Y.data.parent},ve=re(ge).get().data.nodes||[],Te=Math.max(0,ve.indexOf(F)),ye={...me,translateX:(Number(me.translateX)||0)+10,translateY:(Number(me.translateY)||0)+10},Ae=ne(be.createElement(de,ye));O(Ae,ge,Te+1),J(Ae.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:A=>{A.stopPropagation(),te(F)}})]})]})},dA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:8,value:e.cards||"[]",onChange:s=>r(i=>i.cards=s.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, subtitle?, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};ky.craft={displayName:"Pgina de Flora V1 (Card Grande + 2 Pequeas)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Nueva "rana murcilago" descubierta en el Amazonas',subtitle:"llamada as en honor a Ozzy Osbourne",link:"#"},{id:2,image:"",title:"Por qu importa la deforestacin?",subtitle:"Descubre que podemos hacer para detenerla.",link:"#"},{id:3,image:"",title:"El amazonas alberga el 10% de la biodiversidad mundial",subtitle:"",link:"#"}]),cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:dA}};const Oy=({showNavbar:r=!0,showHero:e=!0,showCards:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Flora",heroImageUrl:p="https://placehold.co/1280x500",heroTitle:m="Flora",heroTitleColor:v="#ffffff",heroTitleFontSize:b=48,heroOverlayColor:y="rgba(0, 0, 0, 0.2)",heroHeight:j=500,cards:C=JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:w=3,cardsGap:_=30,cardsBackgroundColor:z="#000000",cardsPadding:S=80,showSidebar:R=!0,sidebarBackLink:I="/",sidebarLikeCount:$=1e3,sidebarCommentLink:E="/forum",sidebarCommentCount:D=0,translateX:P=0,translateY:X=0,zIndex:W=0,opacity:F=1})=>{const{id:H,connectors:{connect:G,drag:se},actions:{setProp:V},selected:O}=pe(Y=>({selected:Y.events.selected})),{actions:{add:J,selectNode:te,delete:ne},query:{createNode:re,node:T},enabled:k}=Me(Y=>({enabled:Y.options.enabled})),M=ft(),[q,le]=L.useState(!1),[ie,he]=L.useState($),ae=Y=>{Y.stopPropagation(),Y.preventDefault();const de=Y.clientX,me=Y.clientY,ge=Number(P)||0,Ne=Number(X)||0,ve=ye=>{const Ae=ye.clientX-de,De=ye.clientY-me;V(Nt=>{Nt.translateX=ge+Ae,Nt.translateY=Ne+De})},Te=()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",Te)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",Te)};let A=[];try{A=typeof C=="string"?JSON.parse(C):C}catch{A=[]}return a.jsxs("div",{ref:Y=>G(se(Y)),style:{position:"relative",width:"100%",transform:`translate(${Number(P)||0}px, ${Number(X)||0}px)`,opacity:Math.max(0,Math.min(1,Number(F)||1)),zIndex:Number(W)||0,outline:O?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"flora-v2-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"flora-v2-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!0},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!1},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"flora-v2-hero",backgroundImage:p,overlayColor:y,height:j,minHeight:j,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",alignItems:"center",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 40px"},children:[a.jsx("div",{style:{width:"6px",height:`${b*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:v,fontSize:`${b}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif"},children:m})]})}),n&&a.jsx("div",{style:{backgroundColor:z,padding:`${S}px`,position:"relative",minHeight:"100vh"},children:a.jsxs("div",{style:{display:"flex",gap:"60px",maxWidth:"1400px",margin:"0 auto",position:"relative"},children:[R&&a.jsxs("div",{style:{position:"sticky",top:"100px",alignSelf:"flex-start",display:"flex",flexDirection:"column",alignItems:"center",gap:"40px",flexShrink:0,width:"80px",paddingTop:"0"},children:[a.jsx("button",{onClick:Y=>{k||(I.startsWith("/")?M(I):window.location.href=I)},onMouseDown:Y=>{k&&Y.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>Y.currentTarget.style.opacity="0.8",onMouseLeave:Y=>Y.currentTarget.style.opacity="1",title:"Volver",children:a.jsx("i",{className:"bi bi-arrow-left"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:Y=>{k||(le(!q),he(de=>q?de-1:de+1))},onMouseDown:Y=>{k&&Y.stopPropagation()},style:{background:"transparent",border:"none",color:q?"#ff0000":"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>Y.currentTarget.style.opacity="0.8",onMouseLeave:Y=>Y.currentTarget.style.opacity="1",title:"Me gusta",children:a.jsx("i",{className:`bi ${q?"bi-heart-fill":"bi-heart"}`})}),a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:ie>=1e3?`${(ie/1e3).toFixed(1)}k`:ie})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"10px"},children:[a.jsx("button",{onClick:Y=>{k||(E.startsWith("/")?M(E):window.location.href=E)},onMouseDown:Y=>{k&&Y.stopPropagation()},style:{background:"transparent",border:"none",color:"#ffffff",cursor:"pointer",fontSize:"28px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.2s"},onMouseEnter:Y=>Y.currentTarget.style.opacity="0.8",onMouseLeave:Y=>Y.currentTarget.style.opacity="1",title:"Comentarios",children:a.jsx("i",{className:"bi bi-chat-dots"})}),D>0&&a.jsx("span",{style:{color:"#ffffff",fontSize:"16px",fontWeight:"500",fontFamily:"sans-serif"},children:D})]})]}),a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:`${_}px`,width:"100%"},children:[A[0]&&a.jsx("div",{style:{width:"100%"},children:a.jsx(xe,{is:$t,id:`flora-v2-card-${A[0].id||0}`,imageUrl:A[0].image||"",title:A[0].title||"",linkUrl:A[0].link||"#",variant:"overlay",columnSpan:1,height:400,titleFontSize:28,backgroundColor:"#ffffff",titleColor:"#ffffff",buttonColor:"#ffffff"})}),A[1]&&A[2]&&a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:`${_}px`},children:[a.jsx(xe,{is:$t,id:`flora-v2-card-${A[1].id||1}`,imageUrl:A[1].image||"",title:A[1].title||"",linkUrl:A[1].link||"#",variant:"default",columnSpan:1,imageHeight:250,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"}),a.jsx(xe,{is:$t,id:`flora-v2-card-${A[2].id||2}`,imageUrl:A[2].image||"",title:A[2].title||"",linkUrl:A[2].link||"#",variant:"default",columnSpan:1,imageHeight:250,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"})]}),A.length>3&&a.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${w}, 1fr)`,gap:`${_}px`},children:A.slice(3).map((Y,de)=>a.jsx(xe,{is:$t,id:`flora-v2-card-${Y.id||de+3}`,imageUrl:Y.image||"",title:Y.title||"",linkUrl:Y.link||"#",variant:"default",columnSpan:1,imageHeight:200,backgroundColor:"#ffffff",titleColor:"#000000",buttonColor:"#000000"},Y.id||de+3))})]})]})})]}),O&&H!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:ae}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Y=>{Y.stopPropagation();const de=T(H).get(),{type:me,props:ge,parent:Ne}={type:de.data.type,props:de.data.props,parent:de.data.parent},Te=T(Ne).get().data.nodes||[],ye=Math.max(0,Te.indexOf(H)),Ae={...ge,translateX:(Number(ge.translateX)||0)+10,translateY:(Number(ge.translateY)||0)+10},De=re(be.createElement(me,Ae));J(De,Ne,ye+1),te(De.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Y=>{Y.stopPropagation(),ne(H)}})]})]})},fA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showCards,onChange:s=>r(i=>i.showCards=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Grid de Cards"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.2)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.2)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroTitle||"Flora",onChange:s=>r(i=>i.heroTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||48,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||500,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Cards",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"JSON de Cards (editar manualmente)"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:12,value:e.cards||"[]",onChange:s=>r(i=>i.cards=s.target.value),placeholder:'[{"id": 1, "image": "", "title": "...", "link": "#"}]'}),a.jsxs("small",{className:"text-muted",children:["Formato: Array JSON con objetos ","{id, image, title, link}"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Columnas del Grid (para cards despus de la primera fila)"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",min:1,max:6,value:e.cardsColumns||3,onChange:s=>r(i=>i.cardsColumns=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Gap entre Cards"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsGap||30,onChange:s=>r(i=>i.cardsGap=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding del Grid"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.cardsPadding||80,onChange:s=>r(i=>i.cardsPadding=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo del Grid"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.cardsBackgroundColor||"#000000",onChange:s=>r(i=>i.cardsBackgroundColor=s.target.value)})]})]})},{label:"Sidebar",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showSidebar,onChange:s=>r(i=>i.showSidebar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Sidebar de Interaccin"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn Volver"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarBackLink||"/",onChange:s=>r(i=>i.sidebarBackLink=s.target.value),placeholder:"/ o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Likes"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarLikeCount||1e3,onChange:s=>r(i=>i.sidebarLikeCount=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Link del Botn de Comentarios"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sidebarCommentLink||"/forum",onChange:s=>r(i=>i.sidebarCommentLink=s.target.value),placeholder:"/forum o https://..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Cantidad de Comentarios"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sidebarCommentCount||0,onChange:s=>r(i=>i.sidebarCommentCount=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Oy.craft={displayName:"Pgina de Flora V2 (Grid Variado)",props:{showNavbar:!0,showHero:!0,showCards:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Flora",heroImageUrl:"https://placehold.co/1280x500",heroTitle:"Flora",heroTitleColor:"#ffffff",heroTitleFontSize:48,heroOverlayColor:"rgba(0, 0, 0, 0.2)",heroHeight:500,cards:JSON.stringify([{id:1,image:"",title:'Contribuy la selva amaznica a la "Pequea Edad de Hielo" del siglo XVII?',link:"#"},{id:2,image:"",title:"Importancia de la deforestacin",link:"#"},{id:3,image:"",title:"Biodiversidad del Amazonas",link:"#"},{id:4,image:"",title:"hongos en el amazonas",link:"#"},{id:5,image:"",title:"Dnde comienza el ro del amazonas?",link:"#"},{id:6,image:"",title:"Los conservacionistas salvadores de los delfines",link:"#"},{id:7,image:"",title:"Plantas compiten para superar el calentamiento global",link:"#"},{id:8,image:"",title:"Arrecife del Amazonas: un hallazgo inesperado",link:"#"}]),cardsColumns:3,cardsGap:30,cardsBackgroundColor:"#000000",cardsPadding:80,showSidebar:!0,sidebarBackLink:"/",sidebarLikeCount:1e3,sidebarCommentLink:"/forum",sidebarCommentCount:0,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:fA}};const Ay=({showNavbar:r=!0,showHero:e=!0,showContent:n=!0,navbarLogoText:o="Akaru",navbarBackgroundColor:s="#1a1a1a",navbarItemColor:i="#ffffff",navbarItemHoverColor:d="#ff6b35",activeNavItem:f="Agua",heroImageUrl:p="https://placehold.co/1280x720",heroMainTitle:m="AGUA",heroSubtitle1:v="LA VENA VITAL",heroSubtitle2:b="DE LA AMAZONA",heroDescription:y="Explora el sistema circulatorio de la Tierra",heroTitleColor:j="#ffffff",heroDescriptionColor:C="#ff6b35",heroTitleFontSize:w=72,heroSubtitleFontSize:_=36,heroDescriptionFontSize:z=18,heroOverlayColor:S="rgba(0, 0, 0, 0.3)",heroHeight:R=600,sectionDividerText:I="El Corazn Climtico",sectionDividerColor:$="#ffffff",sectionDividerFontSize:E=32,contentBlock1ImageUrl:D="https://placehold.co/600x400",contentBlock1Title1:P="El seor de los ros",contentBlock1Text1:X="El Amazonas no es solo un ro, es un sistema de ms de 1.100 afluentes que se extienden por ms de 6.400 kilmetros. Su desembocadura forma el estuario ms grande del mundo, vertiendo al ocano Atlntico aproximadamente 209.000 metros cbicos de agua por segundo.",contentBlock1Title2:W="Ros Voladores: La Magia Atmosfrica",contentBlock1Text2:F='La evapotranspiracin de la selva amaznica genera "ros voladores": masas de vapor de agua que viajan por la atmsfera y alimentan las lluvias en regiones distantes. Este fenmeno es crucial para el clima de Sudamrica y ms all.',contentBlock1TitleColor:H="#ff6b35",contentBlock1TextColor:G="#ffffff",contentBlock1TitleFontSize:se=24,contentBlock1TextFontSize:V=16,contentBlock1BackgroundColor:O="#000000",contentBlock1Padding:J=80,contentBlock2ImageUrl:te="https://placehold.co/1280x500",contentBlock2Text:ne="UN UNIVERSO SUMERGIDO",contentBlock2TextColor:re="#ffffff",contentBlock2TextFontSize:T=64,contentBlock2OverlayColor:k="rgba(0, 0, 0, 0.4)",contentBlock2Height:M=500,contentBlock3Title:q="Un Equilibrio Frgil",contentBlock3Text:le="La deforestacin y la contaminacin por mercurio amenazan los ros amaznicos. Proteger estos ecosistemas acuticos es esencial para mantener el equilibrio climtico global y preservar la biodiversidad nica que albergan.",contentBlock3TitleColor:ie="#ff6b35",contentBlock3TextColor:he="#ffffff",contentBlock3TitleFontSize:ae=32,contentBlock3TextFontSize:A=18,contentBlock3BackgroundColor:Y="#000000",contentBlock3Padding:de=80,translateX:me=0,translateY:ge=0,zIndex:Ne=0,opacity:ve=1})=>{const{id:Te,connectors:{connect:ye,drag:Ae},actions:{setProp:De},selected:Nt}=pe(Tt=>({selected:Tt.events.selected})),{actions:{add:la,selectNode:pa,delete:_t},query:{createNode:mt,node:Wa}}=Me(),Gr=Tt=>{Tt.stopPropagation(),Tt.preventDefault();const Rt=Tt.clientX,Cn=Tt.clientY,za=Number(me)||0,wn=Number(ge)||0,Sn=et=>{const ga=et.clientX-Rt,Et=et.clientY-Cn;De(Js=>{Js.translateX=za+ga,Js.translateY=wn+Et})},Ct=()=>{document.removeEventListener("mousemove",Sn),document.removeEventListener("mouseup",Ct)};document.addEventListener("mousemove",Sn),document.addEventListener("mouseup",Ct)};return a.jsxs("div",{ref:Tt=>ye(Ae(Tt)),style:{position:"relative",width:"100%",transform:`translate(${Number(me)||0}px, ${Number(ge)||0}px)`,opacity:Math.max(0,Math.min(1,Number(ve)||1)),zIndex:Number(Ne)||0,outline:Nt?"2px dashed #3b82f6":void 0},children:[a.jsxs(xe,{id:"agua-background",is:ra,padding:0,background:"#000000",canvas:!0,children:[r&&a.jsx(xe,{is:ma,id:"agua-navbar",logoText:o,backgroundColor:s,itemColor:i,itemHoverColor:d,navItems:JSON.stringify([{label:"Foro",actionType:"section",sectionName:"foro",active:!1},{label:"Tribus",actionType:"section",sectionName:"tribus",active:!1},{label:"Fauna",actionType:"section",sectionName:"fauna",active:!1},{label:"Flora",actionType:"section",sectionName:"flora",active:!1},{label:"Usos",actionType:"section",sectionName:"usos",active:!1},{label:"Agua",actionType:"section",sectionName:"agua",active:!0},{label:"Cultura",actionType:"section",sectionName:"cultura",active:!1},{label:"Geografia",actionType:"section",sectionName:"geografia",active:!1},{label:"Inicio",actionType:"route",route:"/",active:!1}])}),e&&a.jsx(xe,{is:Ra,id:"agua-hero",backgroundImage:p,overlayColor:S,height:R,minHeight:R,padding:60,children:a.jsxs("div",{style:{position:"absolute",top:"50%",left:0,right:0,transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"20px",maxWidth:"1200px",margin:"0 auto",padding:"0 60px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"10px"},children:[a.jsx("div",{style:{width:"6px",height:`${w*1.2}px`,backgroundColor:"#ff6b35",flexShrink:0}}),a.jsx("h1",{style:{color:j,fontSize:`${w}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:m})]}),a.jsx("h2",{style:{color:j,fontSize:`${_}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:v}),a.jsx("h2",{style:{color:j,fontSize:`${_}px`,fontWeight:"bold",margin:0,fontFamily:"sans-serif",lineHeight:1.2},children:b}),a.jsx("p",{style:{color:C,fontSize:`${z}px`,fontWeight:"normal",margin:"20px 0 0 0",fontFamily:"sans-serif"},children:y})]})}),n&&a.jsxs("div",{children:[I&&a.jsx("div",{style:{backgroundColor:"#000000",padding:"60px 80px",textAlign:"center"},children:a.jsx(xe,{id:"agua-section-divider",is:Ht,text:I,fontSize:E,textColor:$,textAlign:"center"})}),a.jsx("div",{style:{backgroundColor:O,padding:`${J}px`},children:a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"60px",maxWidth:"1400px",margin:"0 auto",alignItems:"center"},children:[a.jsx("div",{style:{width:"100%",height:"500px",position:"relative",overflow:"hidden",borderRadius:"8px"},children:a.jsx(xe,{id:"agua-content-block-1-image",is:lo,src:D,alt:"Ro Amazonas",width:100,height:500,fit:"cover"})}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"40px"},children:[a.jsxs("div",{children:[a.jsx(xe,{id:"agua-content-block-1-title-1",is:Ht,text:P,fontSize:se,textColor:H,textAlign:"left"}),a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(xe,{id:"agua-content-block-1-text-1",is:Ht,text:X,fontSize:V,textColor:G,textAlign:"left",lineHeight:1.6})})]}),a.jsx("div",{style:{width:"100%",height:"2px",backgroundColor:"#ff6b35",margin:"20px 0"}}),a.jsxs("div",{children:[a.jsx(xe,{id:"agua-content-block-1-title-2",is:Ht,text:W,fontSize:se,textColor:H,textAlign:"left"}),a.jsx("div",{style:{marginTop:"20px"},children:a.jsx(xe,{id:"agua-content-block-1-text-2",is:Ht,text:F,fontSize:V,textColor:G,textAlign:"left",lineHeight:1.6})})]})]})]})}),a.jsxs("div",{style:{position:"relative",width:"100%",height:`${M}px`,overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:a.jsx(xe,{id:"agua-content-block-2-image",is:lo,src:te,alt:"Universo sumergido",width:100,height:M,fit:"cover"})}),a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:k,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(xe,{id:"agua-content-block-2-text",is:Ht,text:ne,fontSize:T,textColor:re,textAlign:"center",textShadowX:0,textShadowY:2,textShadowBlur:8,textShadowColor:"rgba(0,0,0,0.5)"})})]}),a.jsx("div",{style:{backgroundColor:Y,padding:`${de}px`},children:a.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[a.jsx(xe,{id:"agua-content-block-3-title",is:Ht,text:q,fontSize:ae,textColor:ie,textAlign:"left"}),a.jsx("div",{style:{marginTop:"30px"},children:a.jsx(xe,{id:"agua-content-block-3-text",is:Ht,text:le,fontSize:A,textColor:he,textAlign:"left",lineHeight:1.8})})]})})]})]}),Nt&&Te!=="ROOT"&&a.jsxs("div",{className:"position-absolute d-flex align-items-center px-3 rounded-top shadow-sm",style:{top:0,left:0,transform:"translateY(-100%)",backgroundColor:"#7c3aed",color:"#ffffff",zIndex:9999,height:"42px",gap:"16px"},children:[a.jsx("i",{className:"bi bi-arrows-move",title:"Mover",style:{cursor:"move",fontSize:"1.4rem"},onMouseDown:Gr}),a.jsx("i",{className:"bi bi-copy",title:"Duplicar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Tt=>{Tt.stopPropagation();const Rt=Wa(Te).get(),{type:Cn,props:za,parent:wn}={type:Rt.data.type,props:Rt.data.props,parent:Rt.data.parent},Ct=Wa(wn).get().data.nodes||[],et=Math.max(0,Ct.indexOf(Te)),ga={...za,translateX:(Number(za.translateX)||0)+10,translateY:(Number(za.translateY)||0)+10},Et=mt(be.createElement(Cn,ga));la(Et,wn,et+1),pa(Et.id)}}),a.jsx("i",{className:"bi bi-trash",title:"Eliminar",style:{cursor:"pointer",fontSize:"1.25rem"},onClick:Tt=>{Tt.stopPropagation(),_t(Te)}})]})]})},hA=()=>{const{actions:{setProp:r},props:e}=pe(s=>({props:s.data.props})),{upload:n,isUploading:o}=Bt("Assets");return a.jsx(Be,{tabs:[{label:"Secciones",content:a.jsxs("div",{className:"d-grid gap-2",children:[a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showNavbar,onChange:s=>r(i=>i.showNavbar=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Navbar"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showHero,onChange:s=>r(i=>i.showHero=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Hero Section"})]}),a.jsxs("div",{className:"form-check form-switch",children:[a.jsx("input",{className:"form-check-input",type:"checkbox",checked:e.showContent,onChange:s=>r(i=>i.showContent=s.target.checked)}),a.jsx("label",{className:"form-check-label",children:"Mostrar Contenido"})]})]})},{label:"Hero",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroImageUrl||"",onChange:s=>r(i=>i.heroImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),e.heroImageUrl&&a.jsxs("div",{className:"mt-2",children:[a.jsx("label",{className:"form-label small",children:"Vista previa:"}),a.jsx("div",{style:{width:"100%",height:"150px",backgroundImage:`url(${e.heroImageUrl})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"4px",border:"1px solid #ddd"}})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen de Fondo"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.heroImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo Principal"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroMainTitle||"AGUA",onChange:s=>r(i=>i.heroMainTitle=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subttulo 1"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroSubtitle1||"LA VENA VITAL",onChange:s=>r(i=>i.heroSubtitle1=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subttulo 2"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroSubtitle2||"DE LA AMAZONA",onChange:s=>r(i=>i.heroSubtitle2=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Descripcin"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroDescription||"Explora el sistema circulatorio de la Tierra",onChange:s=>r(i=>i.heroDescription=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Ttulo Principal"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroTitleFontSize||72,onChange:s=>r(i=>i.heroTitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Subttulos"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroSubtitleFontSize||36,onChange:s=>r(i=>i.heroSubtitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao Descripcin"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroDescriptionFontSize||18,onChange:s=>r(i=>i.heroDescriptionFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroTitleColor||"#ffffff",onChange:s=>r(i=>i.heroTitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de la Descripcin"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.heroDescriptionColor||"#ff6b35",onChange:s=>r(i=>i.heroDescriptionColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.heroOverlayColor||"rgba(0, 0, 0, 0.3)",onChange:s=>r(i=>i.heroOverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.3)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura del Hero"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.heroHeight||600,onChange:s=>r(i=>i.heroHeight=Number(s.target.value))})]})]})},{label:"Divisor de Seccin",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.sectionDividerText||"El Corazn Climtico",onChange:s=>r(i=>i.sectionDividerText=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.sectionDividerColor||"#ffffff",onChange:s=>r(i=>i.sectionDividerColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Fuente"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.sectionDividerFontSize||32,onChange:s=>r(i=>i.sectionDividerFontSize=Number(s.target.value))})]})]})},{label:"Bloque 1 (2 Columnas)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen (Columna Izquierda)"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1ImageUrl||"",onChange:s=>r(i=>i.contentBlock1ImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.contentBlock1ImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo 1"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1Title1||"El seor de los ros",onChange:s=>r(i=>i.contentBlock1Title1=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto 1"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:e.contentBlock1Text1||"",onChange:s=>r(i=>i.contentBlock1Text1=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo 2"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock1Title2||"Ros Voladores: La Magia Atmosfrica",onChange:s=>r(i=>i.contentBlock1Title2=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto 2"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:4,value:e.contentBlock1Text2||"",onChange:s=>r(i=>i.contentBlock1Text2=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Ttulos"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1TitleColor||"#ff6b35",onChange:s=>r(i=>i.contentBlock1TitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1TextColor||"#ffffff",onChange:s=>r(i=>i.contentBlock1TextColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Ttulos"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1TitleFontSize||24,onChange:s=>r(i=>i.contentBlock1TitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao de Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1TextFontSize||16,onChange:s=>r(i=>i.contentBlock1TextFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock1BackgroundColor||"#000000",onChange:s=>r(i=>i.contentBlock1BackgroundColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock1Padding||80,onChange:s=>r(i=>i.contentBlock1Padding=Number(s.target.value))})]})]})},{label:"Bloque 2 (Imagen Full Width)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"URL de Imagen de Fondo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2ImageUrl||"",onChange:s=>r(i=>i.contentBlock2ImageUrl=s.target.value),placeholder:"https://ejemplo.com/imagen.jpg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Subir Imagen"}),a.jsx("input",{className:"form-control form-control-sm",type:"file",accept:"image/*",onChange:async s=>{const i=s.target.files?.[0];if(!i)return;const d=await n(i);d&&(r(f=>f.contentBlock2ImageUrl=d),s.target.value="")},disabled:o}),o&&a.jsx("div",{className:"text-info small mt-1",children:"Subiendo imagen..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2Text||"UN UNIVERSO SUMERGIDO",onChange:s=>r(i=>i.contentBlock2Text=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock2TextColor||"#ffffff",onChange:s=>r(i=>i.contentBlock2TextColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock2TextFontSize||64,onChange:s=>r(i=>i.contentBlock2TextFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Overlay"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock2OverlayColor||"rgba(0, 0, 0, 0.4)",onChange:s=>r(i=>i.contentBlock2OverlayColor=s.target.value),placeholder:"rgba(0, 0, 0, 0.4)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Altura"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock2Height||500,onChange:s=>r(i=>i.contentBlock2Height=Number(s.target.value))})]})]})},{label:"Bloque 3 (Texto)",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Ttulo"}),a.jsx("input",{type:"text",className:"form-control form-control-sm",value:e.contentBlock3Title||"Un Equilibrio Frgil",onChange:s=>r(i=>i.contentBlock3Title=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Texto"}),a.jsx("textarea",{className:"form-control form-control-sm",rows:5,value:e.contentBlock3Text||"",onChange:s=>r(i=>i.contentBlock3Text=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Ttulo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3TitleColor||"#ff6b35",onChange:s=>r(i=>i.contentBlock3TitleColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color del Texto"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3TextColor||"#ffffff",onChange:s=>r(i=>i.contentBlock3TextColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Ttulo"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3TitleFontSize||32,onChange:s=>r(i=>i.contentBlock3TitleFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Tamao del Texto"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3TextFontSize||18,onChange:s=>r(i=>i.contentBlock3TextFontSize=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Color de Fondo"}),a.jsx("input",{type:"color",className:"form-control form-control-color",value:e.contentBlock3BackgroundColor||"#000000",onChange:s=>r(i=>i.contentBlock3BackgroundColor=s.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Padding"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:e.contentBlock3Padding||80,onChange:s=>r(i=>i.contentBlock3Padding=Number(s.target.value))})]})]})},{label:"Avanzado",content:a.jsxs("div",{className:"d-grid gap-3",children:[a.jsxs("div",{className:"row g-2",children:[a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover X"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateX)?e.translateX:0,onChange:s=>r(i=>i.translateX=Number(s.target.value))})]}),a.jsxs("div",{className:"col-6",children:[a.jsx("label",{className:"form-label",children:"Mover Y"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.translateY)?e.translateY:0,onChange:s=>r(i=>i.translateY=Number(s.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Z-index"}),a.jsx("input",{type:"number",className:"form-control form-control-sm",value:Number.isFinite(e.zIndex)?e.zIndex:0,onChange:s=>r(i=>i.zIndex=Number(s.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"form-label",children:"Opacidad"}),a.jsx("input",{type:"range",className:"form-range",min:0,max:1,step:.05,value:Number.isFinite(e.opacity)?e.opacity:1,onChange:s=>r(i=>i.opacity=Number(s.target.value))}),a.jsx("div",{className:"small text-muted",children:(e.opacity??1).toFixed(2)})]})]})}]})};Ay.craft={displayName:"Pgina de Agua Completa",props:{showNavbar:!0,showHero:!0,showContent:!0,navbarLogoText:"Akaru",navbarBackgroundColor:"#1a1a1a",navbarItemColor:"#ffffff",navbarItemHoverColor:"#ff6b35",activeNavItem:"Agua",heroImageUrl:"https://placehold.co/1280x720",heroMainTitle:"AGUA",heroSubtitle1:"LA VENA VITAL",heroSubtitle2:"DE LA AMAZONA",heroDescription:"Explora el sistema circulatorio de la Tierra",heroTitleColor:"#ffffff",heroDescriptionColor:"#ff6b35",heroTitleFontSize:72,heroSubtitleFontSize:36,heroDescriptionFontSize:18,heroOverlayColor:"rgba(0, 0, 0, 0.3)",heroHeight:600,sectionDividerText:"El Corazn Climtico",sectionDividerColor:"#ffffff",sectionDividerFontSize:32,contentBlock1ImageUrl:"https://placehold.co/600x400",contentBlock1Title1:"El seor de los ros",contentBlock1Text1:"El Amazonas no es solo un ro, es un sistema de ms de 1.100 afluentes que se extienden por ms de 6.400 kilmetros. Su desembocadura forma el estuario ms grande del mundo, vertiendo al ocano Atlntico aproximadamente 209.000 metros cbicos de agua por segundo.",contentBlock1Title2:"Ros Voladores: La Magia Atmosfrica",contentBlock1Text2:'La evapotranspiracin de la selva amaznica genera "ros voladores": masas de vapor de agua que viajan por la atmsfera y alimentan las lluvias en regiones distantes. Este fenmeno es crucial para el clima de Sudamrica y ms all.',contentBlock1TitleColor:"#ff6b35",contentBlock1TextColor:"#ffffff",contentBlock1TitleFontSize:24,contentBlock1TextFontSize:16,contentBlock1BackgroundColor:"#000000",contentBlock1Padding:80,contentBlock2ImageUrl:"https://placehold.co/1280x500",contentBlock2Text:"UN UNIVERSO SUMERGIDO",contentBlock2TextColor:"#ffffff",contentBlock2TextFontSize:64,contentBlock2OverlayColor:"rgba(0, 0, 0, 0.4)",contentBlock2Height:500,contentBlock3Title:"Un Equilibrio Frgil",contentBlock3Text:"La deforestacin y la contaminacin por mercurio amenazan los ros amaznicos. Proteger estos ecosistemas acuticos es esencial para mantener el equilibrio climtico global y preservar la biodiversidad nica que albergan.",contentBlock3TitleColor:"#ff6b35",contentBlock3TextColor:"#ffffff",contentBlock3TitleFontSize:32,contentBlock3TextFontSize:18,contentBlock3BackgroundColor:"#000000",contentBlock3Padding:80,translateX:0,translateY:0,zIndex:0,opacity:1},related:{settings:hA}};const mA={Card:hy,Button:$s,Text:Ht,Image:lo,Container:fh,CardTop:hh,CardBottom:mh,BackgroundImageContainer:ra,ChevronButton:Ys,IconButton:Xs,FileDownload:py,Rectangle:gy,Grid2:vy,Grid3:by,Grid5:gh,GridCol:xy,ForumButton:yy,Forum:jy,LikeButton:Fs,Navbar:ma,HeroSection:Ra,NewsSection:vh,CategoryGrid:bh,FeaturedPhoto:xh,ForumCTA:yh,HomepageSection:Ny,NewsArticle:jh,NewsPageTemplate:Cy,TribesPageTemplate:wy,FloraPageTemplate:Sy,FloraPageTemplateV1:_y,FloraPageTemplateV2:Ty,FaunaPageTemplate:Ey,FaunaPageTemplateV1:ky,FaunaPageTemplateV2:Oy,AguaPageTemplate:Ay,TribesCard:Nh,FeatureCard:$t,FeatureGrid:Gs},Vs=1280,Ks=720,Ch="#ffffff";function pA(r,e=new Set){if(!r||typeof r!="object")return e;const n=o=>{if(!o)return;const s=typeof o;if(s==="string"){const i=o.trim(),d=i.match(/url\((['"]?)([^)"']+)\1\)/i);if(d&&d[2]){const f=d[2];/^https?:\/\//i.test(f)&&e.add(f);return}/^https?:\/\//i.test(i)&&/(\.(png|jpe?g|gif|webp|svg))(\?|#|$)/i.test(i)&&e.add(i);return}if(Array.isArray(o)){o.forEach(n);return}if(s==="object")for(const i in o)n(o[i])};return n(r),e}function gA(r){try{const e=new Set;for(const n of Object.keys(r||{})){const o=r[n];let s=o;if(typeof o=="string")try{s=JSON.parse(o)}catch{s=null}s&&pA(s,e)}e.forEach(n=>{try{const o=new lo;o.decoding="async",o.src=n}catch{}}),console.log("[Export Viewer] Prefetched images:",e.size)}catch(e){console.warn("Prefetch images failed",e)}}function Ry(r){try{return typeof r=="string"?(JSON.parse(r),r):JSON.stringify(r)}catch{return typeof r=="string"?r:JSON.stringify(r)}}function vA(){const{actions:r}=Me();return L.useEffect(()=>{try{const e=window.__CRAFT_PAGE_STATE__;if(console.log("[Export Viewer] Estado recibido:",typeof e,e?typeof e=="string"?e.length+" chars":"object":"null"),!e)return;const n=Ry(e);r.deserialize(n)}catch(e){console.error("No se pudo deserializar el estado exportado",e);const n=document.createElement("div");n.style.cssText="position:fixed;inset:0;background:#fff;color:#b00020;padding:16px;font:14px system-ui;overflow:auto;",n.innerText="Error al deserializar el estado exportado. Revisa la consola.",document.body.appendChild(n)}},[r]),null}class bA extends be.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error rendering Viewer:",e,n)}render(){return this.state.hasError?a.jsxs("div",{style:{padding:16,color:"#b00020",fontFamily:"system-ui"},children:[a.jsx("h3",{children:"Ocurri un error al renderizar la pgina exportada"}),a.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(this.state.error)})]}):this.props.children}}function zy({mode:r}){const{actions:e}=Me(),{slug:n}=nT(),[o]=KT(),s=Ba(),[i,d]=L.useState(0);return L.useEffect(()=>{try{const f=typeof window<"u"&&window.__CRAFT_ROUTES__||null;if(!f)return;let p=null;if(r==="bySlug")p=n||"";else if(r==="byName"){const b=o.get("section")||"",j=(window.__CRAFT_SECTIONS__||[]).find(C=>(C.name||"").toLowerCase()===b.toLowerCase());p=j?j.slug:""}if(!p)return;const m=f[p];if(!m)return;const v=Ry(m);e.deserialize(v)}catch(f){console.error("No se pudo deserializar la ruta actual",f)}},[e,r,n,o]),L.useEffect(()=>{d(f=>f+1)},[s.pathname,s.search]),a.jsx("div",{className:"route-wrapper fadeIn",style:{width:"100%",maxWidth:"none",margin:0,minHeight:"100vh",background:Ch},children:a.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"16px 0"},children:a.jsx("div",{style:{width:Vs,minHeight:Ks,position:"relative",overflow:"visible"},children:a.jsx(ix,{children:a.jsx(xe,{is:ra,padding:10,targetWidth:Vs,targetHeight:Ks,canvas:!0})})})})},i)}function xA(){const[r,e]=L.useState(!1);L.useEffect(()=>{e(!0)},[]);const n=typeof window<"u"&&!!window.__CRAFT_ROUTES__,o=typeof window<"u"&&window.__CRAFT_START_ROUTE__||"/";return L.useEffect(()=>{n&&typeof window<"u"&&window.__CRAFT_ROUTES__&&gA(window.__CRAFT_ROUTES__)},[n]),a.jsx(bA,{children:a.jsxs(y_,{enabled:!1,resolver:mA,children:[!n&&a.jsx(vA,{}),n?a.jsxs(xT,{children:[a.jsx(Kl,{path:"/",element:a.jsx(vT,{to:o,replace:!0})}),a.jsx(Kl,{path:"/editor",element:a.jsx(zy,{mode:"byName"})}),a.jsx(Kl,{path:":slug",element:a.jsx(zy,{mode:"bySlug"})}),a.jsx(Kl,{path:"*",element:a.jsx("div",{style:{padding:16},children:"No encontrada"})})]}):a.jsxs("div",{className:"route-wrapper fadeIn",style:{width:"100%",maxWidth:"none",margin:0,minHeight:"100vh",background:Ch},children:[!r&&a.jsx("div",{style:{padding:16},children:"Cargando"}),a.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"16px 0"},children:a.jsx("div",{style:{width:Vs,minHeight:Ks,position:"relative",overflow:"visible"},children:a.jsx(ix,{children:a.jsx(xe,{is:ra,padding:10,targetWidth:Vs,targetHeight:Ks,canvas:!0})})})})]})]})})}(()=>{const r=document.getElementById("root");if(!r)return;try{document.body.style.margin="0",document.body.style.backgroundColor=Ch}catch{}qC.createRoot(r).render(a.jsx(YT,{children:a.jsx(xA,{})}))})()})();
